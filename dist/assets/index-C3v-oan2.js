function HC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function bT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hp={exports:{}},Kl={},Wp={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function WC(){if(Tx)return Ve;Tx=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,C={};function b(L,Z,ye){this.props=L,this.context=Z,this.refs=C,this.updater=ye||E}b.prototype.isReactComponent={},b.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function j(){}j.prototype=b.prototype;function U(L,Z,ye){this.props=L,this.context=Z,this.refs=C,this.updater=ye||E}var B=U.prototype=new j;B.constructor=U,P(B,b.prototype),B.isPureReactComponent=!0;var H=Array.isArray,W=Object.prototype.hasOwnProperty,G={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(L,Z,ye){var Ne,De={},Ue=null,We=null;if(Z!=null)for(Ne in Z.ref!==void 0&&(We=Z.ref),Z.key!==void 0&&(Ue=""+Z.key),Z)W.call(Z,Ne)&&!k.hasOwnProperty(Ne)&&(De[Ne]=Z[Ne]);var qe=arguments.length-2;if(qe===1)De.children=ye;else if(1<qe){for(var Ye=Array(qe),Dt=0;Dt<qe;Dt++)Ye[Dt]=arguments[Dt+2];De.children=Ye}if(L&&L.defaultProps)for(Ne in qe=L.defaultProps,qe)De[Ne]===void 0&&(De[Ne]=qe[Ne]);return{$$typeof:n,type:L,key:Ue,ref:We,props:De,_owner:G.current}}function R(L,Z){return{$$typeof:n,type:L.type,key:Z,ref:L.ref,props:L.props,_owner:L._owner}}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function F(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ye){return Z[ye]})}var z=/\/+/g;function D(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?F(""+L.key):Z.toString(36)}function he(L,Z,ye,Ne,De){var Ue=typeof L;(Ue==="undefined"||Ue==="boolean")&&(L=null);var We=!1;if(L===null)We=!0;else switch(Ue){case"string":case"number":We=!0;break;case"object":switch(L.$$typeof){case n:case e:We=!0}}if(We)return We=L,De=De(We),L=Ne===""?"."+D(We,0):Ne,H(De)?(ye="",L!=null&&(ye=L.replace(z,"$&/")+"/"),he(De,Z,ye,"",function(Dt){return Dt})):De!=null&&(M(De)&&(De=R(De,ye+(!De.key||We&&We.key===De.key?"":(""+De.key).replace(z,"$&/")+"/")+L)),Z.push(De)),1;if(We=0,Ne=Ne===""?".":Ne+":",H(L))for(var qe=0;qe<L.length;qe++){Ue=L[qe];var Ye=Ne+D(Ue,qe);We+=he(Ue,Z,ye,Ye,De)}else if(Ye=x(L),typeof Ye=="function")for(L=Ye.call(L),qe=0;!(Ue=L.next()).done;)Ue=Ue.value,Ye=Ne+D(Ue,qe++),We+=he(Ue,Z,ye,Ye,De);else if(Ue==="object")throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return We}function Me(L,Z,ye){if(L==null)return L;var Ne=[],De=0;return he(L,Ne,"","",function(Ue){return Z.call(ye,Ue,De++)}),Ne}function pe(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(ye){(L._status===0||L._status===-1)&&(L._status=1,L._result=ye)},function(ye){(L._status===0||L._status===-1)&&(L._status=2,L._result=ye)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var ue={current:null},J={transition:null},le={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:J,ReactCurrentOwner:G};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Me,forEach:function(L,Z,ye){Me(L,function(){Z.apply(this,arguments)},ye)},count:function(L){var Z=0;return Me(L,function(){Z++}),Z},toArray:function(L){return Me(L,function(Z){return Z})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ve.Component=b,Ve.Fragment=t,Ve.Profiler=s,Ve.PureComponent=U,Ve.StrictMode=r,Ve.Suspense=d,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ve.act=ie,Ve.cloneElement=function(L,Z,ye){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ne=P({},L.props),De=L.key,Ue=L.ref,We=L._owner;if(Z!=null){if(Z.ref!==void 0&&(Ue=Z.ref,We=G.current),Z.key!==void 0&&(De=""+Z.key),L.type&&L.type.defaultProps)var qe=L.type.defaultProps;for(Ye in Z)W.call(Z,Ye)&&!k.hasOwnProperty(Ye)&&(Ne[Ye]=Z[Ye]===void 0&&qe!==void 0?qe[Ye]:Z[Ye])}var Ye=arguments.length-2;if(Ye===1)Ne.children=ye;else if(1<Ye){qe=Array(Ye);for(var Dt=0;Dt<Ye;Dt++)qe[Dt]=arguments[Dt+2];Ne.children=qe}return{$$typeof:n,type:L.type,key:De,ref:Ue,props:Ne,_owner:We}},Ve.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Ve.createElement=I,Ve.createFactory=function(L){var Z=I.bind(null,L);return Z.type=L,Z},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:c,render:L}},Ve.isValidElement=M,Ve.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:pe}},Ve.memo=function(L,Z){return{$$typeof:p,type:L,compare:Z===void 0?null:Z}},Ve.startTransition=function(L){var Z=J.transition;J.transition={};try{L()}finally{J.transition=Z}},Ve.unstable_act=ie,Ve.useCallback=function(L,Z){return ue.current.useCallback(L,Z)},Ve.useContext=function(L){return ue.current.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L){return ue.current.useDeferredValue(L)},Ve.useEffect=function(L,Z){return ue.current.useEffect(L,Z)},Ve.useId=function(){return ue.current.useId()},Ve.useImperativeHandle=function(L,Z,ye){return ue.current.useImperativeHandle(L,Z,ye)},Ve.useInsertionEffect=function(L,Z){return ue.current.useInsertionEffect(L,Z)},Ve.useLayoutEffect=function(L,Z){return ue.current.useLayoutEffect(L,Z)},Ve.useMemo=function(L,Z){return ue.current.useMemo(L,Z)},Ve.useReducer=function(L,Z,ye){return ue.current.useReducer(L,Z,ye)},Ve.useRef=function(L){return ue.current.useRef(L)},Ve.useState=function(L){return ue.current.useState(L)},Ve.useSyncExternalStore=function(L,Z,ye){return ue.current.useSyncExternalStore(L,Z,ye)},Ve.useTransition=function(){return ue.current.useTransition()},Ve.version="18.3.1",Ve}var Ex;function Fu(){return Ex||(Ex=1,Wp.exports=WC()),Wp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function qC(){if(Sx)return Kl;Sx=1;var n=Fu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,v={},x=null,E=null;p!==void 0&&(x=""+p),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:c,key:x,ref:E,props:v,_owner:s.current}}return Kl.Fragment=t,Kl.jsx=l,Kl.jsxs=l,Kl}var bx;function KC(){return bx||(bx=1,Hp.exports=qC()),Hp.exports}var y=KC(),V=Fu();const Cg=bT(V),GC=HC({__proto__:null,default:Cg},[V]);var xh={},qp={exports:{}},gn={},Kp={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function QC(){return Ix||(Ix=1,(function(n){function e(J,le){var ie=J.length;J.push(le);e:for(;0<ie;){var L=ie-1>>>1,Z=J[L];if(0<s(Z,le))J[L]=le,J[ie]=Z,ie=L;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],ie=J.pop();if(ie!==le){J[0]=ie;e:for(var L=0,Z=J.length,ye=Z>>>1;L<ye;){var Ne=2*(L+1)-1,De=J[Ne],Ue=Ne+1,We=J[Ue];if(0>s(De,ie))Ue<Z&&0>s(We,De)?(J[L]=We,J[Ue]=ie,L=Ue):(J[L]=De,J[Ne]=ie,L=Ne);else if(Ue<Z&&0>s(We,ie))J[L]=We,J[Ue]=ie,L=Ue;else break e}}return le}function s(J,le){var ie=J.sortIndex-le.sortIndex;return ie!==0?ie:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,v=null,x=3,E=!1,P=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(J){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=J)r(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=t(p)}}function H(J){if(C=!1,B(J),!P)if(t(d)!==null)P=!0,pe(W);else{var le=t(p);le!==null&&ue(H,le.startTime-J)}}function W(J,le){P=!1,C&&(C=!1,j(I),I=-1),E=!0;var ie=x;try{for(B(le),v=t(d);v!==null&&(!(v.expirationTime>le)||J&&!F());){var L=v.callback;if(typeof L=="function"){v.callback=null,x=v.priorityLevel;var Z=L(v.expirationTime<=le);le=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(d)&&r(d),B(le)}else r(d);v=t(d)}if(v!==null)var ye=!0;else{var Ne=t(p);Ne!==null&&ue(H,Ne.startTime-le),ye=!1}return ye}finally{v=null,x=ie,E=!1}}var G=!1,k=null,I=-1,R=5,M=-1;function F(){return!(n.unstable_now()-M<R)}function z(){if(k!==null){var J=n.unstable_now();M=J;var le=!0;try{le=k(!0,J)}finally{le?D():(G=!1,k=null)}}else G=!1}var D;if(typeof U=="function")D=function(){U(z)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Me=he.port2;he.port1.onmessage=z,D=function(){Me.postMessage(null)}}else D=function(){b(z,0)};function pe(J){k=J,G||(G=!0,D())}function ue(J,le){I=b(function(){J(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){P||E||(P=!0,pe(W))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(J){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ie=x;x=le;try{return J()}finally{x=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ie=x;x=J;try{return le()}finally{x=ie}},n.unstable_scheduleCallback=function(J,le,ie){var L=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?L+ie:L):ie=L,J){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ie+Z,J={id:m++,callback:le,priorityLevel:J,startTime:ie,expirationTime:Z,sortIndex:-1},ie>L?(J.sortIndex=ie,e(p,J),t(d)===null&&J===t(p)&&(C?(j(I),I=-1):C=!0,ue(H,ie-L))):(J.sortIndex=Z,e(d,J),P||E||(P=!0,pe(W))),J},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(J){var le=x;return function(){var ie=x;x=le;try{return J.apply(this,arguments)}finally{x=ie}}}})(Gp)),Gp}var Ax;function YC(){return Ax||(Ax=1,Kp.exports=QC()),Kp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function XC(){if(Cx)return gn;Cx=1;var n=Fu(),e=YC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function x(i){return d.call(v,i)?!0:d.call(m,i)?!1:p.test(i)?v[i]=!0:(m[i]=!0,!1)}function E(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,u,f){if(o===null||typeof o>"u"||E(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(i,o,u,f,g,_,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new C(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,U);b[o]=new C(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,U);b[o]=new C(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,U);b[o]=new C(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,u,f){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,g,f)&&(u=null),f||g===null?x(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),G=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,L;function Z(i){if(L===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+i}var ye=!1;function Ne(i,o){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){f=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}i()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),_=f.stack.split(`
`),S=g.length-1,N=_.length-1;1<=S&&0<=N&&g[S]!==_[N];)N--;for(;1<=S&&0<=N;S--,N--)if(g[S]!==_[N]){if(S!==1||N!==1)do if(S--,N--,0>N||g[S]!==_[N]){var O=`
`+g[S].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=S&&0<=N);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function De(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Ne(i.type,!1),i;case 11:return i=Ne(i.type.render,!1),i;case 1:return i=Ne(i.type,!0),i;default:return""}}function Ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case G:return"Portal";case R:return"Profiler";case I:return"StrictMode";case D:return"Suspense";case he:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Me:return o=i.displayName||null,o!==null?o:Ue(i.type)||"Memo";case pe:o=i._payload,i=i._init;try{return Ue(i(o))}catch{}}return null}function We(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function qe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Dt(i){var o=Ye(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,_.call(this,S)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Kr(i){i._valueTracker||(i._valueTracker=Dt(i))}function Eo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Ye(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function bs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function _i(i,o){var u=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function So(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=qe(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Za(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function el(i,o){Za(i,o);var u=qe(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?bo(i,o.type,u):o.hasOwnProperty("defaultValue")&&bo(i,o.type,qe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function sc(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function bo(i,o,u){(o!=="number"||bs(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Gr=Array.isArray;function Qr(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+qe(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function tl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Io(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Gr(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:qe(u)}}function Ao(i,o){var u=qe(o.value),f=qe(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function nl(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function It(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?It(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Yr,rl=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Yr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Is(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ei=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(i){Ei.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ti[o]=Ti[i]})});function sl(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ti.hasOwnProperty(i)&&Ti[i]?(""+o).trim():o+"px"}function il(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=sl(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var ol=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function al(i,o){if(o){if(ol[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ll(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function Co(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Po=null,Dn=null,wr=null;function ko(i){if(i=Nl(i)){if(typeof Po!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Mc(o),Po(i.stateNode,i.type,o))}}function _r(i){Dn?wr?wr.push(i):wr=[i]:Dn=i}function ul(){if(Dn){var i=Dn,o=wr;if(wr=Dn=null,ko(i),o)for(i=0;i<o.length;i++)ko(o[i])}}function bi(i,o){return i(o)}function cl(){}var Xr=!1;function hl(i,o,u){if(Xr)return i(o,u);Xr=!0;try{return bi(i,o,u)}finally{Xr=!1,(Dn!==null||wr!==null)&&(cl(),ul())}}function pt(i,o){var u=i.stateNode;if(u===null)return null;var f=Mc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Ro=!1;if(c)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Ro=!1}function Ii(i,o,u,f,g,_,S,N,O){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(u,Y)}catch(re){this.onError(re)}}var Ai=!1,No=null,Xn=!1,dl=null,vf={onError:function(i){Ai=!0,No=i}};function Do(i,o,u,f,g,_,S,N,O){Ai=!1,No=null,Ii.apply(vf,arguments)}function ic(i,o,u,f,g,_,S,N,O){if(Do.apply(this,arguments),Ai){if(Ai){var Y=No;Ai=!1,No=null}else throw Error(t(198));Xn||(Xn=!0,dl=Y)}}function Jn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ci(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Zn(i){if(Jn(i)!==i)throw Error(t(188))}function oc(i){var o=i.alternate;if(!o){if(o=Jn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return Zn(g),i;if(_===f)return Zn(g),o;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=g,f=_;else{for(var S=!1,N=g.child;N;){if(N===u){S=!0,u=g,f=_;break}if(N===f){S=!0,f=g,u=_;break}N=N.sibling}if(!S){for(N=_.child;N;){if(N===u){S=!0,u=_,f=g;break}if(N===f){S=!0,f=_,u=g;break}N=N.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function fl(i){return i=oc(i),i!==null?Mo(i):null}function Mo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Mo(i);if(o!==null)return o;i=i.sibling}return null}var Vo=e.unstable_scheduleCallback,pl=e.unstable_cancelCallback,ac=e.unstable_shouldYield,xf=e.unstable_requestPaint,Xe=e.unstable_now,lc=e.unstable_getCurrentPriorityLevel,Pi=e.unstable_ImmediatePriority,As=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,ml=e.unstable_LowPriority,uc=e.unstable_IdlePriority,ki=null,_n=null;function cc(i){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(ki,i,void 0,(i.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:dc,gl=Math.log,hc=Math.LN2;function dc(i){return i>>>=0,i===0?32:31-(gl(i)/hc|0)|0}var Lo=64,Oo=4194304;function Cs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ri(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,_=i.pingedLanes,S=u&268435455;if(S!==0){var N=S&~g;N!==0?f=Cs(N):(_&=S,_!==0&&(f=Cs(_)))}else S=u&~g,S!==0?f=Cs(S):_!==0&&(f=Cs(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-sn(o),g=1<<u,f|=i[u],o&=~g;return f}function wf(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes;0<_;){var S=31-sn(_),N=1<<S,O=g[S];O===-1?((N&u)===0||(N&f)!==0)&&(g[S]=wf(N,o)):O<=o&&(i.expiredLanes|=N),_&=~N}}function Tn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ni(){var i=Lo;return Lo<<=1,(Lo&4194240)===0&&(Lo=64),i}function Ps(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ks(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-sn(o),i[o]=u}function Qe(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-sn(u),_=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~_}}function Rs(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-sn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Fe=0;function Ns(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var fc,jo,pc,mc,gc,yl=!1,Tr=[],Ft=null,er=null,tr=null,Ds=new Map,Vn=new Map,Er=[],_f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(i,o){switch(i){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ds.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(o.pointerId)}}function un(i,o,u,f,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Nl(o),o!==null&&jo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Tf(i,o,u,f,g){switch(o){case"focusin":return Ft=un(Ft,i,o,u,f,g),!0;case"dragenter":return er=un(er,i,o,u,f,g),!0;case"mouseover":return tr=un(tr,i,o,u,f,g),!0;case"pointerover":var _=g.pointerId;return Ds.set(_,un(Ds.get(_)||null,i,o,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Vn.set(_,un(Vn.get(_)||null,i,o,u,f,g)),!0}return!1}function vc(i){var o=Oi(i.target);if(o!==null){var u=Jn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ci(u),o!==null){i.blockedOn=o,gc(i.priority,function(){pc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Fo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Si=f,u.target.dispatchEvent(f),Si=null}else return o=Nl(u),o!==null&&jo(o),i.blockedOn=u,!1;o.shift()}return!0}function Di(i,o,u){Zr(i)&&u.delete(o)}function xc(){yl=!1,Ft!==null&&Zr(Ft)&&(Ft=null),er!==null&&Zr(er)&&(er=null),tr!==null&&Zr(tr)&&(tr=null),Ds.forEach(Di),Vn.forEach(Di)}function nr(i,o){i.blockedOn===o&&(i.blockedOn=null,yl||(yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xc)))}function rr(i){function o(g){return nr(g,i)}if(0<Tr.length){nr(Tr[0],i);for(var u=1;u<Tr.length;u++){var f=Tr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Ft!==null&&nr(Ft,i),er!==null&&nr(er,i),tr!==null&&nr(tr,i),Ds.forEach(o),Vn.forEach(o),u=0;u<Er.length;u++)f=Er[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Er.length&&(u=Er[0],u.blockedOn===null);)vc(u),u.blockedOn===null&&Er.shift()}var es=H.ReactCurrentBatchConfig,Ms=!0;function it(i,o,u,f){var g=Fe,_=es.transition;es.transition=null;try{Fe=1,vl(i,o,u,f)}finally{Fe=g,es.transition=_}}function Ef(i,o,u,f){var g=Fe,_=es.transition;es.transition=null;try{Fe=4,vl(i,o,u,f)}finally{Fe=g,es.transition=_}}function vl(i,o,u,f){if(Ms){var g=Fo(i,o,u,f);if(g===null)Mf(i,o,f,Mi,u),yc(i,f);else if(Tf(g,i,o,u,f))f.stopPropagation();else if(yc(i,f),o&4&&-1<_f.indexOf(i)){for(;g!==null;){var _=Nl(g);if(_!==null&&fc(_),_=Fo(i,o,u,f),_===null&&Mf(i,o,f,Mi,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else Mf(i,o,f,null,u)}}var Mi=null;function Fo(i,o,u,f){if(Mi=null,i=Co(f),i=Oi(i),i!==null)if(o=Jn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ci(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Mi=i,null}function xl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lc()){case Pi:return 1;case As:return 4;case Mn:case ml:return 16;case uc:return 536870912;default:return 16}default:return 16}}var En=null,Uo=null,cn=null;function wl(){if(cn)return cn;var i,o=Uo,u=o.length,f,g="value"in En?En.value:En.textContent,_=g.length;for(i=0;i<u&&o[i]===g[i];i++);var S=u-i;for(f=1;f<=S&&o[u-f]===g[_-f];f++);return cn=g.slice(i,1<f?1-f:void 0)}function $o(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Sr(){return!0}function _l(){return!1}function Ut(i){function o(u,f,g,_,S){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Sr:_l,this.isPropagationStopped=_l,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),o}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Ut(sr),br=ie({},sr,{view:0,detail:0}),Sf=Ut(br),zo,ts,Vs,Vi=ie({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vs&&(Vs&&i.type==="mousemove"?(zo=i.screenX-Vs.screenX,ts=i.screenY-Vs.screenY):ts=zo=0,Vs=i),zo)},movementY:function(i){return"movementY"in i?i.movementY:ts}}),Ho=Ut(Vi),Tl=ie({},Vi,{dataTransfer:0}),wc=Ut(Tl),Wo=ie({},br,{relatedTarget:0}),qo=Ut(Wo),_c=ie({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),ns=Ut(_c),Tc=ie({},sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ec=Ut(Tc),Sc=ie({},sr,{data:0}),El=Ut(Sc),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ic(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=bc[i])?!!o[i]:!1}function Ir(){return Ic}var h=ie({},br,{key:function(i){if(i.key){var o=Ko[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=$o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?on[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(i){return i.type==="keypress"?$o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),w=Ut(h),T=ie({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Ut(T),q=ie({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),X=Ut(q),ae=ie({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Ut(ae),Ct=ie({},Vi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Ut(Ct),Mt=[9,13,27,32],xt=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Sn=c&&"TextEvent"in window&&!Ln,Li=c&&(!xt||Ln&&8<Ln&&11>=Ln),Go=" ",g0=!1;function y0(i,o){switch(i){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qo=!1;function $A(i,o){switch(i){case"compositionend":return v0(o);case"keypress":return o.which!==32?null:(g0=!0,Go);case"textInput":return i=o.data,i===Go&&g0?null:i;default:return null}}function BA(i,o){if(Qo)return i==="compositionend"||!xt&&y0(i,o)?(i=wl(),cn=Uo=En=null,Qo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Li&&o.locale!=="ko"?null:o.data;default:return null}}var zA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!zA[i.type]:o==="textarea"}function w0(i,o,u,f){_r(f),o=Rc(o,"onChange"),0<o.length&&(u=new Bo("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Sl=null,bl=null;function HA(i){j0(i,0)}function Ac(i){var o=ea(i);if(Eo(o))return i}function WA(i,o){if(i==="change")return o}var _0=!1;if(c){var bf;if(c){var If="oninput"in document;if(!If){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),If=typeof T0.oninput=="function"}bf=If}else bf=!1;_0=bf&&(!document.documentMode||9<document.documentMode)}function E0(){Sl&&(Sl.detachEvent("onpropertychange",S0),bl=Sl=null)}function S0(i){if(i.propertyName==="value"&&Ac(bl)){var o=[];w0(o,bl,i,Co(i)),hl(HA,o)}}function qA(i,o,u){i==="focusin"?(E0(),Sl=o,bl=u,Sl.attachEvent("onpropertychange",S0)):i==="focusout"&&E0()}function KA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ac(bl)}function GA(i,o){if(i==="click")return Ac(o)}function QA(i,o){if(i==="input"||i==="change")return Ac(o)}function YA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ir=typeof Object.is=="function"?Object.is:YA;function Il(i,o){if(ir(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(o,g)||!ir(i[g],o[g]))return!1}return!0}function b0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function I0(i,o){var u=b0(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=b0(u)}}function A0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?A0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function C0(){for(var i=window,o=bs();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=bs(i.document)}return o}function Af(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function XA(i){var o=C0(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&A0(u.ownerDocument.documentElement,u)){if(f!==null&&Af(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!i.extend&&_>f&&(g=f,f=_,_=g),g=I0(u,_);var S=I0(u,f);g&&S&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),_>f?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var JA=c&&"documentMode"in document&&11>=document.documentMode,Yo=null,Cf=null,Al=null,Pf=!1;function P0(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Pf||Yo==null||Yo!==bs(f)||(f=Yo,"selectionStart"in f&&Af(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Al&&Il(Al,f)||(Al=f,f=Rc(Cf,"onSelect"),0<f.length&&(o=new Bo("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Yo)))}function Cc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Xo={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},kf={},k0={};c&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Pc(i){if(kf[i])return kf[i];if(!Xo[i])return i;var o=Xo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in k0)return kf[i]=o[u];return i}var R0=Pc("animationend"),N0=Pc("animationiteration"),D0=Pc("animationstart"),M0=Pc("transitionend"),V0=new Map,L0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(i,o){V0.set(i,o),a(o,[i])}for(var Rf=0;Rf<L0.length;Rf++){var Nf=L0[Rf],ZA=Nf.toLowerCase(),eC=Nf[0].toUpperCase()+Nf.slice(1);Ls(ZA,"on"+eC)}Ls(R0,"onAnimationEnd"),Ls(N0,"onAnimationIteration"),Ls(D0,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(M0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function O0(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,ic(f,o,void 0,i),i.currentTarget=null}function j0(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var S=f.length-1;0<=S;S--){var N=f[S],O=N.instance,Y=N.currentTarget;if(N=N.listener,O!==_&&g.isPropagationStopped())break e;O0(g,N,Y),_=O}else for(S=0;S<f.length;S++){if(N=f[S],O=N.instance,Y=N.currentTarget,N=N.listener,O!==_&&g.isPropagationStopped())break e;O0(g,N,Y),_=O}}}if(Xn)throw i=dl,Xn=!1,dl=null,i}function tt(i,o){var u=o[Uf];u===void 0&&(u=o[Uf]=new Set);var f=i+"__bubble";u.has(f)||(F0(o,i,2,!1),u.add(f))}function Df(i,o,u){var f=0;o&&(f|=4),F0(u,i,f,o)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Pl(i){if(!i[kc]){i[kc]=!0,r.forEach(function(u){u!=="selectionchange"&&(tC.has(u)||Df(u,!1,i),Df(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[kc]||(o[kc]=!0,Df("selectionchange",!1,o))}}function F0(i,o,u,f){switch(xl(o)){case 1:var g=it;break;case 4:g=Ef;break;default:g=vl}u=g.bind(null,o,u,i),g=void 0,!Ro||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function Mf(i,o,u,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var N=f.stateNode.containerInfo;if(N===g||N.nodeType===8&&N.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var O=S.tag;if((O===3||O===4)&&(O=S.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;S=S.return}for(;N!==null;){if(S=Oi(N),S===null)return;if(O=S.tag,O===5||O===6){f=_=S;continue e}N=N.parentNode}}f=f.return}hl(function(){var Y=_,re=Co(u),se=[];e:{var ne=V0.get(i);if(ne!==void 0){var de=Bo,ge=i;switch(i){case"keypress":if($o(u)===0)break e;case"keydown":case"keyup":de=w;break;case"focusin":ge="focus",de=qo;break;case"focusout":ge="blur",de=qo;break;case"beforeblur":case"afterblur":de=qo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=X;break;case R0:case N0:case D0:de=ns;break;case M0:de=Ge;break;case"scroll":de=Sf;break;case"wheel":de=$e;break;case"copy":case"cut":case"paste":de=Ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=A}var ve=(o&4)!==0,mt=!ve&&i==="scroll",K=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var $=Y,Q;$!==null;){Q=$;var oe=Q.stateNode;if(Q.tag===5&&oe!==null&&(Q=oe,K!==null&&(oe=pt($,K),oe!=null&&ve.push(kl($,oe,Q)))),mt)break;$=$.return}0<ve.length&&(ne=new de(ne,ge,null,u,re),se.push({event:ne,listeners:ve}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ne&&u!==Si&&(ge=u.relatedTarget||u.fromElement)&&(Oi(ge)||ge[rs]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(ge=u.relatedTarget||u.toElement,de=Y,ge=ge?Oi(ge):null,ge!==null&&(mt=Jn(ge),ge!==mt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=Y),de!==ge)){if(ve=Ho,oe="onMouseLeave",K="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(ve=A,oe="onPointerLeave",K="onPointerEnter",$="pointer"),mt=de==null?ne:ea(de),Q=ge==null?ne:ea(ge),ne=new ve(oe,$+"leave",de,u,re),ne.target=mt,ne.relatedTarget=Q,oe=null,Oi(re)===Y&&(ve=new ve(K,$+"enter",ge,u,re),ve.target=Q,ve.relatedTarget=mt,oe=ve),mt=oe,de&&ge)t:{for(ve=de,K=ge,$=0,Q=ve;Q;Q=Jo(Q))$++;for(Q=0,oe=K;oe;oe=Jo(oe))Q++;for(;0<$-Q;)ve=Jo(ve),$--;for(;0<Q-$;)K=Jo(K),Q--;for(;$--;){if(ve===K||K!==null&&ve===K.alternate)break t;ve=Jo(ve),K=Jo(K)}ve=null}else ve=null;de!==null&&U0(se,ne,de,ve,!1),ge!==null&&mt!==null&&U0(se,mt,ge,ve,!0)}}e:{if(ne=Y?ea(Y):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var xe=WA;else if(x0(ne))if(_0)xe=QA;else{xe=KA;var Te=qA}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(xe=GA);if(xe&&(xe=xe(i,Y))){w0(se,xe,u,re);break e}Te&&Te(i,ne,Y),i==="focusout"&&(Te=ne._wrapperState)&&Te.controlled&&ne.type==="number"&&bo(ne,"number",ne.value)}switch(Te=Y?ea(Y):window,i){case"focusin":(x0(Te)||Te.contentEditable==="true")&&(Yo=Te,Cf=Y,Al=null);break;case"focusout":Al=Cf=Yo=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,P0(se,u,re);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":P0(se,u,re)}var Ee;if(xt)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Qo?y0(i,u)&&(Ie="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(Li&&u.locale!=="ko"&&(Qo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Qo&&(Ee=wl()):(En=re,Uo="value"in En?En.value:En.textContent,Qo=!0)),Te=Rc(Y,Ie),0<Te.length&&(Ie=new El(Ie,i,null,u,re),se.push({event:Ie,listeners:Te}),Ee?Ie.data=Ee:(Ee=v0(u),Ee!==null&&(Ie.data=Ee)))),(Ee=Sn?$A(i,u):BA(i,u))&&(Y=Rc(Y,"onBeforeInput"),0<Y.length&&(re=new El("onBeforeInput","beforeinput",null,u,re),se.push({event:re,listeners:Y}),re.data=Ee))}j0(se,o)})}function kl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Rc(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=pt(i,u),_!=null&&f.unshift(kl(i,_,g)),_=pt(i,o),_!=null&&f.push(kl(i,_,g))),i=i.return}return f}function Jo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function U0(i,o,u,f,g){for(var _=o._reactName,S=[];u!==null&&u!==f;){var N=u,O=N.alternate,Y=N.stateNode;if(O!==null&&O===f)break;N.tag===5&&Y!==null&&(N=Y,g?(O=pt(u,_),O!=null&&S.unshift(kl(u,O,N))):g||(O=pt(u,_),O!=null&&S.push(kl(u,O,N)))),u=u.return}S.length!==0&&i.push({event:o,listeners:S})}var nC=/\r\n?/g,rC=/\u0000|\uFFFD/g;function $0(i){return(typeof i=="string"?i:""+i).replace(nC,`
`).replace(rC,"")}function Nc(i,o,u){if(o=$0(o),$0(i)!==o&&u)throw Error(t(425))}function Dc(){}var Vf=null,Lf=null;function Of(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jf=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(i){return B0.resolve(null).then(i).catch(oC)}:jf;function oC(i){setTimeout(function(){throw i})}function Ff(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),rr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);rr(o)}function Os(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function z0(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Zo,Rl="__reactProps$"+Zo,rs="__reactContainer$"+Zo,Uf="__reactEvents$"+Zo,aC="__reactListeners$"+Zo,lC="__reactHandles$"+Zo;function Oi(i){var o=i[Ar];if(o)return o;for(var u=i.parentNode;u;){if(o=u[rs]||u[Ar]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=z0(i);i!==null;){if(u=i[Ar])return u;i=z0(i)}return o}i=u,u=i.parentNode}return null}function Nl(i){return i=i[Ar]||i[rs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ea(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Mc(i){return i[Rl]||null}var $f=[],ta=-1;function js(i){return{current:i}}function nt(i){0>ta||(i.current=$f[ta],$f[ta]=null,ta--)}function Je(i,o){ta++,$f[ta]=i.current,i.current=o}var Fs={},Kt=js(Fs),hn=js(!1),ji=Fs;function na(i,o){var u=i.type.contextTypes;if(!u)return Fs;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function dn(i){return i=i.childContextTypes,i!=null}function Vc(){nt(hn),nt(Kt)}function H0(i,o,u){if(Kt.current!==Fs)throw Error(t(168));Je(Kt,o),Je(hn,u)}function W0(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,We(i)||"Unknown",g));return ie({},u,f)}function Lc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Fs,ji=Kt.current,Je(Kt,i),Je(hn,hn.current),!0}function q0(i,o,u){var f=i.stateNode;if(!f)throw Error(t(169));u?(i=W0(i,o,ji),f.__reactInternalMemoizedMergedChildContext=i,nt(hn),nt(Kt),Je(Kt,i)):nt(hn),Je(hn,u)}var ss=null,Oc=!1,Bf=!1;function K0(i){ss===null?ss=[i]:ss.push(i)}function uC(i){Oc=!0,K0(i)}function Us(){if(!Bf&&ss!==null){Bf=!0;var i=0,o=Fe;try{var u=ss;for(Fe=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}ss=null,Oc=!1}catch(g){throw ss!==null&&(ss=ss.slice(i+1)),Vo(Pi,Us),g}finally{Fe=o,Bf=!1}}return null}var ra=[],sa=0,jc=null,Fc=0,On=[],jn=0,Fi=null,is=1,os="";function Ui(i,o){ra[sa++]=Fc,ra[sa++]=jc,jc=i,Fc=o}function G0(i,o,u){On[jn++]=is,On[jn++]=os,On[jn++]=Fi,Fi=i;var f=is;i=os;var g=32-sn(f)-1;f&=~(1<<g),u+=1;var _=32-sn(o)+g;if(30<_){var S=g-g%5;_=(f&(1<<S)-1).toString(32),f>>=S,g-=S,is=1<<32-sn(o)+g|u<<g|f,os=_+i}else is=1<<_|u<<g|f,os=i}function zf(i){i.return!==null&&(Ui(i,1),G0(i,1,0))}function Hf(i){for(;i===jc;)jc=ra[--sa],ra[sa]=null,Fc=ra[--sa],ra[sa]=null;for(;i===Fi;)Fi=On[--jn],On[jn]=null,os=On[--jn],On[jn]=null,is=On[--jn],On[jn]=null}var bn=null,In=null,ot=!1,or=null;function Q0(i,o){var u=Bn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Y0(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,bn=i,In=Os(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,bn=i,In=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Fi!==null?{id:is,overflow:os}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Bn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,bn=i,In=null,!0):!1;default:return!1}}function Wf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function qf(i){if(ot){var o=In;if(o){var u=o;if(!Y0(i,o)){if(Wf(i))throw Error(t(418));o=Os(u.nextSibling);var f=bn;o&&Y0(i,o)?Q0(f,u):(i.flags=i.flags&-4097|2,ot=!1,bn=i)}}else{if(Wf(i))throw Error(t(418));i.flags=i.flags&-4097|2,ot=!1,bn=i}}}function X0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;bn=i}function Uc(i){if(i!==bn)return!1;if(!ot)return X0(i),ot=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Of(i.type,i.memoizedProps)),o&&(o=In)){if(Wf(i))throw J0(),Error(t(418));for(;o;)Q0(i,o),o=Os(o.nextSibling)}if(X0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){In=Os(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}In=null}}else In=bn?Os(i.stateNode.nextSibling):null;return!0}function J0(){for(var i=In;i;)i=Os(i.nextSibling)}function ia(){In=bn=null,ot=!1}function Kf(i){or===null?or=[i]:or.push(i)}var cC=H.ReactCurrentBatchConfig;function Dl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,i));var g=f,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(S){var N=g.refs;S===null?delete N[_]:N[_]=S},o._stringRef=_,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function $c(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Z0(i){var o=i._init;return o(i._payload)}function ev(i){function o(K,$){if(i){var Q=K.deletions;Q===null?(K.deletions=[$],K.flags|=16):Q.push($)}}function u(K,$){if(!i)return null;for(;$!==null;)o(K,$),$=$.sibling;return null}function f(K,$){for(K=new Map;$!==null;)$.key!==null?K.set($.key,$):K.set($.index,$),$=$.sibling;return K}function g(K,$){return K=Gs(K,$),K.index=0,K.sibling=null,K}function _(K,$,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<$?(K.flags|=2,$):Q):(K.flags|=2,$)):(K.flags|=1048576,$)}function S(K){return i&&K.alternate===null&&(K.flags|=2),K}function N(K,$,Q,oe){return $===null||$.tag!==6?($=jp(Q,K.mode,oe),$.return=K,$):($=g($,Q),$.return=K,$)}function O(K,$,Q,oe){var xe=Q.type;return xe===k?re(K,$,Q.props.children,oe,Q.key):$!==null&&($.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===pe&&Z0(xe)===$.type)?(oe=g($,Q.props),oe.ref=Dl(K,$,Q),oe.return=K,oe):(oe=hh(Q.type,Q.key,Q.props,null,K.mode,oe),oe.ref=Dl(K,$,Q),oe.return=K,oe)}function Y(K,$,Q,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Fp(Q,K.mode,oe),$.return=K,$):($=g($,Q.children||[]),$.return=K,$)}function re(K,$,Q,oe,xe){return $===null||$.tag!==7?($=Gi(Q,K.mode,oe,xe),$.return=K,$):($=g($,Q),$.return=K,$)}function se(K,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number")return $=jp(""+$,K.mode,Q),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case W:return Q=hh($.type,$.key,$.props,null,K.mode,Q),Q.ref=Dl(K,null,$),Q.return=K,Q;case G:return $=Fp($,K.mode,Q),$.return=K,$;case pe:var oe=$._init;return se(K,oe($._payload),Q)}if(Gr($)||le($))return $=Gi($,K.mode,Q,null),$.return=K,$;$c(K,$)}return null}function ne(K,$,Q,oe){var xe=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return xe!==null?null:N(K,$,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===xe?O(K,$,Q,oe):null;case G:return Q.key===xe?Y(K,$,Q,oe):null;case pe:return xe=Q._init,ne(K,$,xe(Q._payload),oe)}if(Gr(Q)||le(Q))return xe!==null?null:re(K,$,Q,oe,null);$c(K,Q)}return null}function de(K,$,Q,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return K=K.get(Q)||null,N($,K,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case W:return K=K.get(oe.key===null?Q:oe.key)||null,O($,K,oe,xe);case G:return K=K.get(oe.key===null?Q:oe.key)||null,Y($,K,oe,xe);case pe:var Te=oe._init;return de(K,$,Q,Te(oe._payload),xe)}if(Gr(oe)||le(oe))return K=K.get(Q)||null,re($,K,oe,xe,null);$c($,oe)}return null}function ge(K,$,Q,oe){for(var xe=null,Te=null,Ee=$,Ie=$=0,Ot=null;Ee!==null&&Ie<Q.length;Ie++){Ee.index>Ie?(Ot=Ee,Ee=null):Ot=Ee.sibling;var He=ne(K,Ee,Q[Ie],oe);if(He===null){Ee===null&&(Ee=Ot);break}i&&Ee&&He.alternate===null&&o(K,Ee),$=_(He,$,Ie),Te===null?xe=He:Te.sibling=He,Te=He,Ee=Ot}if(Ie===Q.length)return u(K,Ee),ot&&Ui(K,Ie),xe;if(Ee===null){for(;Ie<Q.length;Ie++)Ee=se(K,Q[Ie],oe),Ee!==null&&($=_(Ee,$,Ie),Te===null?xe=Ee:Te.sibling=Ee,Te=Ee);return ot&&Ui(K,Ie),xe}for(Ee=f(K,Ee);Ie<Q.length;Ie++)Ot=de(Ee,K,Ie,Q[Ie],oe),Ot!==null&&(i&&Ot.alternate!==null&&Ee.delete(Ot.key===null?Ie:Ot.key),$=_(Ot,$,Ie),Te===null?xe=Ot:Te.sibling=Ot,Te=Ot);return i&&Ee.forEach(function(Qs){return o(K,Qs)}),ot&&Ui(K,Ie),xe}function ve(K,$,Q,oe){var xe=le(Q);if(typeof xe!="function")throw Error(t(150));if(Q=xe.call(Q),Q==null)throw Error(t(151));for(var Te=xe=null,Ee=$,Ie=$=0,Ot=null,He=Q.next();Ee!==null&&!He.done;Ie++,He=Q.next()){Ee.index>Ie?(Ot=Ee,Ee=null):Ot=Ee.sibling;var Qs=ne(K,Ee,He.value,oe);if(Qs===null){Ee===null&&(Ee=Ot);break}i&&Ee&&Qs.alternate===null&&o(K,Ee),$=_(Qs,$,Ie),Te===null?xe=Qs:Te.sibling=Qs,Te=Qs,Ee=Ot}if(He.done)return u(K,Ee),ot&&Ui(K,Ie),xe;if(Ee===null){for(;!He.done;Ie++,He=Q.next())He=se(K,He.value,oe),He!==null&&($=_(He,$,Ie),Te===null?xe=He:Te.sibling=He,Te=He);return ot&&Ui(K,Ie),xe}for(Ee=f(K,Ee);!He.done;Ie++,He=Q.next())He=de(Ee,K,Ie,He.value,oe),He!==null&&(i&&He.alternate!==null&&Ee.delete(He.key===null?Ie:He.key),$=_(He,$,Ie),Te===null?xe=He:Te.sibling=He,Te=He);return i&&Ee.forEach(function(zC){return o(K,zC)}),ot&&Ui(K,Ie),xe}function mt(K,$,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var xe=Q.key,Te=$;Te!==null;){if(Te.key===xe){if(xe=Q.type,xe===k){if(Te.tag===7){u(K,Te.sibling),$=g(Te,Q.props.children),$.return=K,K=$;break e}}else if(Te.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===pe&&Z0(xe)===Te.type){u(K,Te.sibling),$=g(Te,Q.props),$.ref=Dl(K,Te,Q),$.return=K,K=$;break e}u(K,Te);break}else o(K,Te);Te=Te.sibling}Q.type===k?($=Gi(Q.props.children,K.mode,oe,Q.key),$.return=K,K=$):(oe=hh(Q.type,Q.key,Q.props,null,K.mode,oe),oe.ref=Dl(K,$,Q),oe.return=K,K=oe)}return S(K);case G:e:{for(Te=Q.key;$!==null;){if($.key===Te)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){u(K,$.sibling),$=g($,Q.children||[]),$.return=K,K=$;break e}else{u(K,$);break}else o(K,$);$=$.sibling}$=Fp(Q,K.mode,oe),$.return=K,K=$}return S(K);case pe:return Te=Q._init,mt(K,$,Te(Q._payload),oe)}if(Gr(Q))return ge(K,$,Q,oe);if(le(Q))return ve(K,$,Q,oe);$c(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,$!==null&&$.tag===6?(u(K,$.sibling),$=g($,Q),$.return=K,K=$):(u(K,$),$=jp(Q,K.mode,oe),$.return=K,K=$),S(K)):u(K,$)}return mt}var oa=ev(!0),tv=ev(!1),Bc=js(null),zc=null,aa=null,Gf=null;function Qf(){Gf=aa=zc=null}function Yf(i){var o=Bc.current;nt(Bc),i._currentValue=o}function Xf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function la(i,o){zc=i,Gf=aa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(fn=!0),i.firstContext=null)}function Fn(i){var o=i._currentValue;if(Gf!==i)if(i={context:i,memoizedValue:o,next:null},aa===null){if(zc===null)throw Error(t(308));aa=i,zc.dependencies={lanes:0,firstContext:i}}else aa=aa.next=i;return o}var $i=null;function Jf(i){$i===null?$i=[i]:$i.push(i)}function nv(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Jf(o)):(u.next=g.next,g.next=u),o.interleaved=u,as(i,f)}function as(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var $s=!1;function Zf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ls(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Bs(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(ze&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,as(i,u)}return g=f.interleaved,g===null?(o.next=o,Jf(f)):(o.next=g.next,g.next=o),f.interleaved=o,as(i,u)}function Hc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Rs(i,u)}}function sv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=S:_=_.next=S,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Wc(i,o,u,f){var g=i.updateQueue;$s=!1;var _=g.firstBaseUpdate,S=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var O=N,Y=O.next;O.next=null,S===null?_=Y:S.next=Y,S=O;var re=i.alternate;re!==null&&(re=re.updateQueue,N=re.lastBaseUpdate,N!==S&&(N===null?re.firstBaseUpdate=Y:N.next=Y,re.lastBaseUpdate=O))}if(_!==null){var se=g.baseState;S=0,re=Y=O=null,N=_;do{var ne=N.lane,de=N.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ge=i,ve=N;switch(ne=o,de=u,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){se=ge.call(de,se,ne);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,ne=typeof ge=="function"?ge.call(de,se,ne):ge,ne==null)break e;se=ie({},se,ne);break e;case 2:$s=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,ne=g.effects,ne===null?g.effects=[N]:ne.push(N))}else de={eventTime:de,lane:ne,tag:N.tag,payload:N.payload,callback:N.callback,next:null},re===null?(Y=re=de,O=se):re=re.next=de,S|=ne;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&(O=se),g.baseState=O,g.firstBaseUpdate=Y,g.lastBaseUpdate=re,o=g.shared.interleaved,o!==null){g=o;do S|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);Hi|=S,i.lanes=S,i.memoizedState=se}}function iv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var Ml={},Cr=js(Ml),Vl=js(Ml),Ll=js(Ml);function Bi(i){if(i===Ml)throw Error(t(174));return i}function ep(i,o){switch(Je(Ll,o),Je(Vl,i),Je(Cr,Ml),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:At(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=At(o,i)}nt(Cr),Je(Cr,o)}function ua(){nt(Cr),nt(Vl),nt(Ll)}function ov(i){Bi(Ll.current);var o=Bi(Cr.current),u=At(o,i.type);o!==u&&(Je(Vl,i),Je(Cr,u))}function tp(i){Vl.current===i&&(nt(Cr),nt(Vl))}var lt=js(0);function qc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var np=[];function rp(){for(var i=0;i<np.length;i++)np[i]._workInProgressVersionPrimary=null;np.length=0}var Kc=H.ReactCurrentDispatcher,sp=H.ReactCurrentBatchConfig,zi=0,ut=null,Pt=null,Vt=null,Gc=!1,Ol=!1,jl=0,hC=0;function Gt(){throw Error(t(321))}function ip(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!ir(i[u],o[u]))return!1;return!0}function op(i,o,u,f,g,_){if(zi=_,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Kc.current=i===null||i.memoizedState===null?mC:gC,i=u(f,g),Ol){_=0;do{if(Ol=!1,jl=0,25<=_)throw Error(t(301));_+=1,Vt=Pt=null,o.updateQueue=null,Kc.current=yC,i=u(f,g)}while(Ol)}if(Kc.current=Xc,o=Pt!==null&&Pt.next!==null,zi=0,Vt=Pt=ut=null,Gc=!1,o)throw Error(t(300));return i}function ap(){var i=jl!==0;return jl=0,i}function Pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ut.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Un(){if(Pt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var o=Vt===null?ut.memoizedState:Vt.next;if(o!==null)Vt=o,Pt=i;else{if(i===null)throw Error(t(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Vt===null?ut.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function Fl(i,o){return typeof o=="function"?o(i):o}function lp(i){var o=Un(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=Pt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var S=g.next;g.next=_.next,_.next=S}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var N=S=null,O=null,Y=_;do{var re=Y.lane;if((zi&re)===re)O!==null&&(O=O.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:i(f,Y.action);else{var se={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};O===null?(N=O=se,S=f):O=O.next=se,ut.lanes|=re,Hi|=re}Y=Y.next}while(Y!==null&&Y!==_);O===null?S=f:O.next=N,ir(f,o.memoizedState)||(fn=!0),o.memoizedState=f,o.baseState=S,o.baseQueue=O,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do _=g.lane,ut.lanes|=_,Hi|=_,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function up(i){var o=Un(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var S=g=g.next;do _=i(_,S.action),S=S.next;while(S!==g);ir(_,o.memoizedState)||(fn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function av(){}function lv(i,o){var u=ut,f=Un(),g=o(),_=!ir(f.memoizedState,g);if(_&&(f.memoizedState=g,fn=!0),f=f.queue,cp(hv.bind(null,u,f,i),[i]),f.getSnapshot!==o||_||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,Ul(9,cv.bind(null,u,f,g,o),void 0,null),Lt===null)throw Error(t(349));(zi&30)!==0||uv(u,o,g)}return g}function uv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function cv(i,o,u,f){o.value=u,o.getSnapshot=f,dv(o)&&fv(i)}function hv(i,o,u){return u(function(){dv(o)&&fv(i)})}function dv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!ir(i,u)}catch{return!0}}function fv(i){var o=as(i,1);o!==null&&cr(o,i,1,-1)}function pv(i){var o=Pr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:i},o.queue=i,i=i.dispatch=pC.bind(null,ut,i),[o.memoizedState,i]}function Ul(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function mv(){return Un().memoizedState}function Qc(i,o,u,f){var g=Pr();ut.flags|=i,g.memoizedState=Ul(1|o,u,void 0,f===void 0?null:f)}function Yc(i,o,u,f){var g=Un();f=f===void 0?null:f;var _=void 0;if(Pt!==null){var S=Pt.memoizedState;if(_=S.destroy,f!==null&&ip(f,S.deps)){g.memoizedState=Ul(o,u,_,f);return}}ut.flags|=i,g.memoizedState=Ul(1|o,u,_,f)}function gv(i,o){return Qc(8390656,8,i,o)}function cp(i,o){return Yc(2048,8,i,o)}function yv(i,o){return Yc(4,2,i,o)}function vv(i,o){return Yc(4,4,i,o)}function xv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function wv(i,o,u){return u=u!=null?u.concat([i]):null,Yc(4,4,xv.bind(null,o,i),u)}function hp(){}function _v(i,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&ip(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function Tv(i,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&ip(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Ev(i,o,u){return(zi&21)===0?(i.baseState&&(i.baseState=!1,fn=!0),i.memoizedState=u):(ir(u,o)||(u=Ni(),ut.lanes|=u,Hi|=u,i.baseState=!0),o)}function dC(i,o){var u=Fe;Fe=u!==0&&4>u?u:4,i(!0);var f=sp.transition;sp.transition={};try{i(!1),o()}finally{Fe=u,sp.transition=f}}function Sv(){return Un().memoizedState}function fC(i,o,u){var f=qs(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},bv(i))Iv(o,u);else if(u=nv(i,o,u,f),u!==null){var g=ln();cr(u,i,f,g),Av(u,o,f)}}function pC(i,o,u){var f=qs(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(bv(i))Iv(o,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var S=o.lastRenderedState,N=_(S,u);if(g.hasEagerState=!0,g.eagerState=N,ir(N,S)){var O=o.interleaved;O===null?(g.next=g,Jf(o)):(g.next=O.next,O.next=g),o.interleaved=g;return}}catch{}finally{}u=nv(i,o,g,f),u!==null&&(g=ln(),cr(u,i,f,g),Av(u,o,f))}}function bv(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function Iv(i,o){Ol=Gc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Av(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Rs(i,u)}}var Xc={readContext:Fn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},mC={readContext:Fn,useCallback:function(i,o){return Pr().memoizedState=[i,o===void 0?null:o],i},useContext:Fn,useEffect:gv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Qc(4194308,4,xv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Qc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Qc(4,2,i,o)},useMemo:function(i,o){var u=Pr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Pr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=fC.bind(null,ut,i),[f.memoizedState,i]},useRef:function(i){var o=Pr();return i={current:i},o.memoizedState=i},useState:pv,useDebugValue:hp,useDeferredValue:function(i){return Pr().memoizedState=i},useTransition:function(){var i=pv(!1),o=i[0];return i=dC.bind(null,i[1]),Pr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ut,g=Pr();if(ot){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Lt===null)throw Error(t(349));(zi&30)!==0||uv(f,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,gv(hv.bind(null,f,_,i),[i]),f.flags|=2048,Ul(9,cv.bind(null,f,_,u,o),void 0,null),u},useId:function(){var i=Pr(),o=Lt.identifierPrefix;if(ot){var u=os,f=is;u=(f&~(1<<32-sn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=jl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=hC++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},gC={readContext:Fn,useCallback:_v,useContext:Fn,useEffect:cp,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Tv,useReducer:lp,useRef:mv,useState:function(){return lp(Fl)},useDebugValue:hp,useDeferredValue:function(i){var o=Un();return Ev(o,Pt.memoizedState,i)},useTransition:function(){var i=lp(Fl)[0],o=Un().memoizedState;return[i,o]},useMutableSource:av,useSyncExternalStore:lv,useId:Sv,unstable_isNewReconciler:!1},yC={readContext:Fn,useCallback:_v,useContext:Fn,useEffect:cp,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Tv,useReducer:up,useRef:mv,useState:function(){return up(Fl)},useDebugValue:hp,useDeferredValue:function(i){var o=Un();return Pt===null?o.memoizedState=i:Ev(o,Pt.memoizedState,i)},useTransition:function(){var i=up(Fl)[0],o=Un().memoizedState;return[i,o]},useMutableSource:av,useSyncExternalStore:lv,useId:Sv,unstable_isNewReconciler:!1};function ar(i,o){if(i&&i.defaultProps){o=ie({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function dp(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ie({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Jc={isMounted:function(i){return(i=i._reactInternals)?Jn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=ln(),g=qs(i),_=ls(f,g);_.payload=o,u!=null&&(_.callback=u),o=Bs(i,_,g),o!==null&&(cr(o,i,g,f),Hc(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=ln(),g=qs(i),_=ls(f,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Bs(i,_,g),o!==null&&(cr(o,i,g,f),Hc(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=ln(),f=qs(i),g=ls(u,f);g.tag=2,o!=null&&(g.callback=o),o=Bs(i,g,f),o!==null&&(cr(o,i,f,u),Hc(o,i,f))}};function Cv(i,o,u,f,g,_,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,S):o.prototype&&o.prototype.isPureReactComponent?!Il(u,f)||!Il(g,_):!0}function Pv(i,o,u){var f=!1,g=Fs,_=o.contextType;return typeof _=="object"&&_!==null?_=Fn(_):(g=dn(o)?ji:Kt.current,f=o.contextTypes,_=(f=f!=null)?na(i,g):Fs),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Jc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=_),o}function kv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Jc.enqueueReplaceState(o,o.state,null)}function fp(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Zf(i);var _=o.contextType;typeof _=="object"&&_!==null?g.context=Fn(_):(_=dn(o)?ji:Kt.current,g.context=na(i,_)),g.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(dp(i,o,_,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Jc.enqueueReplaceState(g,g.state,null),Wc(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ca(i,o){try{var u="",f=o;do u+=De(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:g,digest:null}}function pp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function mp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var vC=typeof WeakMap=="function"?WeakMap:Map;function Rv(i,o,u){u=ls(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){ih||(ih=!0,kp=f),mp(i,o)},u}function Nv(i,o,u){u=ls(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){mp(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){mp(i,o),typeof f!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function Dv(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new vC;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=NC.bind(null,i,o,u),o.then(i,i))}function Mv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Vv(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ls(-1,1),o.tag=2,Bs(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var xC=H.ReactCurrentOwner,fn=!1;function an(i,o,u,f){o.child=i===null?tv(o,null,u,f):oa(o,i.child,u,f)}function Lv(i,o,u,f,g){u=u.render;var _=o.ref;return la(o,g),f=op(i,o,u,f,_,g),u=ap(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,us(i,o,g)):(ot&&u&&zf(o),o.flags|=1,an(i,o,f,g),o.child)}function Ov(i,o,u,f,g){if(i===null){var _=u.type;return typeof _=="function"&&!Op(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,jv(i,o,_,f,g)):(i=hh(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&g)===0){var S=_.memoizedProps;if(u=u.compare,u=u!==null?u:Il,u(S,f)&&i.ref===o.ref)return us(i,o,g)}return o.flags|=1,i=Gs(_,f),i.ref=o.ref,i.return=o,o.child=i}function jv(i,o,u,f,g){if(i!==null){var _=i.memoizedProps;if(Il(_,f)&&i.ref===o.ref)if(fn=!1,o.pendingProps=f=_,(i.lanes&g)!==0)(i.flags&131072)!==0&&(fn=!0);else return o.lanes=i.lanes,us(i,o,g)}return gp(i,o,u,f,g)}function Fv(i,o,u){var f=o.pendingProps,g=f.children,_=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(da,An),An|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(da,An),An|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Je(da,An),An|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,Je(da,An),An|=f;return an(i,o,g,u),o.child}function Uv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function gp(i,o,u,f,g){var _=dn(u)?ji:Kt.current;return _=na(o,_),la(o,g),u=op(i,o,u,f,_,g),f=ap(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,us(i,o,g)):(ot&&f&&zf(o),o.flags|=1,an(i,o,u,g),o.child)}function $v(i,o,u,f,g){if(dn(u)){var _=!0;Lc(o)}else _=!1;if(la(o,g),o.stateNode===null)eh(i,o),Pv(o,u,f),fp(o,u,f,g),f=!0;else if(i===null){var S=o.stateNode,N=o.memoizedProps;S.props=N;var O=S.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=Fn(Y):(Y=dn(u)?ji:Kt.current,Y=na(o,Y));var re=u.getDerivedStateFromProps,se=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==f||O!==Y)&&kv(o,S,f,Y),$s=!1;var ne=o.memoizedState;S.state=ne,Wc(o,f,S,g),O=o.memoizedState,N!==f||ne!==O||hn.current||$s?(typeof re=="function"&&(dp(o,u,re,f),O=o.memoizedState),(N=$s||Cv(o,u,N,f,ne,O,Y))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=O),S.props=f,S.state=O,S.context=Y,f=N):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{S=o.stateNode,rv(i,o),N=o.memoizedProps,Y=o.type===o.elementType?N:ar(o.type,N),S.props=Y,se=o.pendingProps,ne=S.context,O=u.contextType,typeof O=="object"&&O!==null?O=Fn(O):(O=dn(u)?ji:Kt.current,O=na(o,O));var de=u.getDerivedStateFromProps;(re=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==se||ne!==O)&&kv(o,S,f,O),$s=!1,ne=o.memoizedState,S.state=ne,Wc(o,f,S,g);var ge=o.memoizedState;N!==se||ne!==ge||hn.current||$s?(typeof de=="function"&&(dp(o,u,de,f),ge=o.memoizedState),(Y=$s||Cv(o,u,Y,f,ne,ge,O)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,ge,O),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,ge,O)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ge),S.props=f,S.state=ge,S.context=O,f=Y):(typeof S.componentDidUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),f=!1)}return yp(i,o,u,f,_,g)}function yp(i,o,u,f,g,_){Uv(i,o);var S=(o.flags&128)!==0;if(!f&&!S)return g&&q0(o,u,!1),us(i,o,_);f=o.stateNode,xC.current=o;var N=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&S?(o.child=oa(o,i.child,null,_),o.child=oa(o,null,N,_)):an(i,o,N,_),o.memoizedState=f.state,g&&q0(o,u,!0),o.child}function Bv(i){var o=i.stateNode;o.pendingContext?H0(i,o.pendingContext,o.pendingContext!==o.context):o.context&&H0(i,o.context,!1),ep(i,o.containerInfo)}function zv(i,o,u,f,g){return ia(),Kf(g),o.flags|=256,an(i,o,u,f),o.child}var vp={dehydrated:null,treeContext:null,retryLane:0};function xp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Hv(i,o,u){var f=o.pendingProps,g=lt.current,_=!1,S=(o.flags&128)!==0,N;if((N=S)||(N=i!==null&&i.memoizedState===null?!1:(g&2)!==0),N?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Je(lt,g&1),i===null)return qf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=f.children,i=f.fallback,_?(f=o.mode,_=o.child,S={mode:"hidden",children:S},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=dh(S,f,0,null),i=Gi(i,f,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=xp(u),o.memoizedState=vp,i):wp(o,S));if(g=i.memoizedState,g!==null&&(N=g.dehydrated,N!==null))return wC(i,o,S,f,N,g,u);if(_){_=f.fallback,S=o.mode,g=i.child,N=g.sibling;var O={mode:"hidden",children:f.children};return(S&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=O,o.deletions=null):(f=Gs(g,O),f.subtreeFlags=g.subtreeFlags&14680064),N!==null?_=Gs(N,_):(_=Gi(_,S,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,S=i.child.memoizedState,S=S===null?xp(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=i.childLanes&~u,o.memoizedState=vp,f}return _=i.child,i=_.sibling,f=Gs(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function wp(i,o){return o=dh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Zc(i,o,u,f){return f!==null&&Kf(f),oa(o,i.child,null,u),i=wp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function wC(i,o,u,f,g,_,S){if(u)return o.flags&256?(o.flags&=-257,f=pp(Error(t(422))),Zc(i,o,S,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=f.fallback,g=o.mode,f=dh({mode:"visible",children:f.children},g,0,null),_=Gi(_,g,S,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&oa(o,i.child,null,S),o.child.memoizedState=xp(S),o.memoizedState=vp,_);if((o.mode&1)===0)return Zc(i,o,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var N=f.dgst;return f=N,_=Error(t(419)),f=pp(_,f,void 0),Zc(i,o,S,f)}if(N=(S&i.childLanes)!==0,fn||N){if(f=Lt,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,as(i,g),cr(f,i,g,-1))}return Lp(),f=pp(Error(t(421))),Zc(i,o,S,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=DC.bind(null,i),g._reactRetry=o,null):(i=_.treeContext,In=Os(g.nextSibling),bn=o,ot=!0,or=null,i!==null&&(On[jn++]=is,On[jn++]=os,On[jn++]=Fi,is=i.id,os=i.overflow,Fi=o),o=wp(o,f.children),o.flags|=4096,o)}function Wv(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Xf(i.return,o,u)}function _p(i,o,u,f,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function qv(i,o,u){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(an(i,o,f.children,u),f=lt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Wv(i,u,o);else if(i.tag===19)Wv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Je(lt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&qc(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),_p(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&qc(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}_p(o,!0,u,null,_);break;case"together":_p(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function eh(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function us(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Hi|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Gs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Gs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function _C(i,o,u){switch(o.tag){case 3:Bv(o),ia();break;case 5:ov(o);break;case 1:dn(o.type)&&Lc(o);break;case 4:ep(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Je(Bc,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Je(lt,lt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Hv(i,o,u):(Je(lt,lt.current&1),i=us(i,o,u),i!==null?i.sibling:null);Je(lt,lt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return qv(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(lt,lt.current),f)break;return null;case 22:case 23:return o.lanes=0,Fv(i,o,u)}return us(i,o,u)}var Kv,Tp,Gv,Qv;Kv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Tp=function(){},Gv=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,Bi(Cr.current);var _=null;switch(u){case"input":g=_i(i,g),f=_i(i,f),_=[];break;case"select":g=ie({},g,{value:void 0}),f=ie({},f,{value:void 0}),_=[];break;case"textarea":g=tl(i,g),f=tl(i,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Dc)}al(u,f);var S;u=null;for(Y in g)if(!f.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var N=g[Y];for(S in N)N.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?_||(_=[]):(_=_||[]).push(Y,null));for(Y in f){var O=f[Y];if(N=g?.[Y],f.hasOwnProperty(Y)&&O!==N&&(O!=null||N!=null))if(Y==="style")if(N){for(S in N)!N.hasOwnProperty(S)||O&&O.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in O)O.hasOwnProperty(S)&&N[S]!==O[S]&&(u||(u={}),u[S]=O[S])}else u||(_||(_=[]),_.push(Y,u)),u=O;else Y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,N=N?N.__html:void 0,O!=null&&N!==O&&(_=_||[]).push(Y,O)):Y==="children"?typeof O!="string"&&typeof O!="number"||(_=_||[]).push(Y,""+O):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(O!=null&&Y==="onScroll"&&tt("scroll",i),_||N===O||(_=[])):(_=_||[]).push(Y,O))}u&&(_=_||[]).push("style",u);var Y=_;(o.updateQueue=Y)&&(o.flags|=4)}},Qv=function(i,o,u,f){u!==f&&(o.flags|=4)};function $l(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function TC(i,o,u){var f=o.pendingProps;switch(Hf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return dn(o.type)&&Vc(),Qt(o),null;case 3:return f=o.stateNode,ua(),nt(hn),nt(Kt),rp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Uc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,or!==null&&(Dp(or),or=null))),Tp(i,o),Qt(o),null;case 5:tp(o);var g=Bi(Ll.current);if(u=o.type,i!==null&&o.stateNode!=null)Gv(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Qt(o),null}if(i=Bi(Cr.current),Uc(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[Ar]=o,f[Rl]=_,i=(o.mode&1)!==0,u){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(g=0;g<Cl.length;g++)tt(Cl[g],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":So(f,_),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},tt("invalid",f);break;case"textarea":Io(f,_),tt("invalid",f)}al(u,_),g=null;for(var S in _)if(_.hasOwnProperty(S)){var N=_[S];S==="children"?typeof N=="string"?f.textContent!==N&&(_.suppressHydrationWarning!==!0&&Nc(f.textContent,N,i),g=["children",N]):typeof N=="number"&&f.textContent!==""+N&&(_.suppressHydrationWarning!==!0&&Nc(f.textContent,N,i),g=["children",""+N]):s.hasOwnProperty(S)&&N!=null&&S==="onScroll"&&tt("scroll",f)}switch(u){case"input":Kr(f),sc(f,_,!0);break;case"textarea":Kr(f),nl(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Dc)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=It(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=S.createElement(u,{is:f.is}):(i=S.createElement(u),u==="select"&&(S=i,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):i=S.createElementNS(i,u),i[Ar]=o,i[Rl]=f,Kv(i,o,!1,!1),o.stateNode=i;e:{switch(S=ll(u,f),u){case"dialog":tt("cancel",i),tt("close",i),g=f;break;case"iframe":case"object":case"embed":tt("load",i),g=f;break;case"video":case"audio":for(g=0;g<Cl.length;g++)tt(Cl[g],i);g=f;break;case"source":tt("error",i),g=f;break;case"img":case"image":case"link":tt("error",i),tt("load",i),g=f;break;case"details":tt("toggle",i),g=f;break;case"input":So(i,f),g=_i(i,f),tt("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=ie({},f,{value:void 0}),tt("invalid",i);break;case"textarea":Io(i,f),g=tl(i,f),tt("invalid",i);break;default:g=f}al(u,g),N=g;for(_ in N)if(N.hasOwnProperty(_)){var O=N[_];_==="style"?il(i,O):_==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&rl(i,O)):_==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&Is(i,O):typeof O=="number"&&Is(i,""+O):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?O!=null&&_==="onScroll"&&tt("scroll",i):O!=null&&B(i,_,O,S))}switch(u){case"input":Kr(i),sc(i,f,!1);break;case"textarea":Kr(i),nl(i);break;case"option":f.value!=null&&i.setAttribute("value",""+qe(f.value));break;case"select":i.multiple=!!f.multiple,_=f.value,_!=null?Qr(i,!!f.multiple,_,!1):f.defaultValue!=null&&Qr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Dc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Qt(o),null;case 6:if(i&&o.stateNode!=null)Qv(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=Bi(Ll.current),Bi(Cr.current),Uc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Ar]=o,(_=f.nodeValue!==u)&&(i=bn,i!==null))switch(i.tag){case 3:Nc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Nc(f.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Ar]=o,o.stateNode=f}return Qt(o),null;case 13:if(nt(lt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ot&&In!==null&&(o.mode&1)!==0&&(o.flags&128)===0)J0(),ia(),o.flags|=98560,_=!1;else if(_=Uc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Ar]=o}else ia(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),_=!1}else or!==null&&(Dp(or),or=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(lt.current&1)!==0?kt===0&&(kt=3):Lp())),o.updateQueue!==null&&(o.flags|=4),Qt(o),null);case 4:return ua(),Tp(i,o),i===null&&Pl(o.stateNode.containerInfo),Qt(o),null;case 10:return Yf(o.type._context),Qt(o),null;case 17:return dn(o.type)&&Vc(),Qt(o),null;case 19:if(nt(lt),_=o.memoizedState,_===null)return Qt(o),null;if(f=(o.flags&128)!==0,S=_.rendering,S===null)if(f)$l(_,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=qc(i),S!==null){for(o.flags|=128,$l(_,!1),f=S.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,i=f,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,i=S.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Je(lt,lt.current&1|2),o.child}i=i.sibling}_.tail!==null&&Xe()>fa&&(o.flags|=128,f=!0,$l(_,!1),o.lanes=4194304)}else{if(!f)if(i=qc(S),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),$l(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!ot)return Qt(o),null}else 2*Xe()-_.renderingStartTime>fa&&u!==1073741824&&(o.flags|=128,f=!0,$l(_,!1),o.lanes=4194304);_.isBackwards?(S.sibling=o.child,o.child=S):(u=_.last,u!==null?u.sibling=S:o.child=S,_.last=S)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Xe(),o.sibling=null,u=lt.current,Je(lt,f?u&1|2:u&1),o):(Qt(o),null);case 22:case 23:return Vp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(An&1073741824)!==0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function EC(i,o){switch(Hf(o),o.tag){case 1:return dn(o.type)&&Vc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ua(),nt(hn),nt(Kt),rp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return tp(o),null;case 13:if(nt(lt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ia()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(lt),null;case 4:return ua(),null;case 10:return Yf(o.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var th=!1,Yt=!1,SC=typeof WeakSet=="function"?WeakSet:Set,me=null;function ha(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){dt(i,o,f)}else u.current=null}function Ep(i,o,u){try{u()}catch(f){dt(i,o,f)}}var Yv=!1;function bC(i,o){if(Vf=Ms,i=C0(),Af(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var S=0,N=-1,O=-1,Y=0,re=0,se=i,ne=null;t:for(;;){for(var de;se!==u||g!==0&&se.nodeType!==3||(N=S+g),se!==_||f!==0&&se.nodeType!==3||(O=S+f),se.nodeType===3&&(S+=se.nodeValue.length),(de=se.firstChild)!==null;)ne=se,se=de;for(;;){if(se===i)break t;if(ne===u&&++Y===g&&(N=S),ne===_&&++re===f&&(O=S),(de=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=de}u=N===-1||O===-1?null:{start:N,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lf={focusedElem:i,selectionRange:u},Ms=!1,me=o;me!==null;)if(o=me,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,me=i;else for(;me!==null;){o=me;try{var ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,mt=ge.memoizedState,K=o.stateNode,$=K.getSnapshotBeforeUpdate(o.elementType===o.type?ve:ar(o.type,ve),mt);K.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){dt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,me=i;break}me=o.return}return ge=Yv,Yv=!1,ge}function Bl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var _=g.destroy;g.destroy=void 0,_!==void 0&&Ep(o,u,_)}g=g.next}while(g!==f)}}function nh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Sp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Xv(i){var o=i.alternate;o!==null&&(i.alternate=null,Xv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ar],delete o[Rl],delete o[Uf],delete o[aC],delete o[lC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Jv(i){return i.tag===5||i.tag===3||i.tag===4}function Zv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Dc));else if(f!==4&&(i=i.child,i!==null))for(bp(i,o,u),i=i.sibling;i!==null;)bp(i,o,u),i=i.sibling}function Ip(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Ip(i,o,u),i=i.sibling;i!==null;)Ip(i,o,u),i=i.sibling}var $t=null,lr=!1;function zs(i,o,u){for(u=u.child;u!==null;)ex(i,o,u),u=u.sibling}function ex(i,o,u){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(ki,u)}catch{}switch(u.tag){case 5:Yt||ha(u,o);case 6:var f=$t,g=lr;$t=null,zs(i,o,u),$t=f,lr=g,$t!==null&&(lr?(i=$t,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):$t.removeChild(u.stateNode));break;case 18:$t!==null&&(lr?(i=$t,u=u.stateNode,i.nodeType===8?Ff(i.parentNode,u):i.nodeType===1&&Ff(i,u),rr(i)):Ff($t,u.stateNode));break;case 4:f=$t,g=lr,$t=u.stateNode.containerInfo,lr=!0,zs(i,o,u),$t=f,lr=g;break;case 0:case 11:case 14:case 15:if(!Yt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&Ep(u,o,S),g=g.next}while(g!==f)}zs(i,o,u);break;case 1:if(!Yt&&(ha(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(N){dt(u,o,N)}zs(i,o,u);break;case 21:zs(i,o,u);break;case 22:u.mode&1?(Yt=(f=Yt)||u.memoizedState!==null,zs(i,o,u),Yt=f):zs(i,o,u);break;default:zs(i,o,u)}}function tx(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new SC),o.forEach(function(f){var g=MC.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function ur(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=i,S=o,N=S;e:for(;N!==null;){switch(N.tag){case 5:$t=N.stateNode,lr=!1;break e;case 3:$t=N.stateNode.containerInfo,lr=!0;break e;case 4:$t=N.stateNode.containerInfo,lr=!0;break e}N=N.return}if($t===null)throw Error(t(160));ex(_,S,g),$t=null,lr=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(Y){dt(g,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)nx(o,i),o=o.sibling}function nx(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ur(o,i),kr(i),f&4){try{Bl(3,i,i.return),nh(3,i)}catch(ve){dt(i,i.return,ve)}try{Bl(5,i,i.return)}catch(ve){dt(i,i.return,ve)}}break;case 1:ur(o,i),kr(i),f&512&&u!==null&&ha(u,u.return);break;case 5:if(ur(o,i),kr(i),f&512&&u!==null&&ha(u,u.return),i.flags&32){var g=i.stateNode;try{Is(g,"")}catch(ve){dt(i,i.return,ve)}}if(f&4&&(g=i.stateNode,g!=null)){var _=i.memoizedProps,S=u!==null?u.memoizedProps:_,N=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{N==="input"&&_.type==="radio"&&_.name!=null&&Za(g,_),ll(N,S);var Y=ll(N,_);for(S=0;S<O.length;S+=2){var re=O[S],se=O[S+1];re==="style"?il(g,se):re==="dangerouslySetInnerHTML"?rl(g,se):re==="children"?Is(g,se):B(g,re,se,Y)}switch(N){case"input":el(g,_);break;case"textarea":Ao(g,_);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var de=_.value;de!=null?Qr(g,!!_.multiple,de,!1):ne!==!!_.multiple&&(_.defaultValue!=null?Qr(g,!!_.multiple,_.defaultValue,!0):Qr(g,!!_.multiple,_.multiple?[]:"",!1))}g[Rl]=_}catch(ve){dt(i,i.return,ve)}}break;case 6:if(ur(o,i),kr(i),f&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,_=i.memoizedProps;try{g.nodeValue=_}catch(ve){dt(i,i.return,ve)}}break;case 3:if(ur(o,i),kr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{rr(o.containerInfo)}catch(ve){dt(i,i.return,ve)}break;case 4:ur(o,i),kr(i);break;case 13:ur(o,i),kr(i),g=i.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(Pp=Xe())),f&4&&tx(i);break;case 22:if(re=u!==null&&u.memoizedState!==null,i.mode&1?(Yt=(Y=Yt)||re,ur(o,i),Yt=Y):ur(o,i),kr(i),f&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(me=i,re=i.child;re!==null;){for(se=me=re;me!==null;){switch(ne=me,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:Bl(4,ne,ne.return);break;case 1:ha(ne,ne.return);var ge=ne.stateNode;if(typeof ge.componentWillUnmount=="function"){f=ne,u=ne.return;try{o=f,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(ve){dt(f,u,ve)}}break;case 5:ha(ne,ne.return);break;case 22:if(ne.memoizedState!==null){ix(se);continue}}de!==null?(de.return=ne,me=de):ix(se)}re=re.sibling}e:for(re=null,se=i;;){if(se.tag===5){if(re===null){re=se;try{g=se.stateNode,Y?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(N=se.stateNode,O=se.memoizedProps.style,S=O!=null&&O.hasOwnProperty("display")?O.display:null,N.style.display=sl("display",S))}catch(ve){dt(i,i.return,ve)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(ve){dt(i,i.return,ve)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:ur(o,i),kr(i),f&4&&tx(i);break;case 21:break;default:ur(o,i),kr(i)}}function kr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Jv(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Is(g,""),f.flags&=-33);var _=Zv(i);Ip(i,_,g);break;case 3:case 4:var S=f.stateNode.containerInfo,N=Zv(i);bp(i,N,S);break;default:throw Error(t(161))}}catch(O){dt(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function IC(i,o,u){me=i,rx(i)}function rx(i,o,u){for(var f=(i.mode&1)!==0;me!==null;){var g=me,_=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||th;if(!S){var N=g.alternate,O=N!==null&&N.memoizedState!==null||Yt;N=th;var Y=Yt;if(th=S,(Yt=O)&&!Y)for(me=g;me!==null;)S=me,O=S.child,S.tag===22&&S.memoizedState!==null?ox(g):O!==null?(O.return=S,me=O):ox(g);for(;_!==null;)me=_,rx(_),_=_.sibling;me=g,th=N,Yt=Y}sx(i)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,me=_):sx(i)}}function sx(i){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Yt||nh(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Yt)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:ar(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&iv(o,_,f);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}iv(o,S,u)}break;case 5:var N=o.stateNode;if(u===null&&o.flags&4){u=N;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&rr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yt||o.flags&512&&Sp(o)}catch(ne){dt(o,o.return,ne)}}if(o===i){me=null;break}if(u=o.sibling,u!==null){u.return=o.return,me=u;break}me=o.return}}function ix(i){for(;me!==null;){var o=me;if(o===i){me=null;break}var u=o.sibling;if(u!==null){u.return=o.return,me=u;break}me=o.return}}function ox(i){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{nh(4,o)}catch(O){dt(o,u,O)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(O){dt(o,g,O)}}var _=o.return;try{Sp(o)}catch(O){dt(o,_,O)}break;case 5:var S=o.return;try{Sp(o)}catch(O){dt(o,S,O)}}}catch(O){dt(o,o.return,O)}if(o===i){me=null;break}var N=o.sibling;if(N!==null){N.return=o.return,me=N;break}me=o.return}}var AC=Math.ceil,rh=H.ReactCurrentDispatcher,Ap=H.ReactCurrentOwner,$n=H.ReactCurrentBatchConfig,ze=0,Lt=null,wt=null,Bt=0,An=0,da=js(0),kt=0,zl=null,Hi=0,sh=0,Cp=0,Hl=null,pn=null,Pp=0,fa=1/0,cs=null,ih=!1,kp=null,Hs=null,oh=!1,Ws=null,ah=0,Wl=0,Rp=null,lh=-1,uh=0;function ln(){return(ze&6)!==0?Xe():lh!==-1?lh:lh=Xe()}function qs(i){return(i.mode&1)===0?1:(ze&2)!==0&&Bt!==0?Bt&-Bt:cC.transition!==null?(uh===0&&(uh=Ni()),uh):(i=Fe,i!==0||(i=window.event,i=i===void 0?16:xl(i.type)),i)}function cr(i,o,u,f){if(50<Wl)throw Wl=0,Rp=null,Error(t(185));ks(i,u,f),((ze&2)===0||i!==Lt)&&(i===Lt&&((ze&2)===0&&(sh|=u),kt===4&&Ks(i,Bt)),mn(i,f),u===1&&ze===0&&(o.mode&1)===0&&(fa=Xe()+500,Oc&&Us()))}function mn(i,o){var u=i.callbackNode;Jr(i,o);var f=Ri(i,i===Lt?Bt:0);if(f===0)u!==null&&pl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&pl(u),o===1)i.tag===0?uC(lx.bind(null,i)):K0(lx.bind(null,i)),iC(function(){(ze&6)===0&&Us()}),u=null;else{switch(Ns(f)){case 1:u=Pi;break;case 4:u=As;break;case 16:u=Mn;break;case 536870912:u=uc;break;default:u=Mn}u=gx(u,ax.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function ax(i,o){if(lh=-1,uh=0,(ze&6)!==0)throw Error(t(327));var u=i.callbackNode;if(pa()&&i.callbackNode!==u)return null;var f=Ri(i,i===Lt?Bt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=ch(i,f);else{o=f;var g=ze;ze|=2;var _=cx();(Lt!==i||Bt!==o)&&(cs=null,fa=Xe()+500,qi(i,o));do try{kC();break}catch(N){ux(i,N)}while(!0);Qf(),rh.current=_,ze=g,wt!==null?o=0:(Lt=null,Bt=0,o=kt)}if(o!==0){if(o===2&&(g=Tn(i),g!==0&&(f=g,o=Np(i,g))),o===1)throw u=zl,qi(i,0),Ks(i,f),mn(i,Xe()),u;if(o===6)Ks(i,f);else{if(g=i.current.alternate,(f&30)===0&&!CC(g)&&(o=ch(i,f),o===2&&(_=Tn(i),_!==0&&(f=_,o=Np(i,_))),o===1))throw u=zl,qi(i,0),Ks(i,f),mn(i,Xe()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Ki(i,pn,cs);break;case 3:if(Ks(i,f),(f&130023424)===f&&(o=Pp+500-Xe(),10<o)){if(Ri(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){ln(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=jf(Ki.bind(null,i,pn,cs),o);break}Ki(i,pn,cs);break;case 4:if(Ks(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var S=31-sn(f);_=1<<S,S=o[S],S>g&&(g=S),f&=~_}if(f=g,f=Xe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*AC(f/1960))-f,10<f){i.timeoutHandle=jf(Ki.bind(null,i,pn,cs),f);break}Ki(i,pn,cs);break;case 5:Ki(i,pn,cs);break;default:throw Error(t(329))}}}return mn(i,Xe()),i.callbackNode===u?ax.bind(null,i):null}function Np(i,o){var u=Hl;return i.current.memoizedState.isDehydrated&&(qi(i,o).flags|=256),i=ch(i,o),i!==2&&(o=pn,pn=u,o!==null&&Dp(o)),i}function Dp(i){pn===null?pn=i:pn.push.apply(pn,i)}function CC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!ir(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ks(i,o){for(o&=~Cp,o&=~sh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-sn(o),f=1<<u;i[u]=-1,o&=~f}}function lx(i){if((ze&6)!==0)throw Error(t(327));pa();var o=Ri(i,0);if((o&1)===0)return mn(i,Xe()),null;var u=ch(i,o);if(i.tag!==0&&u===2){var f=Tn(i);f!==0&&(o=f,u=Np(i,f))}if(u===1)throw u=zl,qi(i,0),Ks(i,o),mn(i,Xe()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ki(i,pn,cs),mn(i,Xe()),null}function Mp(i,o){var u=ze;ze|=1;try{return i(o)}finally{ze=u,ze===0&&(fa=Xe()+500,Oc&&Us())}}function Wi(i){Ws!==null&&Ws.tag===0&&(ze&6)===0&&pa();var o=ze;ze|=1;var u=$n.transition,f=Fe;try{if($n.transition=null,Fe=1,i)return i()}finally{Fe=f,$n.transition=u,ze=o,(ze&6)===0&&Us()}}function Vp(){An=da.current,nt(da)}function qi(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,sC(u)),wt!==null)for(u=wt.return;u!==null;){var f=u;switch(Hf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Vc();break;case 3:ua(),nt(hn),nt(Kt),rp();break;case 5:tp(f);break;case 4:ua();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:Yf(f.type._context);break;case 22:case 23:Vp()}u=u.return}if(Lt=i,wt=i=Gs(i.current,null),Bt=An=o,kt=0,zl=null,Cp=sh=Hi=0,pn=Hl=null,$i!==null){for(o=0;o<$i.length;o++)if(u=$i[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var S=_.next;_.next=g,f.next=S}u.pending=f}$i=null}return i}function ux(i,o){do{var u=wt;try{if(Qf(),Kc.current=Xc,Gc){for(var f=ut.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Gc=!1}if(zi=0,Vt=Pt=ut=null,Ol=!1,jl=0,Ap.current=null,u===null||u.return===null){kt=1,zl=o,wt=null;break}e:{var _=i,S=u.return,N=u,O=o;if(o=Bt,N.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=O,re=N,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=Mv(S);if(de!==null){de.flags&=-257,Vv(de,S,N,_,o),de.mode&1&&Dv(_,Y,o),o=de,O=Y;var ge=o.updateQueue;if(ge===null){var ve=new Set;ve.add(O),o.updateQueue=ve}else ge.add(O);break e}else{if((o&1)===0){Dv(_,Y,o),Lp();break e}O=Error(t(426))}}else if(ot&&N.mode&1){var mt=Mv(S);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Vv(mt,S,N,_,o),Kf(ca(O,N));break e}}_=O=ca(O,N),kt!==4&&(kt=2),Hl===null?Hl=[_]:Hl.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var K=Rv(_,O,o);sv(_,K);break e;case 1:N=O;var $=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Hs===null||!Hs.has(Q)))){_.flags|=65536,o&=-o,_.lanes|=o;var oe=Nv(_,N,o);sv(_,oe);break e}}_=_.return}while(_!==null)}dx(u)}catch(xe){o=xe,wt===u&&u!==null&&(wt=u=u.return);continue}break}while(!0)}function cx(){var i=rh.current;return rh.current=Xc,i===null?Xc:i}function Lp(){(kt===0||kt===3||kt===2)&&(kt=4),Lt===null||(Hi&268435455)===0&&(sh&268435455)===0||Ks(Lt,Bt)}function ch(i,o){var u=ze;ze|=2;var f=cx();(Lt!==i||Bt!==o)&&(cs=null,qi(i,o));do try{PC();break}catch(g){ux(i,g)}while(!0);if(Qf(),ze=u,rh.current=f,wt!==null)throw Error(t(261));return Lt=null,Bt=0,kt}function PC(){for(;wt!==null;)hx(wt)}function kC(){for(;wt!==null&&!ac();)hx(wt)}function hx(i){var o=mx(i.alternate,i,An);i.memoizedProps=i.pendingProps,o===null?dx(i):wt=o,Ap.current=null}function dx(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=TC(u,o,An),u!==null){wt=u;return}}else{if(u=EC(u,o),u!==null){u.flags&=32767,wt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{kt=6,wt=null;return}}if(o=o.sibling,o!==null){wt=o;return}wt=o=i}while(o!==null);kt===0&&(kt=5)}function Ki(i,o,u){var f=Fe,g=$n.transition;try{$n.transition=null,Fe=1,RC(i,o,u,f)}finally{$n.transition=g,Fe=f}return null}function RC(i,o,u,f){do pa();while(Ws!==null);if((ze&6)!==0)throw Error(t(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Qe(i,_),i===Lt&&(wt=Lt=null,Bt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||oh||(oh=!0,gx(Mn,function(){return pa(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=$n.transition,$n.transition=null;var S=Fe;Fe=1;var N=ze;ze|=4,Ap.current=null,bC(i,u),nx(u,i),XA(Lf),Ms=!!Vf,Lf=Vf=null,i.current=u,IC(u),xf(),ze=N,Fe=S,$n.transition=_}else i.current=u;if(oh&&(oh=!1,Ws=i,ah=g),_=i.pendingLanes,_===0&&(Hs=null),cc(u.stateNode),mn(i,Xe()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(ih)throw ih=!1,i=kp,kp=null,i;return(ah&1)!==0&&i.tag!==0&&pa(),_=i.pendingLanes,(_&1)!==0?i===Rp?Wl++:(Wl=0,Rp=i):Wl=0,Us(),null}function pa(){if(Ws!==null){var i=Ns(ah),o=$n.transition,u=Fe;try{if($n.transition=null,Fe=16>i?16:i,Ws===null)var f=!1;else{if(i=Ws,Ws=null,ah=0,(ze&6)!==0)throw Error(t(331));var g=ze;for(ze|=4,me=i.current;me!==null;){var _=me,S=_.child;if((me.flags&16)!==0){var N=_.deletions;if(N!==null){for(var O=0;O<N.length;O++){var Y=N[O];for(me=Y;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:Bl(8,re,_)}var se=re.child;if(se!==null)se.return=re,me=se;else for(;me!==null;){re=me;var ne=re.sibling,de=re.return;if(Xv(re),re===Y){me=null;break}if(ne!==null){ne.return=de,me=ne;break}me=de}}}var ge=_.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var mt=ve.sibling;ve.sibling=null,ve=mt}while(ve!==null)}}me=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,me=S;else e:for(;me!==null;){if(_=me,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Bl(9,_,_.return)}var K=_.sibling;if(K!==null){K.return=_.return,me=K;break e}me=_.return}}var $=i.current;for(me=$;me!==null;){S=me;var Q=S.child;if((S.subtreeFlags&2064)!==0&&Q!==null)Q.return=S,me=Q;else e:for(S=$;me!==null;){if(N=me,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:nh(9,N)}}catch(xe){dt(N,N.return,xe)}if(N===S){me=null;break e}var oe=N.sibling;if(oe!==null){oe.return=N.return,me=oe;break e}me=N.return}}if(ze=g,Us(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(ki,i)}catch{}f=!0}return f}finally{Fe=u,$n.transition=o}}return!1}function fx(i,o,u){o=ca(u,o),o=Rv(i,o,1),i=Bs(i,o,1),o=ln(),i!==null&&(ks(i,1,o),mn(i,o))}function dt(i,o,u){if(i.tag===3)fx(i,i,u);else for(;o!==null;){if(o.tag===3){fx(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))){i=ca(u,i),i=Nv(o,i,1),o=Bs(o,i,1),i=ln(),o!==null&&(ks(o,1,i),mn(o,i));break}}o=o.return}}function NC(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=ln(),i.pingedLanes|=i.suspendedLanes&u,Lt===i&&(Bt&u)===u&&(kt===4||kt===3&&(Bt&130023424)===Bt&&500>Xe()-Pp?qi(i,0):Cp|=u),mn(i,o)}function px(i,o){o===0&&((i.mode&1)===0?o=1:(o=Oo,Oo<<=1,(Oo&130023424)===0&&(Oo=4194304)));var u=ln();i=as(i,o),i!==null&&(ks(i,o,u),mn(i,u))}function DC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),px(i,u)}function MC(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),px(i,u)}var mx;mx=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||hn.current)fn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return fn=!1,_C(i,o,u);fn=(i.flags&131072)!==0}else fn=!1,ot&&(o.flags&1048576)!==0&&G0(o,Fc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;eh(i,o),i=o.pendingProps;var g=na(o,Kt.current);la(o,u),g=op(null,o,f,i,g,u);var _=ap();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,dn(f)?(_=!0,Lc(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Zf(o),g.updater=Jc,o.stateNode=g,g._reactInternals=o,fp(o,f,i,u),o=yp(null,o,f,!0,_,u)):(o.tag=0,ot&&_&&zf(o),an(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(eh(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=LC(f),i=ar(f,i),g){case 0:o=gp(null,o,f,i,u);break e;case 1:o=$v(null,o,f,i,u);break e;case 11:o=Lv(null,o,f,i,u);break e;case 14:o=Ov(null,o,f,ar(f.type,i),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:ar(f,g),gp(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:ar(f,g),$v(i,o,f,g,u);case 3:e:{if(Bv(o),i===null)throw Error(t(387));f=o.pendingProps,_=o.memoizedState,g=_.element,rv(i,o),Wc(o,f,null,u);var S=o.memoizedState;if(f=S.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=ca(Error(t(423)),o),o=zv(i,o,f,u,g);break e}else if(f!==g){g=ca(Error(t(424)),o),o=zv(i,o,f,u,g);break e}else for(In=Os(o.stateNode.containerInfo.firstChild),bn=o,ot=!0,or=null,u=tv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ia(),f===g){o=us(i,o,u);break e}an(i,o,f,u)}o=o.child}return o;case 5:return ov(o),i===null&&qf(o),f=o.type,g=o.pendingProps,_=i!==null?i.memoizedProps:null,S=g.children,Of(f,g)?S=null:_!==null&&Of(f,_)&&(o.flags|=32),Uv(i,o),an(i,o,S,u),o.child;case 6:return i===null&&qf(o),null;case 13:return Hv(i,o,u);case 4:return ep(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=oa(o,null,f,u):an(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:ar(f,g),Lv(i,o,f,g,u);case 7:return an(i,o,o.pendingProps,u),o.child;case 8:return an(i,o,o.pendingProps.children,u),o.child;case 12:return an(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,_=o.memoizedProps,S=g.value,Je(Bc,f._currentValue),f._currentValue=S,_!==null)if(ir(_.value,S)){if(_.children===g.children&&!hn.current){o=us(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var N=_.dependencies;if(N!==null){S=_.child;for(var O=N.firstContext;O!==null;){if(O.context===f){if(_.tag===1){O=ls(-1,u&-u),O.tag=2;var Y=_.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?O.next=O:(O.next=re.next,re.next=O),Y.pending=O}}_.lanes|=u,O=_.alternate,O!==null&&(O.lanes|=u),Xf(_.return,u,o),N.lanes|=u;break}O=O.next}}else if(_.tag===10)S=_.type===o.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(t(341));S.lanes|=u,N=S.alternate,N!==null&&(N.lanes|=u),Xf(S,u,o),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===o){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}an(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,la(o,u),g=Fn(g),f=f(g),o.flags|=1,an(i,o,f,u),o.child;case 14:return f=o.type,g=ar(f,o.pendingProps),g=ar(f.type,g),Ov(i,o,f,g,u);case 15:return jv(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:ar(f,g),eh(i,o),o.tag=1,dn(f)?(i=!0,Lc(o)):i=!1,la(o,u),Pv(o,f,g),fp(o,f,g,u),yp(null,o,f,!0,i,u);case 19:return qv(i,o,u);case 22:return Fv(i,o,u)}throw Error(t(156,o.tag))};function gx(i,o){return Vo(i,o)}function VC(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(i,o,u,f){return new VC(i,o,u,f)}function Op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function LC(i){if(typeof i=="function")return Op(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===Me)return 14}return 2}function Gs(i,o){var u=i.alternate;return u===null?(u=Bn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function hh(i,o,u,f,g,_){var S=2;if(f=i,typeof i=="function")Op(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case k:return Gi(u.children,g,_,o);case I:S=8,g|=8;break;case R:return i=Bn(12,u,o,g|2),i.elementType=R,i.lanes=_,i;case D:return i=Bn(13,u,o,g),i.elementType=D,i.lanes=_,i;case he:return i=Bn(19,u,o,g),i.elementType=he,i.lanes=_,i;case ue:return dh(u,g,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:S=10;break e;case F:S=9;break e;case z:S=11;break e;case Me:S=14;break e;case pe:S=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Bn(S,u,o,g),o.elementType=i,o.type=f,o.lanes=_,o}function Gi(i,o,u,f){return i=Bn(7,i,f,o),i.lanes=u,i}function dh(i,o,u,f){return i=Bn(22,i,f,o),i.elementType=ue,i.lanes=u,i.stateNode={isHidden:!1},i}function jp(i,o,u){return i=Bn(6,i,null,o),i.lanes=u,i}function Fp(i,o,u){return o=Bn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function OC(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Up(i,o,u,f,g,_,S,N,O){return i=new OC(i,o,u,N,O),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Bn(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zf(_),i}function jC(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function yx(i){if(!i)return Fs;i=i._reactInternals;e:{if(Jn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(dn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(dn(u))return W0(i,u,o)}return o}function vx(i,o,u,f,g,_,S,N,O){return i=Up(u,f,!0,i,g,_,S,N,O),i.context=yx(null),u=i.current,f=ln(),g=qs(u),_=ls(f,g),_.callback=o??null,Bs(u,_,g),i.current.lanes=g,ks(i,g,f),mn(i,f),i}function fh(i,o,u,f){var g=o.current,_=ln(),S=qs(g);return u=yx(u),o.context===null?o.context=u:o.pendingContext=u,o=ls(_,S),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Bs(g,o,S),i!==null&&(cr(i,g,S,_),Hc(i,g,S)),S}function ph(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function xx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function $p(i,o){xx(i,o),(i=i.alternate)&&xx(i,o)}function FC(){return null}var wx=typeof reportError=="function"?reportError:function(i){console.error(i)};function Bp(i){this._internalRoot=i}mh.prototype.render=Bp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));fh(i,o,null,null)},mh.prototype.unmount=Bp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Wi(function(){fh(null,i,null,null)}),o[rs]=null}};function mh(i){this._internalRoot=i}mh.prototype.unstable_scheduleHydration=function(i){if(i){var o=mc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Er.length&&o!==0&&o<Er[u].priority;u++);Er.splice(u,0,i),u===0&&vc(i)}};function zp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function gh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function _x(){}function UC(i,o,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var Y=ph(S);_.call(Y)}}var S=vx(o,f,i,0,null,!1,!1,"",_x);return i._reactRootContainer=S,i[rs]=S.current,Pl(i.nodeType===8?i.parentNode:i),Wi(),S}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var N=f;f=function(){var Y=ph(O);N.call(Y)}}var O=Up(i,0,!1,null,null,!1,!1,"",_x);return i._reactRootContainer=O,i[rs]=O.current,Pl(i.nodeType===8?i.parentNode:i),Wi(function(){fh(o,O,u,f)}),O}function yh(i,o,u,f,g){var _=u._reactRootContainer;if(_){var S=_;if(typeof g=="function"){var N=g;g=function(){var O=ph(S);N.call(O)}}fh(o,S,i,g)}else S=UC(u,o,i,g,f);return ph(S)}fc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Cs(o.pendingLanes);u!==0&&(Rs(o,u|1),mn(o,Xe()),(ze&6)===0&&(fa=Xe()+500,Us()))}break;case 13:Wi(function(){var f=as(i,1);if(f!==null){var g=ln();cr(f,i,1,g)}}),$p(i,1)}},jo=function(i){if(i.tag===13){var o=as(i,134217728);if(o!==null){var u=ln();cr(o,i,134217728,u)}$p(i,134217728)}},pc=function(i){if(i.tag===13){var o=qs(i),u=as(i,o);if(u!==null){var f=ln();cr(u,i,o,f)}$p(i,o)}},mc=function(){return Fe},gc=function(i,o){var u=Fe;try{return Fe=i,o()}finally{Fe=u}},Po=function(i,o,u){switch(o){case"input":if(el(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=Mc(f);if(!g)throw Error(t(90));Eo(f),el(f,g)}}}break;case"textarea":Ao(i,u);break;case"select":o=u.value,o!=null&&Qr(i,!!u.multiple,o,!1)}},bi=Mp,cl=Wi;var $C={usingClientEntryPoint:!1,Events:[Nl,ea,Mc,_r,ul,Mp]},ql={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BC={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=fl(i),i===null?null:i.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||FC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{ki=vh.inject(BC),_n=vh}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$C,gn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zp(o))throw Error(t(200));return jC(i,o,null,u)},gn.createRoot=function(i,o){if(!zp(i))throw Error(t(299));var u=!1,f="",g=wx;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Up(i,1,!1,null,null,u,!1,f,g),i[rs]=o.current,Pl(i.nodeType===8?i.parentNode:i),new Bp(o)},gn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=fl(o),i=i===null?null:i.stateNode,i},gn.flushSync=function(i){return Wi(i)},gn.hydrate=function(i,o,u){if(!gh(o))throw Error(t(200));return yh(null,i,o,!0,u)},gn.hydrateRoot=function(i,o,u){if(!zp(i))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",S=wx;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=vx(o,null,i,1,u??null,g,!1,_,S),i[rs]=o.current,Pl(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new mh(o)},gn.render=function(i,o,u){if(!gh(o))throw Error(t(200));return yh(null,i,o,!1,u)},gn.unmountComponentAtNode=function(i){if(!gh(i))throw Error(t(40));return i._reactRootContainer?(Wi(function(){yh(null,null,i,!1,function(){i._reactRootContainer=null,i[rs]=null})}),!0):!1},gn.unstable_batchedUpdates=Mp,gn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!gh(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return yh(i,o,u,!1,f)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var Px;function IT(){if(Px)return qp.exports;Px=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qp.exports=XC(),qp.exports}var kx;function JC(){if(kx)return xh;kx=1;var n=IT();return xh.createRoot=n.createRoot,xh.hydrateRoot=n.hydrateRoot,xh}var ZC=JC();IT();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xu.apply(this,arguments)}var ti;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ti||(ti={}));const Rx="popstate";function eP(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Nm("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:CT(s)}return nP(e,t,null,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function AT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tP(){return Math.random().toString(36).substr(2,8)}function Nx(n,e){return{usr:n.state,key:n.key,idx:e}}function Nm(n,e,t,r){return t===void 0&&(t=null),xu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?za(e):e,{state:t,key:e&&e.key||r||tP()})}function CT(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function za(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function nP(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c=ti.Pop,d=null,p=m();p==null&&(p=0,l.replaceState(xu({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){c=ti.Pop;let b=m(),j=b==null?null:b-p;p=b,d&&d({action:c,location:C.location,delta:j})}function x(b,j){c=ti.Push;let U=Nm(C.location,b,j);p=m()+1;let B=Nx(U,p),H=C.createHref(U);try{l.pushState(B,"",H)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;s.location.assign(H)}a&&d&&d({action:c,location:C.location,delta:1})}function E(b,j){c=ti.Replace;let U=Nm(C.location,b,j);p=m();let B=Nx(U,p),H=C.createHref(U);l.replaceState(B,"",H),a&&d&&d({action:c,location:C.location,delta:0})}function P(b){let j=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof b=="string"?b:CT(b);return U=U.replace(/ $/,"%20"),St(j,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,j)}let C={get action(){return c},get location(){return n(s,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Rx,v),d=b,()=>{s.removeEventListener(Rx,v),d=null}},createHref(b){return e(s,b)},createURL:P,encodeLocation(b){let j=P(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:E,go(b){return l.go(b)}};return C}var Dx;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Dx||(Dx={}));function rP(n,e,t){return t===void 0&&(t="/"),sP(n,e,t)}function sP(n,e,t,r){let s=typeof e=="string"?za(e):e,a=RT(s.pathname||"/",t);if(a==null)return null;let l=PT(n);iP(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=yP(a);c=pP(l[d],p)}return c}function PT(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(St(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=so([r,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(St(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),PT(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:dP(p,a.index),routesMeta:m})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of kT(a.path))s(a,l,d)}),e}function kT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=kT(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function iP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const oP=/^:[\w-]+$/,aP=3,lP=2,uP=1,cP=10,hP=-2,Mx=n=>n==="*";function dP(n,e){let t=n.split("/"),r=t.length;return t.some(Mx)&&(r+=hP),e&&(r+=lP),t.filter(s=>!Mx(s)).reduce((s,a)=>s+(oP.test(a)?aP:a===""?uP:cP),r)}function fP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function pP(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=mP({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),x=d.route;if(!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:so([a,v.pathname]),pathnameBase:_P(so([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=so([a,v.pathnameBase]))}return l}function mP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=gP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,m,v)=>{let{paramName:x,isOptional:E}=m;if(x==="*"){let C=c[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const P=c[v];return E&&!P?p[x]=void 0:p[x]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function gP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),AT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function yP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function RT(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function vP(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?za(n):n;return{pathname:t?t.startsWith("/")?t:xP(t,e):e,search:TP(r),hash:EP(s)}}function xP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Qp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function NT(n,e){let t=wP(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function DT(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=za(n):(s=xu({},n),St(!s.pathname||!s.pathname.includes("?"),Qp("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),Qp("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),Qp("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}c=v>=0?e[v]:"/"}let d=vP(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const so=n=>n.join("/").replace(/\/\/+/g,"/"),_P=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,EP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function SP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const MT=["post","put","patch","delete"];new Set(MT);const bP=["get",...MT];new Set(bP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wu(){return wu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wu.apply(this,arguments)}const Pg=V.createContext(null),IP=V.createContext(null),Uu=V.createContext(null),kd=V.createContext(null),mo=V.createContext({outlet:null,matches:[],isDataRoute:!1}),VT=V.createContext(null);function $u(){return V.useContext(kd)!=null}function kg(){return $u()||St(!1),V.useContext(kd).location}function LT(n){V.useContext(Uu).static||V.useLayoutEffect(n)}function AP(){let{isDataRoute:n}=V.useContext(mo);return n?UP():CP()}function CP(){$u()||St(!1);let n=V.useContext(Pg),{basename:e,future:t,navigator:r}=V.useContext(Uu),{matches:s}=V.useContext(mo),{pathname:a}=kg(),l=JSON.stringify(NT(s,t.v7_relativeSplatPath)),c=V.useRef(!1);return LT(()=>{c.current=!0}),V.useCallback(function(p,m){if(m===void 0&&(m={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let v=DT(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:so([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,l,a,n])}function PP(n,e){return kP(n,e)}function kP(n,e,t,r){$u()||St(!1);let{navigator:s}=V.useContext(Uu),{matches:a}=V.useContext(mo),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=kg(),m;if(e){var v;let b=typeof e=="string"?za(e):e;d==="/"||(v=b.pathname)!=null&&v.startsWith(d)||St(!1),m=b}else m=p;let x=m.pathname||"/",E=x;if(d!=="/"){let b=d.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let P=rP(n,{pathname:E}),C=VP(P&&P.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:so([d,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:so([d,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,r);return e&&C?V.createElement(kd.Provider,{value:{location:wu({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ti.Pop}},C):C}function RP(){let n=FP(),e=SP(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:s},t):null,null)}const NP=V.createElement(RP,null);class DP extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(mo.Provider,{value:this.props.routeContext},V.createElement(VT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MP(n){let{routeContext:e,match:t,children:r}=n,s=V.useContext(Pg);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(mo.Provider,{value:e},r)}function VP(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(s=t)==null?void 0:s.errors;if(c!=null){let m=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);m>=0||St(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:x,errors:E}=t,P=v.route.loader&&x[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||P){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,x)=>{let E,P=!1,C=null,b=null;t&&(E=c&&v.route.id?c[v.route.id]:void 0,C=v.route.errorElement||NP,d&&(p<0&&x===0?($P("route-fallback"),P=!0,b=null):p===x&&(P=!0,b=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,x+1)),U=()=>{let B;return E?B=C:P?B=b:v.route.Component?B=V.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=m,V.createElement(MP,{match:v,routeContext:{outlet:m,matches:j,isDataRoute:t!=null},children:B})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?V.createElement(DP,{location:t.location,revalidation:t.revalidation,component:C,error:E,children:U(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):U()},null)}var OT=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(OT||{}),jT=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(jT||{});function LP(n){let e=V.useContext(Pg);return e||St(!1),e}function OP(n){let e=V.useContext(IP);return e||St(!1),e}function jP(n){let e=V.useContext(mo);return e||St(!1),e}function FT(n){let e=jP(),t=e.matches[e.matches.length-1];return t.route.id||St(!1),t.route.id}function FP(){var n;let e=V.useContext(VT),t=OP(),r=FT();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function UP(){let{router:n}=LP(OT.UseNavigateStable),e=FT(jT.UseNavigateStable),t=V.useRef(!1);return LT(()=>{t.current=!0}),V.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,wu({fromRouteId:e},a)))},[n,e])}const Vx={};function $P(n,e,t){Vx[n]||(Vx[n]=!0)}function BP(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function ma(n){let{to:e,replace:t,state:r,relative:s}=n;$u()||St(!1);let{future:a,static:l}=V.useContext(Uu),{matches:c}=V.useContext(mo),{pathname:d}=kg(),p=AP(),m=DT(e,NT(c,a.v7_relativeSplatPath),d,s==="path"),v=JSON.stringify(m);return V.useEffect(()=>p(JSON.parse(v),{replace:t,state:r,relative:s}),[p,v,s,t,r]),null}function va(n){St(!1)}function zP(n){let{basename:e="/",children:t=null,location:r,navigationType:s=ti.Pop,navigator:a,static:l=!1,future:c}=n;$u()&&St(!1);let d=e.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:d,navigator:a,static:l,future:wu({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof r=="string"&&(r=za(r));let{pathname:m="/",search:v="",hash:x="",state:E=null,key:P="default"}=r,C=V.useMemo(()=>{let b=RT(m,d);return b==null?null:{location:{pathname:b,search:v,hash:x,state:E,key:P},navigationType:s}},[d,m,v,x,E,P,s]);return C==null?null:V.createElement(Uu.Provider,{value:p},V.createElement(kd.Provider,{children:t,value:C}))}function HP(n){let{children:e,location:t}=n;return PP(Dm(e),t)}new Promise(()=>{});function Dm(n,e){e===void 0&&(e=[]);let t=[];return V.Children.forEach(n,(r,s)=>{if(!V.isValidElement(r))return;let a=[...e,s];if(r.type===V.Fragment){t.push.apply(t,Dm(r.props.children,a));return}r.type!==va&&St(!1),!r.props.index||!r.props.children||St(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Dm(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const WP="6";try{window.__reactRouterVersion=WP}catch{}const qP="startTransition",Lx=GC[qP];function KP(n){let{basename:e,children:t,future:r,window:s}=n,a=V.useRef();a.current==null&&(a.current=eP({window:s,v5Compat:!0}));let l=a.current,[c,d]=V.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},m=V.useCallback(v=>{p&&Lx?Lx(()=>d(v)):d(v)},[d,p]);return V.useLayoutEffect(()=>l.listen(m),[l,m]),V.useEffect(()=>BP(r),[r]),V.createElement(zP,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:r})}var Ox;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ox||(Ox={}));var jx;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(jx||(jx={}));let GP={data:""},QP=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||GP,YP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,XP=/\/\*[^]*?\*\/|  +/g,Fx=/\n+/g,Js=(n,e)=>{let t="",r="",s="";for(let a in n){let l=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+l+";":r+=a[1]=="f"?Js(l,a):a+"{"+Js(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=Js(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Js.p?Js.p(a,l):a+":"+l+";")}return t+(e&&s?e+"{"+s+"}":s)+r},hs={},UT=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+UT(n[t]);return e}return n},JP=(n,e,t,r,s)=>{let a=UT(n),l=hs[a]||(hs[a]=(d=>{let p=0,m=11;for(;p<d.length;)m=101*m+d.charCodeAt(p++)>>>0;return"go"+m})(a));if(!hs[l]){let d=a!==n?n:(p=>{let m,v,x=[{}];for(;m=YP.exec(p.replace(XP,""));)m[4]?x.shift():m[3]?(v=m[3].replace(Fx," ").trim(),x.unshift(x[0][v]=x[0][v]||{})):x[0][m[1]]=m[2].replace(Fx," ").trim();return x[0]})(n);hs[l]=Js(s?{["@keyframes "+l]:d}:d,t?"":"."+l)}let c=t&&hs.g?hs.g:null;return t&&(hs.g=hs[l]),((d,p,m,v)=>{v?p.data=p.data.replace(v,d):p.data.indexOf(d)===-1&&(p.data=m?d+p.data:p.data+d)})(hs[l],e,r,c),l},ZP=(n,e,t)=>n.reduce((r,s,a)=>{let l=e[a];if(l&&l.call){let c=l(t),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":Js(c,""):c===!1?"":c}return r+s+(l??"")},"");function Rd(n){let e=this||{},t=n.call?n(e.p):n;return JP(t.unshift?t.raw?ZP(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,QP(e.target),e.g,e.o,e.k)}let $T,Mm,Vm;Rd.bind({g:1});let xs=Rd.bind({k:1});function ek(n,e,t,r){Js.p=e,$T=n,Mm=t,Vm=r}function gi(n,e){let t=this||{};return function(){let r=arguments;function s(a,l){let c=Object.assign({},a),d=c.className||s.className;t.p=Object.assign({theme:Mm&&Mm()},c),t.o=/ *go\d+/.test(d),c.className=Rd.apply(t,r)+(d?" "+d:"");let p=n;return n[0]&&(p=c.as||n,delete c.as),Vm&&p[0]&&Vm(c),$T(p,c)}return s}}var tk=n=>typeof n=="function",Gh=(n,e)=>tk(n)?n(e):n,nk=(()=>{let n=0;return()=>(++n).toString()})(),BT=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),rk=20,Rg="default",zT=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return zT(n,{type:n.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Mh=[],HT={toasts:[],pausedAt:void 0,settings:{toastLimit:rk}},Nr={},WT=(n,e=Rg)=>{Nr[e]=zT(Nr[e]||HT,n),Mh.forEach(([t,r])=>{t===e&&r(Nr[e])})},qT=n=>Object.keys(Nr).forEach(e=>WT(n,e)),sk=n=>Object.keys(Nr).find(e=>Nr[e].toasts.some(t=>t.id===n)),Nd=(n=Rg)=>e=>{WT(e,n)},ik={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ok=(n={},e=Rg)=>{let[t,r]=V.useState(Nr[e]||HT),s=V.useRef(Nr[e]);V.useEffect(()=>(s.current!==Nr[e]&&r(Nr[e]),Mh.push([e,r]),()=>{let l=Mh.findIndex(([c])=>c===e);l>-1&&Mh.splice(l,1)}),[e]);let a=t.toasts.map(l=>{var c,d,p;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||n?.removeDelay,duration:l.duration||((d=n[l.type])==null?void 0:d.duration)||n?.duration||ik[l.type],style:{...n.style,...(p=n[l.type])==null?void 0:p.style,...l.style}}});return{...t,toasts:a}},ak=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||nk()}),Bu=n=>(e,t)=>{let r=ak(e,n,t);return Nd(r.toasterId||sk(r.id))({type:2,toast:r}),r.id},Rt=(n,e)=>Bu("blank")(n,e);Rt.error=Bu("error");Rt.success=Bu("success");Rt.loading=Bu("loading");Rt.custom=Bu("custom");Rt.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Nd(e)(t):qT(t)};Rt.dismissAll=n=>Rt.dismiss(void 0,n);Rt.remove=(n,e)=>{let t={type:4,toastId:n};e?Nd(e)(t):qT(t)};Rt.removeAll=n=>Rt.remove(void 0,n);Rt.promise=(n,e,t)=>{let r=Rt.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let a=e.success?Gh(e.success,s):void 0;return a?Rt.success(a,{id:r,...t,...t?.success}):Rt.dismiss(r),s}).catch(s=>{let a=e.error?Gh(e.error,s):void 0;a?Rt.error(a,{id:r,...t,...t?.error}):Rt.dismiss(r)}),n};var lk=1e3,uk=(n,e="default")=>{let{toasts:t,pausedAt:r}=ok(n,e),s=V.useRef(new Map).current,a=V.useCallback((v,x=lk)=>{if(s.has(v))return;let E=setTimeout(()=>{s.delete(v),l({type:4,toastId:v})},x);s.set(v,E)},[]);V.useEffect(()=>{if(r)return;let v=Date.now(),x=t.map(E=>{if(E.duration===1/0)return;let P=(E.duration||0)+E.pauseDuration-(v-E.createdAt);if(P<0){E.visible&&Rt.dismiss(E.id);return}return setTimeout(()=>Rt.dismiss(E.id,e),P)});return()=>{x.forEach(E=>E&&clearTimeout(E))}},[t,r,e]);let l=V.useCallback(Nd(e),[e]),c=V.useCallback(()=>{l({type:5,time:Date.now()})},[l]),d=V.useCallback((v,x)=>{l({type:1,toast:{id:v,height:x}})},[l]),p=V.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=V.useCallback((v,x)=>{let{reverseOrder:E=!1,gutter:P=8,defaultPosition:C}=x||{},b=t.filter(B=>(B.position||C)===(v.position||C)&&B.height),j=b.findIndex(B=>B.id===v.id),U=b.filter((B,H)=>H<j&&B.visible).length;return b.filter(B=>B.visible).slice(...E?[U+1]:[0,U]).reduce((B,H)=>B+(H.height||0)+P,0)},[t]);return V.useEffect(()=>{t.forEach(v=>{if(v.dismissed)a(v.id,v.removeDelay);else{let x=s.get(v.id);x&&(clearTimeout(x),s.delete(v.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:d,startPause:c,endPause:p,calculateOffset:m}}},ck=xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,hk=xs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dk=xs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fk=gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ck} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${hk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pk=xs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mk=gi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${pk} 1s linear infinite;
`,gk=xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yk=xs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vk=gi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xk=gi("div")`
  position: absolute;
`,wk=gi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_k=xs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tk=gi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_k} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ek=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?V.createElement(Tk,null,e):e:t==="blank"?null:V.createElement(wk,null,V.createElement(mk,{...r}),t!=="loading"&&V.createElement(xk,null,t==="error"?V.createElement(fk,{...r}):V.createElement(vk,{...r})))},Sk=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,bk=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Ik="0%{opacity:0;} 100%{opacity:1;}",Ak="0%{opacity:1;} 100%{opacity:0;}",Ck=gi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pk=gi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kk=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=BT()?[Ik,Ak]:[Sk(t),bk(t)];return{animation:e?`${xs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Rk=V.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?kk(n.position||e||"top-center",n.visible):{opacity:0},a=V.createElement(Ek,{toast:n}),l=V.createElement(Pk,{...n.ariaProps},Gh(n.message,n));return V.createElement(Ck,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:a,message:l}):V.createElement(V.Fragment,null,a,l))});ek(V.createElement);var Nk=({id:n,className:e,style:t,onHeightUpdate:r,children:s})=>{let a=V.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;r(n,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return V.createElement("div",{ref:a,className:e,style:t},s)},Dk=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:BT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...s}},Mk=Rd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wh=16,Vk=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:s,toasterId:a,containerStyle:l,containerClassName:c})=>{let{toasts:d,handlers:p}=uk(t,a);return V.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:wh,left:wh,right:wh,bottom:wh,pointerEvents:"none",...l},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(m=>{let v=m.position||e,x=p.calculateOffset(m,{reverseOrder:n,gutter:r,defaultPosition:e}),E=Dk(v,x);return V.createElement(Nk,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?Mk:"",style:E},m.type==="custom"?Gh(m.message,m):s?s(m):V.createElement(Rk,{toast:m,position:v}))}))},Cn=Rt;function Lk(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];io(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Ux={};function Lm(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];io(e[0])&&Ux[e[0]]||(io(e[0])&&(Ux[e[0]]=new Date),Lk(...e))}const KT=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},$x=(n,e,t)=>{n.loadNamespaces(e,KT(n,t))},Bx=(n,e,t,r)=>{io(t)&&(t=[t]),t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,KT(n,r))},Ok=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],s=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const p=e.services.backendConnector.state[`${c}|${d}`];return p===-1||p===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!l(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||l(r,n)&&(!s||l(a,n)))},jk=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Lm("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,n))return!1}}):Ok(n,e,t)},io=n=>typeof n=="string",Fk=n=>typeof n=="object"&&n!==null,Uk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$k={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Bk=n=>$k[n],zk=n=>n.replace(Uk,Bk);let Om={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zk};const Hk=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Om={...Om,...n}},Wk=()=>Om;let GT;const qk=n=>{GT=n},Kk=()=>GT,Gk={type:"3rdParty",init(n){Hk(n.options.react),qk(n)}},Qk=V.createContext();class Yk{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces=()=>Object.keys(this.usedNamespaces)}const Xk=(n,e)=>{const t=V.useRef();return V.useEffect(()=>{t.current=n},[n,e]),t.current},QT=(n,e,t,r)=>n.getFixedT(e,t,r),Jk=(n,e,t,r)=>V.useCallback(QT(n,e,t,r),[n,e,t,r]),Gn=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:r,defaultNS:s}=V.useContext(Qk)||{},a=t||r||Kk();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Yk),!a){Lm("You will need to pass in an i18next instance by using initReactI18next");const H=(G,k)=>io(k)?k:Fk(k)&&io(k.defaultValue)?k.defaultValue:Array.isArray(G)?G[G.length-1]:G,W=[H,{},!1];return W.t=H,W.i18n={},W.ready=!1,W}a.options.react&&a.options.react.wait!==void 0&&Lm("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...Wk(),...a.options.react,...e},{useSuspense:c,keyPrefix:d}=l;let p=s||a.options&&a.options.defaultNS;p=io(p)?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(p);const m=(a.isInitialized||a.initializedStoreOnce)&&p.every(H=>jk(H,a,l)),v=Jk(a,e.lng||null,l.nsMode==="fallback"?p:p[0],d),x=()=>v,E=()=>QT(a,e.lng||null,l.nsMode==="fallback"?p:p[0],d),[P,C]=V.useState(x);let b=p.join();e.lng&&(b=`${e.lng}${b}`);const j=Xk(b),U=V.useRef(!0);V.useEffect(()=>{const{bindI18n:H,bindI18nStore:W}=l;U.current=!0,!m&&!c&&(e.lng?Bx(a,e.lng,p,()=>{U.current&&C(E)}):$x(a,p,()=>{U.current&&C(E)})),m&&j&&j!==b&&U.current&&C(E);const G=()=>{U.current&&C(E)};return H&&a&&a.on(H,G),W&&a&&a.store.on(W,G),()=>{U.current=!1,H&&a&&H.split(" ").forEach(k=>a.off(k,G)),W&&a&&W.split(" ").forEach(k=>a.store.off(k,G))}},[a,b]),V.useEffect(()=>{U.current&&m&&C(x)},[a,d,m]);const B=[P,a,m];if(B.t=P,B.i18n=a,B.ready=m,m||!m&&!c)return B;throw new Promise(H=>{e.lng?Bx(a,e.lng,p,()=>H()):$x(a,p,()=>H())})},Ng=V.createContext({});function Dg(n){const e=V.useRef(null);return e.current===null&&(e.current=n()),e.current}const Dd=V.createContext(null),Mg=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Zk extends V.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function eR({children:n,isPresent:e}){const t=V.useId(),r=V.useRef(null),s=V.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=V.useContext(Mg);return V.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:p}=s.current;if(e||!r.current||!l||!c)return;r.current.dataset.motionPopId=t;const m=document.createElement("style");return a&&(m.nonce=a),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${d}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),y.jsx(Zk,{isPresent:e,childRef:r,sizeRef:s,children:V.cloneElement(n,{ref:r})})}const tR=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const c=Dg(nR),d=V.useId(),p=V.useCallback(v=>{c.set(v,!0);for(const x of c.values())if(!x)return;r&&r()},[c,r]),m=V.useMemo(()=>({id:d,initial:e,isPresent:t,custom:s,onExitComplete:p,register:v=>(c.set(v,!1),()=>c.delete(v))}),a?[Math.random(),p]:[t,p]);return V.useMemo(()=>{c.forEach((v,x)=>c.set(x,!1))},[t]),V.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),l==="popLayout"&&(n=y.jsx(eR,{isPresent:t,children:n})),y.jsx(Dd.Provider,{value:m,children:n})};function nR(){return new Map}function YT(n=!0){const e=V.useContext(Dd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=V.useId();V.useEffect(()=>{n&&s(a)},[n]);const l=V.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const _h=n=>n.key||"";function zx(n){const e=[];return V.Children.forEach(n,t=>{V.isValidElement(t)&&e.push(t)}),e}const Vg=typeof window<"u",XT=Vg?V.useLayoutEffect:V.useEffect,Mr=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1})=>{const[c,d]=YT(l),p=V.useMemo(()=>zx(n),[n]),m=l&&!c?[]:p.map(_h),v=V.useRef(!0),x=V.useRef(p),E=Dg(()=>new Map),[P,C]=V.useState(p),[b,j]=V.useState(p);XT(()=>{v.current=!1,x.current=p;for(let H=0;H<b.length;H++){const W=_h(b[H]);m.includes(W)?E.delete(W):E.get(W)!==!0&&E.set(W,!1)}},[b,m.length,m.join("-")]);const U=[];if(p!==P){let H=[...p];for(let W=0;W<b.length;W++){const G=b[W],k=_h(G);m.includes(k)||(H.splice(W,0,G),U.push(G))}a==="wait"&&U.length&&(H=U),j(zx(H)),C(p);return}const{forceRender:B}=V.useContext(Ng);return y.jsx(y.Fragment,{children:b.map(H=>{const W=_h(H),G=l&&!c?!1:p===b||m.includes(W),k=()=>{if(E.has(W))E.set(W,!0);else return;let I=!0;E.forEach(R=>{R||(I=!1)}),I&&(B?.(),j(x.current),l&&d?.(),r&&r())};return y.jsx(tR,{isPresent:G,initial:!v.current||t?void 0:!1,custom:G?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:G?void 0:k,children:H},W)})})},kn=n=>n;let JT=kn;function Lg(n){let e;return()=>(e===void 0&&(e=n()),e)}const Da=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},gs=n=>n*1e3,ys=n=>n/1e3,rR={useManualTiming:!1};function sR(n){let e=new Set,t=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(d.schedule(p),n()),p(l)}const d={schedule:(p,m=!1,v=!1)=>{const E=v&&r?e:t;return m&&a.add(p),E.has(p)||E.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(c),e.clear(),r=!1,s&&(s=!1,d.process(p))}};return d}const Th=["read","resolveKeyframes","update","preRender","render","postRender"],iR=40;function ZT(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=Th.reduce((j,U)=>(j[U]=sR(a),j),{}),{read:c,resolveKeyframes:d,update:p,preRender:m,render:v,postRender:x}=l,E=()=>{const j=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,iR),1),s.timestamp=j,s.isProcessing=!0,c.process(s),d.process(s),p.process(s),m.process(s),v.process(s),x.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(E))},P=()=>{t=!0,r=!0,s.isProcessing||n(E)};return{schedule:Th.reduce((j,U)=>{const B=l[U];return j[U]=(H,W=!1,G=!1)=>(t||P(),B.schedule(H,W,G)),j},{}),cancel:j=>{for(let U=0;U<Th.length;U++)l[Th[U]].cancel(j)},state:s,steps:l}}const{schedule:st,cancel:ai,state:zt,steps:Yp}=ZT(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0),eE=V.createContext({strict:!1}),Hx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ma={};for(const n in Hx)Ma[n]={isEnabled:e=>Hx[n].some(t=>!!e[t])};function oR(n){for(const e in n)Ma[e]={...Ma[e],...n[e]}}const aR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||aR.has(n)}let tE=n=>!Qh(n);function lR(n){n&&(tE=e=>e.startsWith("on")?!Qh(e):n(e))}try{lR(require("@emotion/is-prop-valid").default)}catch{}function uR(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(tE(s)||t===!0&&Qh(s)||!e&&!Qh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function cR(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Md=V.createContext({});function _u(n){return typeof n=="string"||Array.isArray(n)}function Vd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Og=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jg=["initial",...Og];function Ld(n){return Vd(n.animate)||jg.some(e=>_u(n[e]))}function nE(n){return!!(Ld(n)||n.variants)}function hR(n,e){if(Ld(n)){const{initial:t,animate:r}=n;return{initial:t===!1||_u(t)?t:void 0,animate:_u(r)?r:void 0}}return n.inherit!==!1?e:{}}function dR(n){const{initial:e,animate:t}=hR(n,V.useContext(Md));return V.useMemo(()=>({initial:e,animate:t}),[Wx(e),Wx(t)])}function Wx(n){return Array.isArray(n)?n.join(" "):n}const fR=Symbol.for("motionComponentSymbol");function Ea(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pR(n,e,t){return V.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ea(t)&&(t.current=r))},[e])}const Fg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mR="framerAppearId",rE="data-"+Fg(mR),{schedule:Ug}=ZT(queueMicrotask,!1),sE=V.createContext({});function gR(n,e,t,r,s){var a,l;const{visualElement:c}=V.useContext(Md),d=V.useContext(eE),p=V.useContext(Dd),m=V.useContext(Mg).reducedMotion,v=V.useRef(null);r=r||d.renderer,!v.current&&r&&(v.current=r(n,{visualState:e,parent:c,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const x=v.current,E=V.useContext(sE);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&yR(v.current,t,s,E);const P=V.useRef(!1);V.useInsertionEffect(()=>{x&&P.current&&x.update(t,p)});const C=t[rE],b=V.useRef(!!C&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,C))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,C)));return XT(()=>{x&&(P.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Ug.render(x.render),b.current&&x.animationState&&x.animationState.animateChanges())}),V.useEffect(()=>{x&&(!b.current&&x.animationState&&x.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,C)}),b.current=!1))}),x}function yR(n,e,t,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:iE(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Ea(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function iE(n){if(n)return n.options.allowProjection!==!1?n.projection:iE(n.parent)}function vR({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var a,l;n&&oR(n);function c(p,m){let v;const x={...V.useContext(Mg),...p,layoutId:xR(p)},{isStatic:E}=x,P=dR(p),C=r(p,E);if(!E&&Vg){wR();const b=_R(x);v=b.MeasureLayout,P.visualElement=gR(s,C,x,e,b.ProjectionNode)}return y.jsxs(Md.Provider,{value:P,children:[v&&P.visualElement?y.jsx(v,{visualElement:P.visualElement,...x}):null,t(s,p,pR(C,P.visualElement,m),C,E,P.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const d=V.forwardRef(c);return d[fR]=s,d}function xR({layoutId:n}){const e=V.useContext(Ng).id;return e&&n!==void 0?e+"-"+n:n}function wR(n,e){V.useContext(eE).strict}function _R(n){const{drag:e,layout:t}=Ma;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const TR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $g(n){return typeof n!="string"||n.includes("-")?!1:!!(TR.indexOf(n)>-1||/[A-Z]/u.test(n))}function qx(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Bg(n,e,t,r){if(typeof e=="function"){const[s,a]=qx(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=qx(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const jm=n=>Array.isArray(n),ER=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),SR=n=>jm(n)?n[n.length-1]||0:n,tn=n=>!!(n&&n.getVelocity);function Vh(n){const e=tn(n)?n.get():n;return ER(e)?e.toValue():e}function bR({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const l={latestValues:IR(r,s,a,n),renderState:e()};return t&&(l.onMount=c=>t({props:r,current:c,...l}),l.onUpdate=c=>t(c)),l}const oE=n=>(e,t)=>{const r=V.useContext(Md),s=V.useContext(Dd),a=()=>bR(n,e,r,s);return t?a():Dg(a)};function IR(n,e,t,r){const s={},a=r(n,{});for(const x in a)s[x]=Vh(a[x]);let{initial:l,animate:c}=n;const d=Ld(n),p=nE(n);e&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!Vd(v)){const x=Array.isArray(v)?v:[v];for(let E=0;E<x.length;E++){const P=Bg(n,x[E]);if(P){const{transitionEnd:C,transition:b,...j}=P;for(const U in j){let B=j[U];if(Array.isArray(B)){const H=m?B.length-1:0;B=B[H]}B!==null&&(s[U]=B)}for(const U in C)s[U]=C[U]}}}return s}const Ha=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],go=new Set(Ha),aE=n=>e=>typeof e=="string"&&e.startsWith(n),lE=aE("--"),AR=aE("var(--"),zg=n=>AR(n)?CR.test(n.split("/*")[0].trim()):!1,CR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uE=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ws=(n,e,t)=>t>e?e:t<n?n:t,Wa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Tu={...Wa,transform:n=>ws(0,1,n)},Eh={...Wa,default:1},zu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Xs=zu("deg"),Vr=zu("%"),Se=zu("px"),PR=zu("vh"),kR=zu("vw"),Kx={...Vr,parse:n=>Vr.parse(n)/100,transform:n=>Vr.transform(n*100)},RR={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},NR={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:Eh,scaleX:Eh,scaleY:Eh,scaleZ:Eh,skew:Xs,skewX:Xs,skewY:Xs,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Tu,originX:Kx,originY:Kx,originZ:Se},Gx={...Wa,transform:Math.round},Hg={...RR,...NR,zIndex:Gx,size:Se,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:Gx},DR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MR=Ha.length;function VR(n,e,t){let r="",s=!0;for(let a=0;a<MR;a++){const l=Ha[a],c=n[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const p=uE(c,Hg[l]);if(!d){s=!1;const m=DR[l]||l;r+=`${m}(${p}) `}t&&(e[l]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Wg(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let l=!1,c=!1;for(const d in e){const p=e[d];if(go.has(d)){l=!0;continue}else if(lE(d)){s[d]=p;continue}else{const m=uE(p,Hg[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(l||t?r.transform=VR(e,n.transform,t):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const LR={offset:"stroke-dashoffset",array:"stroke-dasharray"},OR={offset:"strokeDashoffset",array:"strokeDasharray"};function jR(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?LR:OR;n[a.offset]=Se.transform(-r);const l=Se.transform(e),c=Se.transform(t);n[a.array]=`${l} ${c}`}function Qx(n,e,t){return typeof n=="string"?n:Se.transform(e+t*n)}function FR(n,e,t){const r=Qx(e,n.x,n.width),s=Qx(t,n.y,n.height);return`${r} ${s}`}function qg(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},m,v){if(Wg(n,p,v),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:E,dimensions:P}=n;x.transform&&(P&&(E.transform=x.transform),delete x.transform),P&&(s!==void 0||a!==void 0||E.transform)&&(E.transformOrigin=FR(P,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),r!==void 0&&(x.scale=r),l!==void 0&&jR(x,l,c,d,!1)}const Kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cE=()=>({...Kg(),attrs:{}}),Gg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function hE(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const dE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fE(n,e,t,r){hE(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(dE.has(s)?s:Fg(s),e.attrs[s])}const Yh={};function UR(n){Object.assign(Yh,n)}function pE(n,{layout:e,layoutId:t}){return go.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Yh[n]||n==="opacity")}function Qg(n,e,t){var r;const{style:s}=n,a={};for(const l in s)(tn(s[l])||e.style&&tn(e.style[l])||pE(l,n)||((r=t?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function mE(n,e,t){const r=Qg(n,e,t);for(const s in n)if(tn(n[s])||tn(e[s])){const a=Ha.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}function $R(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Yx=["x","y","width","height","cx","cy","r"],BR={useVisualState:oE({scrapeMotionValuesFromProps:mE,createRenderState:cE,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const c in s)if(go.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<Yx.length;c++){const d=Yx[c];n[d]!==e[d]&&(l=!0)}l&&st.read(()=>{$R(t,r),st.render(()=>{qg(r,s,Gg(t.tagName),n.transformTemplate),fE(t,r)})})}})},zR={useVisualState:oE({scrapeMotionValuesFromProps:Qg,createRenderState:Kg})};function gE(n,e,t){for(const r in e)!tn(e[r])&&!pE(r,t)&&(n[r]=e[r])}function HR({transformTemplate:n},e){return V.useMemo(()=>{const t=Kg();return Wg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function WR(n,e){const t=n.style||{},r={};return gE(r,t,n),Object.assign(r,HR(n,e)),r}function qR(n,e){const t={},r=WR(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function KR(n,e,t,r){const s=V.useMemo(()=>{const a=cE();return qg(a,e,Gg(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};gE(a,n.style,n),s.style={...a,...s.style}}return s}function GR(n=!1){return(t,r,s,{latestValues:a},l)=>{const d=($g(t)?KR:qR)(r,a,l,t),p=uR(r,typeof t=="string",n),m=t!==V.Fragment?{...p,...d,ref:s}:{},{children:v}=r,x=V.useMemo(()=>tn(v)?v.get():v,[v]);return V.createElement(t,{...m,children:x})}}function QR(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...$g(r)?BR:zR,preloadedFeatures:n,useRender:GR(s),createVisualElement:e,Component:r};return vR(l)}}function yE(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Od(n,e,t){const r=n.getProps();return Bg(r,e,t!==void 0?t:r.custom,n)}const YR=Lg(()=>window.ScrollTimeline!==void 0);class XR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(YR()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JR extends XR{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Yg(n,e){return n?n[e]||n.default||n:void 0}const Fm=2e4;function vE(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Fm;)e+=t,r=n.next(e);return e>=Fm?1/0:e}function Xg(n){return typeof n=="function"}function Xx(n,e){n.timeline=e,n.onfinish=null}const Jg=n=>Array.isArray(n)&&typeof n[0]=="number",ZR={linearEasing:void 0};function e2(n,e){const t=Lg(n);return()=>{var r;return(r=ZR[e])!==null&&r!==void 0?r:t()}}const Xh=e2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xE=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(Da(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function wE(n){return!!(typeof n=="function"&&Xh()||!n||typeof n=="string"&&(n in Um||Xh())||Jg(n)||Array.isArray(n)&&n.every(wE))}const Zl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Um={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zl([0,.65,.55,1]),circOut:Zl([.55,0,1,.45]),backIn:Zl([.31,.01,.66,-.59]),backOut:Zl([.33,1.53,.69,.99])};function _E(n,e){if(n)return typeof n=="function"&&Xh()?xE(n,e):Jg(n)?Zl(n):Array.isArray(n)?n.map(t=>_E(t,e)||Um.easeOut):Um[n]}const hr={x:!1,y:!1};function TE(){return hr.x||hr.y}function t2(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function EE(n,e){const t=t2(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function Jx(n){return e=>{e.pointerType==="touch"||TE()||n(e)}}function n2(n,e,t={}){const[r,s,a]=EE(n,t),l=Jx(c=>{const{target:d}=c,p=e(c);if(typeof p!="function"||!d)return;const m=Jx(v=>{p(v),d.removeEventListener("pointerleave",m)});d.addEventListener("pointerleave",m,s)});return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const SE=(n,e)=>e?n===e?!0:SE(n,e.parentElement):!1,Zg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,r2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s2(n){return r2.has(n.tagName)||n.tabIndex!==-1}const eu=new WeakSet;function Zx(n){return e=>{e.key==="Enter"&&n(e)}}function Xp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const i2=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Zx(()=>{if(eu.has(t))return;Xp(t,"down");const s=Zx(()=>{Xp(t,"up")}),a=()=>Xp(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function ew(n){return Zg(n)&&!TE()}function o2(n,e,t={}){const[r,s,a]=EE(n,t),l=c=>{const d=c.currentTarget;if(!ew(c)||eu.has(d))return;eu.add(d);const p=e(c),m=(E,P)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),!(!ew(E)||!eu.has(d))&&(eu.delete(d),typeof p=="function"&&p(E,{success:P}))},v=E=>{m(E,t.useGlobalTarget||SE(d,E.target))},x=E=>{m(E,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return r.forEach(c=>{!s2(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(t.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",p=>i2(p,s),s)}),a}function a2(n){return n==="x"||n==="y"?hr[n]?null:(hr[n]=!0,()=>{hr[n]=!1}):hr.x||hr.y?null:(hr.x=hr.y=!0,()=>{hr.x=hr.y=!1})}const bE=new Set(["width","height","top","left","right","bottom",...Ha]);let Lh;function l2(){Lh=void 0}const Lr={now:()=>(Lh===void 0&&Lr.set(zt.isProcessing||rR.useManualTiming?zt.timestamp:performance.now()),Lh),set:n=>{Lh=n,queueMicrotask(l2)}};function ey(n,e){n.indexOf(e)===-1&&n.push(e)}function ty(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ny{constructor(){this.subscriptions=[]}add(e){return ey(this.subscriptions,e),()=>ty(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function IE(n,e){return e?n*(1e3/e):0}const tw=30,u2=n=>!isNaN(parseFloat(n));class c2{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Lr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=u2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ny);const r=this.events[e].add(t);return e==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,tw);return IE(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eu(n,e){return new c2(n,e)}function h2(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Eu(t))}function d2(n,e){const t=Od(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const l in a){const c=SR(a[l]);h2(n,l,c)}}function f2(n){return!!(tn(n)&&n.add)}function $m(n,e){const t=n.getValue("willChange");if(f2(t))return t.add(e)}function AE(n){return n.props[rE]}const CE=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,p2=1e-7,m2=12;function g2(n,e,t,r,s){let a,l,c=0;do l=e+(t-e)/2,a=CE(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>p2&&++c<m2);return l}function Hu(n,e,t,r){if(n===e&&t===r)return kn;const s=a=>g2(a,0,1,n,t);return a=>a===0||a===1?a:CE(s(a),e,r)}const PE=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,kE=n=>e=>1-n(1-e),RE=Hu(.33,1.53,.69,.99),ry=kE(RE),NE=PE(ry),DE=n=>(n*=2)<1?.5*ry(n):.5*(2-Math.pow(2,-10*(n-1))),sy=n=>1-Math.sin(Math.acos(n)),ME=kE(sy),VE=PE(sy),LE=n=>/^0[^.\s]+$/u.test(n);function y2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||LE(n):!0}const ou=n=>Math.round(n*1e5)/1e5,iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v2(n){return n==null}const x2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oy=(n,e)=>t=>!!(typeof t=="string"&&x2.test(t)&&t.startsWith(n)||e&&!v2(t)&&Object.prototype.hasOwnProperty.call(t,e)),OE=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(iy);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},w2=n=>ws(0,255,n),Jp={...Wa,transform:n=>Math.round(w2(n))},Zi={test:oy("rgb","red"),parse:OE("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Jp.transform(n)+", "+Jp.transform(e)+", "+Jp.transform(t)+", "+ou(Tu.transform(r))+")"};function _2(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Bm={test:oy("#"),parse:_2,transform:Zi.transform},Sa={test:oy("hsl","hue"),parse:OE("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Vr.transform(ou(e))+", "+Vr.transform(ou(t))+", "+ou(Tu.transform(r))+")"},Jt={test:n=>Zi.test(n)||Bm.test(n)||Sa.test(n),parse:n=>Zi.test(n)?Zi.parse(n):Sa.test(n)?Sa.parse(n):Bm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Zi.transform(n):Sa.transform(n)},T2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function E2(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(iy))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(T2))===null||t===void 0?void 0:t.length)||0)>0}const jE="number",FE="color",S2="var",b2="var(",nw="${}",I2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(I2,d=>(Jt.test(d)?(r.color.push(a),s.push(FE),t.push(Jt.parse(d))):d.startsWith(b2)?(r.var.push(a),s.push(S2),t.push(d)):(r.number.push(a),s.push(jE),t.push(parseFloat(d))),++a,nw)).split(nw);return{values:t,split:c,indexes:r,types:s}}function UE(n){return Su(n).values}function $E(n){const{split:e,types:t}=Su(n),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=t[l];c===jE?a+=ou(s[l]):c===FE?a+=Jt.transform(s[l]):a+=s[l]}return a}}const A2=n=>typeof n=="number"?0:n;function C2(n){const e=UE(n);return $E(n)(e.map(A2))}const li={test:E2,parse:UE,createTransformer:$E,getAnimatableNone:C2},P2=new Set(["brightness","contrast","saturate","opacity"]);function k2(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(iy)||[];if(!r)return n;const s=t.replace(r,"");let a=P2.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const R2=/\b([a-z-]*)\(.*?\)/gu,zm={...li,getAnimatableNone:n=>{const e=n.match(R2);return e?e.map(k2).join(" "):n}},N2={...Hg,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:zm,WebkitFilter:zm},ay=n=>N2[n];function BE(n,e){let t=ay(n);return t!==zm&&(t=li),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const D2=new Set(["auto","none","0"]);function M2(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!D2.has(a)&&Su(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=BE(t,s)}const rw=n=>n===Wa||n===Se,sw=(n,e)=>parseFloat(n.split(", ")[e]),iw=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return sw(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?sw(a[1],n):0}},V2=new Set(["x","y","z"]),L2=Ha.filter(n=>!V2.has(n));function O2(n){const e=[];return L2.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Va={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:iw(4,13),y:iw(5,14)};Va.translateX=Va.x;Va.translateY=Va.y;const oo=new Set;let Hm=!1,Wm=!1;function zE(){if(Wm){const n=Array.from(oo).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=O2(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wm=!1,Hm=!1,oo.forEach(n=>n.complete()),oo.clear()}function HE(){oo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Wm=!0)})}function j2(){HE(),zE()}class ly{constructor(e,t,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(oo.add(this),Hm||(Hm=!0,st.read(HE),st.resolveKeyframes(zE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const d=r.readValue(t,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),oo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,oo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const WE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),F2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U2(n){const e=F2.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function qE(n,e,t=1){const[r,s]=U2(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return WE(l)?parseFloat(l):l}return zg(s)?qE(s,e,t+1):s}const KE=n=>e=>e.test(n),$2={test:n=>n==="auto",parse:n=>n},GE=[Wa,Se,Vr,Xs,kR,PR,$2],ow=n=>GE.find(KE(n));class QE extends ly{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),zg(p))){const m=qE(p,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!bE.has(r)||e.length!==2)return;const[s,a]=e,l=ow(s),c=ow(a);if(l!==c)if(rw(l)&&rw(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)y2(e[s])&&r.push(s);r.length&&M2(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Va[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Va[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const aw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(li.test(n)||n==="0")&&!n.startsWith("url("));function B2(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function z2(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=aw(s,e),c=aw(a,e);return!l||!c?!1:B2(n)||(t==="spring"||Xg(t))&&r}const H2=n=>n!==null;function jd(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(H2),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const W2=40;class YE{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lr.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>W2?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&j2(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Lr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!z2(e,r,s,a))if(l)this.options.duration=0;else{d&&d(jd(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(n,e,t)=>n+(e-n)*t;function Zp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function q2({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;s=Zp(d,c,n+1/3),a=Zp(d,c,n),l=Zp(d,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Jh(n,e){return t=>t>0?e:n}const em=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},K2=[Bm,Zi,Sa],G2=n=>K2.find(e=>e.test(n));function lw(n){const e=G2(n);if(!e)return!1;let t=e.parse(n);return e===Sa&&(t=q2(t)),t}const uw=(n,e)=>{const t=lw(n),r=lw(e);if(!t||!r)return Jh(n,e);const s={...t};return a=>(s.red=em(t.red,r.red,a),s.green=em(t.green,r.green,a),s.blue=em(t.blue,r.blue,a),s.alpha=ct(t.alpha,r.alpha,a),Zi.transform(s))},Q2=(n,e)=>t=>e(n(t)),Wu=(...n)=>n.reduce(Q2),qm=new Set(["none","hidden"]);function Y2(n,e){return qm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function X2(n,e){return t=>ct(n,e,t)}function uy(n){return typeof n=="number"?X2:typeof n=="string"?zg(n)?Jh:Jt.test(n)?uw:eN:Array.isArray(n)?XE:typeof n=="object"?Jt.test(n)?uw:J2:Jh}function XE(n,e){const t=[...n],r=t.length,s=n.map((a,l)=>uy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}}function J2(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=uy(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function Z2(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][s[l]],d=(t=n.values[c])!==null&&t!==void 0?t:0;r[a]=d,s[l]++}return r}const eN=(n,e)=>{const t=li.createTransformer(e),r=Su(n),s=Su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?qm.has(n)&&!s.values.length||qm.has(e)&&!r.values.length?Y2(n,e):Wu(XE(Z2(r,s),s.values),t):Jh(n,e)};function JE(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ct(n,e,t):uy(n)(n,e)}const tN=5;function ZE(n,e,t){const r=Math.max(e-tN,0);return IE(t-n(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tm=.001;function nN({duration:n=ft.duration,bounce:e=ft.bounce,velocity:t=ft.velocity,mass:r=ft.mass}){let s,a,l=1-e;l=ws(ft.minDamping,ft.maxDamping,l),n=ws(ft.minDuration,ft.maxDuration,ys(n)),l<1?(s=p=>{const m=p*l,v=m*n,x=m-t,E=Km(p,l),P=Math.exp(-v);return tm-x/E*P},a=p=>{const v=p*l*n,x=v*t+t,E=Math.pow(l,2)*Math.pow(p,2)*n,P=Math.exp(-v),C=Km(Math.pow(p,2),l);return(-s(p)+tm>0?-1:1)*((x-E)*P)/C}):(s=p=>{const m=Math.exp(-p*n),v=(p-t)*n+1;return-tm+m*v},a=p=>{const m=Math.exp(-p*n),v=(t-p)*(n*n);return m*v});const c=5/n,d=sN(s,a,c);if(n=gs(n),isNaN(d))return{stiffness:ft.stiffness,damping:ft.damping,duration:n};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const rN=12;function sN(n,e,t){let r=t;for(let s=1;s<rN;s++)r=r-n(r)/e(r);return r}function Km(n,e){return n*Math.sqrt(1-e*e)}const iN=["duration","bounce"],oN=["stiffness","damping","mass"];function cw(n,e){return e.some(t=>n[t]!==void 0)}function aN(n){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...n};if(!cw(n,oN)&&cw(n,iN))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*ws(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ft.mass,stiffness:s,damping:a}}else{const t=nN(n);e={...e,...t,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function eS(n=ft.visualDuration,e=ft.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:E}=aN({...t,velocity:-ys(t.velocity||0)}),P=x||0,C=p/(2*Math.sqrt(d*m)),b=l-a,j=ys(Math.sqrt(d/m)),U=Math.abs(b)<5;r||(r=U?ft.restSpeed.granular:ft.restSpeed.default),s||(s=U?ft.restDelta.granular:ft.restDelta.default);let B;if(C<1){const W=Km(j,C);B=G=>{const k=Math.exp(-C*j*G);return l-k*((P+C*j*b)/W*Math.sin(W*G)+b*Math.cos(W*G))}}else if(C===1)B=W=>l-Math.exp(-j*W)*(b+(P+j*b)*W);else{const W=j*Math.sqrt(C*C-1);B=G=>{const k=Math.exp(-C*j*G),I=Math.min(W*G,300);return l-k*((P+C*j*b)*Math.sinh(I)+W*b*Math.cosh(I))/W}}const H={calculatedDuration:E&&v||null,next:W=>{const G=B(W);if(E)c.done=W>=v;else{let k=0;C<1&&(k=W===0?gs(P):ZE(B,W,G));const I=Math.abs(k)<=r,R=Math.abs(l-G)<=s;c.done=I&&R}return c.value=c.done?l:G,c},toString:()=>{const W=Math.min(vE(H),Fm),G=xE(k=>H.next(W*k).value,W,30);return W+"ms "+G}};return H}function hw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:m}){const v=n[0],x={done:!1,value:v},E=I=>c!==void 0&&I<c||d!==void 0&&I>d,P=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let C=t*e;const b=v+C,j=l===void 0?b:l(b);j!==b&&(C=j-v);const U=I=>-C*Math.exp(-I/r),B=I=>j+U(I),H=I=>{const R=U(I),M=B(I);x.done=Math.abs(R)<=p,x.value=x.done?j:M};let W,G;const k=I=>{E(x.value)&&(W=I,G=eS({keyframes:[x.value,P(x.value)],velocity:ZE(B,I,x.value),damping:s,stiffness:a,restDelta:p,restSpeed:m}))};return k(0),{calculatedDuration:null,next:I=>{let R=!1;return!G&&W===void 0&&(R=!0,H(I),k(I)),W!==void 0&&I>=W?G.next(I-W):(!R&&H(I),x)}}}const lN=Hu(.42,0,1,1),uN=Hu(0,0,.58,1),tS=Hu(.42,0,.58,1),cN=n=>Array.isArray(n)&&typeof n[0]!="number",hN={linear:kn,easeIn:lN,easeInOut:tS,easeOut:uN,circIn:sy,circInOut:VE,circOut:ME,backIn:ry,backInOut:NE,backOut:RE,anticipate:DE},dw=n=>{if(Jg(n)){JT(n.length===4);const[e,t,r,s]=n;return Hu(e,t,r,s)}else if(typeof n=="string")return hN[n];return n};function dN(n,e,t){const r=[],s=t||JE,a=n.length-1;for(let l=0;l<a;l++){let c=s(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||kn:e;c=Wu(d,c)}r.push(c)}return r}function fN(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(JT(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=dN(e,r,s),d=c.length,p=m=>{if(l&&m<n[0])return e[0];let v=0;if(d>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=Da(n[v],n[v+1],m);return c[v](x)};return t?m=>p(ws(n[0],n[a-1],m)):p}function pN(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Da(0,e,r);n.push(ct(t,1,s))}}function mN(n){const e=[0];return pN(e,n.length-1),e}function gN(n,e){return n.map(t=>t*e)}function yN(n,e){return n.map(()=>e||tS).splice(0,n.length-1)}function Zh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=cN(r)?r.map(dw):dw(r),a={done:!1,value:e[0]},l=gN(t&&t.length===e.length?t:mN(e),n),c=fN(l,e,{ease:Array.isArray(s)?s:yN(e,s)});return{calculatedDuration:n,next:d=>(a.value=c(d),a.done=d>=n,a)}}const vN=n=>{const e=({timestamp:t})=>n(t);return{start:()=>st.update(e,!0),stop:()=>ai(e),now:()=>zt.isProcessing?zt.timestamp:Lr.now()}},xN={decay:hw,inertia:hw,tween:Zh,keyframes:Zh,spring:eS},wN=n=>n/100;class cy extends YE{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,l=s?.KeyframeResolver||ly,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,c,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=Xg(t)?t:xN[t]||Zh;let d,p;c!==Zh&&typeof e[0]!="number"&&(d=Wu(wN,JE(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=vE(m));const{calculatedDuration:v}=m,x=v+s,E=x*(r+1)-s;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:v,resolvedDuration:x,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:m,resolvedDuration:v}=r;if(this.startTime===null)return a.next(0);const{delay:x,repeat:E,repeatType:P,repeatDelay:C,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-x*(this.speed>=0?1:-1),U=this.speed>=0?j<0:j>m;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let B=this.currentTime,H=a;if(E){const I=Math.min(this.currentTime,m)/v;let R=Math.floor(I),M=I%1;!M&&I>=1&&(M=1),M===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(P==="reverse"?(M=1-M,C&&(M-=C/v)):P==="mirror"&&(H=l)),B=ws(0,1,M)*v}const W=U?{done:!1,value:d[0]}:H.next(B);c&&(W.value=c(W.value));let{done:G}=W;!U&&p!==null&&(G=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return k&&s!==void 0&&(W.value=jd(d,this.options,s)),b&&b(W.value),k&&this.finish(),W}get duration(){const{resolved:e}=this;return e?ys(e.calculatedDuration):0}get time(){return ys(this.currentTime)}set time(e){e=gs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ys(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=vN,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const _N=new Set(["opacity","clipPath","filter","transform"]);function TN(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const p={[e]:t};d&&(p.offset=d);const m=_E(c,s);return Array.isArray(m)&&(p.easing=m),n.animate(p,{delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const EN=Lg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ed=10,SN=2e4;function bN(n){return Xg(n.type)||n.type==="spring"||!wE(n.ease)}function IN(n,e){const t=new cy({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<SN;)r=t.sample(a),s.push(r.value),a+=ed;return{times:void 0,keyframes:s,duration:a-ed,ease:"linear"}}const nS={anticipate:DE,backInOut:NE,circInOut:VE};function AN(n){return n in nS}class fw extends YE{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new QE(a,(l,c)=>this.onKeyframesResolved(l,c),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:l,motionValue:c,name:d,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Xh()&&AN(a)&&(a=nS[a]),bN(this.options)){const{onComplete:v,onUpdate:x,motionValue:E,element:P,...C}=this.options,b=IN(e,C);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,s=b.times,a=b.ease,l="keyframes"}const m=TN(c.owner.current,d,e,{...this.options,duration:r,times:s,ease:a});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(Xx(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:v}=this.options;c.set(jd(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ys(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ys(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=gs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return kn;const{animation:r}=t;Xx(r,e)}return kn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:v,element:x,...E}=this.options,P=new cy({...E,keyframes:r,duration:s,type:a,ease:l,times:c,isGenerator:!0}),C=gs(this.time);p.setWithVelocity(P.sample(C-ed).value,P.sample(C).value,ed)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return EN()&&r&&_N.has(r)&&!d&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const CN={type:"spring",stiffness:500,damping:25,restSpeed:10},PN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),kN={type:"keyframes",duration:.8},RN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NN=(n,{keyframes:e})=>e.length>2?kN:go.has(n)?n.startsWith("scale")?PN(e[1]):CN:RN;function DN({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const hy=(n,e,t,r={},s,a)=>l=>{const c=Yg(r,n)||{},d=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-gs(d);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:a?void 0:s};DN(c)||(m={...m,...NN(n,m)}),m.duration&&(m.duration=gs(m.duration)),m.repeatDelay&&(m.repeatDelay=gs(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),v&&!a&&e.get()!==void 0){const x=jd(m.keyframes,c);if(x!==void 0)return st.update(()=>{m.onUpdate(x),m.onComplete()}),new JR([])}return!a&&fw.supports(m)?new fw(m):new cy(m)};function MN({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function rS(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(l=r);const p=[],m=s&&n.animationState&&n.animationState.getState()[s];for(const v in d){const x=n.getValue(v,(a=n.latestValues[v])!==null&&a!==void 0?a:null),E=d[v];if(E===void 0||m&&MN(m,v))continue;const P={delay:t,...Yg(l||{},v)};let C=!1;if(window.MotionHandoffAnimation){const j=AE(n);if(j){const U=window.MotionHandoffAnimation(j,v,st);U!==null&&(P.startTime=U,C=!0)}}$m(n,v),x.start(hy(v,x,E,n.shouldReduceMotion&&bE.has(v)?{type:!1}:P,n,C));const b=x.animation;b&&p.push(b)}return c&&Promise.all(p).then(()=>{st.update(()=>{c&&d2(n,c)})}),p}function Gm(n,e,t={}){var r;const s=Od(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const l=s?()=>Promise.all(rS(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=a;return VN(n,e,m+p,v,x,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,m]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(t.delay)])}function VN(n,e,t=0,r=0,s=1,a){const l=[],c=(n.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(n.variantChildren).sort(LN).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(Gm(p,e,{...a,delay:t+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function LN(n,e){return n.sortNodePosition(e)}function ON(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Gm(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Gm(n,e,t);else{const s=typeof e=="function"?Od(n,e,t.custom):e;r=Promise.all(rS(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const jN=jg.length;function sS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?sS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<jN;t++){const r=jg[t],s=n.props[r];(_u(s)||s===!1)&&(e[r]=s)}return e}const FN=[...Og].reverse(),UN=Og.length;function $N(n){return e=>Promise.all(e.map(({animation:t,options:r})=>ON(n,t,r)))}function BN(n){let e=$N(n),t=pw(),r=!0;const s=d=>(p,m)=>{var v;const x=Od(n,m,d==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:E,transitionEnd:P,...C}=x;p={...p,...C,...P}}return p};function a(d){e=d(n)}function l(d){const{props:p}=n,m=sS(n.parent)||{},v=[],x=new Set;let E={},P=1/0;for(let b=0;b<UN;b++){const j=FN[b],U=t[j],B=p[j]!==void 0?p[j]:m[j],H=_u(B),W=j===d?U.isActive:null;W===!1&&(P=b);let G=B===m[j]&&B!==p[j]&&H;if(G&&r&&n.manuallyAnimateOnMount&&(G=!1),U.protectedKeys={...E},!U.isActive&&W===null||!B&&!U.prevProp||Vd(B)||typeof B=="boolean")continue;const k=zN(U.prevProp,B);let I=k||j===d&&U.isActive&&!G&&H||b>P&&H,R=!1;const M=Array.isArray(B)?B:[B];let F=M.reduce(s(j),{});W===!1&&(F={});const{prevResolvedValues:z={}}=U,D={...z,...F},he=ue=>{I=!0,x.has(ue)&&(R=!0,x.delete(ue)),U.needsAnimating[ue]=!0;const J=n.getValue(ue);J&&(J.liveStyle=!1)};for(const ue in D){const J=F[ue],le=z[ue];if(E.hasOwnProperty(ue))continue;let ie=!1;jm(J)&&jm(le)?ie=!yE(J,le):ie=J!==le,ie?J!=null?he(ue):x.add(ue):J!==void 0&&x.has(ue)?he(ue):U.protectedKeys[ue]=!0}U.prevProp=B,U.prevResolvedValues=F,U.isActive&&(E={...E,...F}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(G&&k)||R)&&v.push(...M.map(ue=>({animation:ue,options:{type:j}})))}if(x.size){const b={};x.forEach(j=>{const U=n.getBaseTarget(j),B=n.getValue(j);B&&(B.liveStyle=!0),b[j]=U??null}),v.push({animation:b})}let C=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(v):Promise.resolve()}function c(d,p){var m;if(t[d].isActive===p)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(x=>{var E;return(E=x.animationState)===null||E===void 0?void 0:E.setActive(d,p)}),t[d].isActive=p;const v=l(d);for(const x in t)t[x].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=pw(),r=!0}}}function zN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!yE(e,n):!1}function Qi(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pw(){return{animate:Qi(!0),whileInView:Qi(),whileHover:Qi(),whileTap:Qi(),whileDrag:Qi(),whileFocus:Qi(),exit:Qi()}}class yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HN extends yi{constructor(e){super(e),e.animationState||(e.animationState=BN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let WN=0;class qN extends yi{constructor(){super(...arguments),this.id=WN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KN={animation:{Feature:HN},exit:{Feature:qN}};function bu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function qu(n){return{point:{x:n.pageX,y:n.pageY}}}const GN=n=>e=>Zg(e)&&n(e,qu(e));function au(n,e,t,r){return bu(n,e,GN(t),r)}const mw=(n,e)=>Math.abs(n-e);function QN(n,e){const t=mw(n.x,e.x),r=mw(n.y,e.y);return Math.sqrt(t**2+r**2)}class iS{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=rm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,E=QN(v.offset,{x:0,y:0})>=3;if(!x&&!E)return;const{point:P}=v,{timestamp:C}=zt;this.history.push({...P,timestamp:C});const{onStart:b,onMove:j}=this.handlers;x||(b&&b(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=nm(x,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:E,onSessionEnd:P,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=rm(v.type==="pointercancel"?this.lastMoveEventInfo:nm(x,this.transformPagePoint),this.history);this.startEvent&&E&&E(v,b),P&&P(v,b)},!Zg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=qu(e),c=nm(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=zt;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=t;m&&m(e,rm(c,this.history)),this.removeListeners=Wu(au(this.contextWindow,"pointermove",this.handlePointerMove),au(this.contextWindow,"pointerup",this.handlePointerUp),au(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ai(this.updatePoint)}}function nm(n,e){return e?{point:e(n.point)}:n}function gw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function rm({point:n},e){return{point:n,delta:gw(n,oS(e)),offset:gw(n,YN(e)),velocity:XN(e,.1)}}function YN(n){return n[0]}function oS(n){return n[n.length-1]}function XN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=oS(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>gs(e)));)t--;if(!r)return{x:0,y:0};const a=ys(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const aS=1e-4,JN=1-aS,ZN=1+aS,lS=.01,eD=0-lS,tD=0+lS;function Nn(n){return n.max-n.min}function nD(n,e,t){return Math.abs(n-e)<=t}function yw(n,e,t,r=.5){n.origin=r,n.originPoint=ct(e.min,e.max,n.origin),n.scale=Nn(t)/Nn(e),n.translate=ct(t.min,t.max,n.origin)-n.originPoint,(n.scale>=JN&&n.scale<=ZN||isNaN(n.scale))&&(n.scale=1),(n.translate>=eD&&n.translate<=tD||isNaN(n.translate))&&(n.translate=0)}function lu(n,e,t,r){yw(n.x,e.x,t.x,r?r.originX:void 0),yw(n.y,e.y,t.y,r?r.originY:void 0)}function vw(n,e,t){n.min=t.min+e.min,n.max=n.min+Nn(e)}function rD(n,e,t){vw(n.x,e.x,t.x),vw(n.y,e.y,t.y)}function xw(n,e,t){n.min=e.min-t.min,n.max=n.min+Nn(e)}function uu(n,e,t){xw(n.x,e.x,t.x),xw(n.y,e.y,t.y)}function sD(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ct(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ct(t,n,r.max):Math.min(n,t)),n}function ww(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function iD(n,{top:e,left:t,bottom:r,right:s}){return{x:ww(n.x,t,s),y:ww(n.y,e,r)}}function _w(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function oD(n,e){return{x:_w(n.x,e.x),y:_w(n.y,e.y)}}function aD(n,e){let t=.5;const r=Nn(n),s=Nn(e);return s>r?t=Da(e.min,e.max-r,n.min):r>s&&(t=Da(n.min,n.max-s,e.min)),ws(0,1,t)}function lD(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Qm=.35;function uD(n=Qm){return n===!1?n=0:n===!0&&(n=Qm),{x:Tw(n,"left","right"),y:Tw(n,"top","bottom")}}function Tw(n,e,t){return{min:Ew(n,e),max:Ew(n,t)}}function Ew(n,e){return typeof n=="number"?n:n[e]||0}const Sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ba=()=>({x:Sw(),y:Sw()}),bw=()=>({min:0,max:0}),gt=()=>({x:bw(),y:bw()});function Hn(n){return[n("x"),n("y")]}function uS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function cD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function hD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function sm(n){return n===void 0||n===1}function Ym({scale:n,scaleX:e,scaleY:t}){return!sm(n)||!sm(e)||!sm(t)}function Yi(n){return Ym(n)||cS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function cS(n){return Iw(n.x)||Iw(n.y)}function Iw(n){return n&&n!=="0%"}function td(n,e,t){const r=n-t,s=e*r;return t+s}function Aw(n,e,t,r,s){return s!==void 0&&(n=td(n,s,r)),td(n,t,r)+e}function Xm(n,e=0,t=1,r,s){n.min=Aw(n.min,e,t,r,s),n.max=Aw(n.max,e,t,r,s)}function hS(n,{x:e,y:t}){Xm(n.x,e.translate,e.scale,e.originPoint),Xm(n.y,t.translate,t.scale,t.originPoint)}const Cw=.999999999999,Pw=1.0000000000001;function dD(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=t[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Aa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,hS(n,l)),r&&Yi(a.latestValues)&&Aa(n,a.latestValues))}e.x<Pw&&e.x>Cw&&(e.x=1),e.y<Pw&&e.y>Cw&&(e.y=1)}function Ia(n,e){n.min=n.min+e,n.max=n.max+e}function kw(n,e,t,r,s=.5){const a=ct(n.min,n.max,s);Xm(n,e,t,a,r)}function Aa(n,e){kw(n.x,e.x,e.scaleX,e.scale,e.originX),kw(n.y,e.y,e.scaleY,e.scale,e.originY)}function dS(n,e){return uS(hD(n.getBoundingClientRect(),e))}function fD(n,e,t){const r=dS(n,t),{scroll:s}=e;return s&&(Ia(r.x,s.offset.x),Ia(r.y,s.offset.y)),r}const fS=({current:n})=>n?n.ownerDocument.defaultView:null,pD=new WeakMap;class mD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(qu(m).point)},a=(m,v)=>{const{drag:x,dragPropagation:E,onDragStart:P}=this.getProps();if(x&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=a2(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(b=>{let j=this.getAxisMotionValue(b).get()||0;if(Vr.test(j)){const{projection:U}=this.visualElement;if(U&&U.layout){const B=U.layout.layoutBox[b];B&&(j=Nn(B)*(parseFloat(j)/100))}}this.originPoint[b]=j}),P&&st.postRender(()=>P(m,v)),$m(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(m,v)=>{const{dragPropagation:x,dragDirectionLock:E,onDirectionLock:P,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:b}=v;if(E&&this.currentDirection===null){this.currentDirection=gD(b),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",v.point,b),this.updateAxis("y",v.point,b),this.visualElement.render(),C&&C(m,v)},c=(m,v)=>this.stop(m,v),d=()=>Hn(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new iS(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:fS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Sh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=sD(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Ea(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=iD(s.layoutBox,t):this.constraints=!1,this.elastic=uD(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=lD(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ea(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=fD(r,s.root,this.visualElement.getTransformPagePoint());let l=oD(s.layout.layoutBox,a);if(t){const c=t(cD(l));this.hasMutatedConstraints=!!c,c&&(l=uS(c))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Hn(m=>{if(!Sh(m,t,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const x=s?200:1e6,E=s?40:1e7,P={type:"inertia",velocity:r?e[m]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(m,P)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return $m(this.visualElement,e),r.start(hy(e,r,0,t,this.visualElement,!1))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(t=>{const{drag:r}=this.getProps();if(!Sh(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[t];a.set(e[t]-ct(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ea(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=aD({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(l=>{if(!Sh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(ct(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;pD.set(this.visualElement,this);const e=this.visualElement.current,t=au(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Ea(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),st.read(r);const l=bu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hn(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Qm,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Sh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function gD(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class yD extends yi{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new mD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rw=n=>(e,t)=>{n&&st.postRender(()=>n(e,t))};class vD extends yi{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new iS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Rw(e),onStart:Rw(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&st.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=au(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Gl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=Nw(n,e.target.x),r=Nw(n,e.target.y);return`${t}% ${r}%`}},xD={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=li.parse(n);if(s.length>5)return r;const a=li.createTransformer(n),l=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const p=ct(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class wD extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;UR(_D),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||st.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ug.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pS(n){const[e,t]=YT(),r=V.useContext(Ng);return y.jsx(wD,{...n,layoutGroup:r,switchLayoutGroup:V.useContext(sE),isPresent:e,safeToRemove:t})}const _D={borderRadius:{...Gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gl,borderTopRightRadius:Gl,borderBottomLeftRadius:Gl,borderBottomRightRadius:Gl,boxShadow:xD};function TD(n,e,t){const r=tn(n)?n:Eu(n);return r.start(hy("",r,e,t)),r.animation}function ED(n){return n instanceof SVGElement&&n.tagName!=="svg"}const SD=(n,e)=>n.depth-e.depth;class bD{constructor(){this.children=[],this.isDirty=!1}add(e){ey(this.children,e),this.isDirty=!0}remove(e){ty(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(SD),this.isDirty=!1,this.children.forEach(e)}}function ID(n,e){const t=Lr.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(ai(r),n(a-e))};return st.read(r,!0),()=>ai(r)}const mS=["TopLeft","TopRight","BottomLeft","BottomRight"],AD=mS.length,Dw=n=>typeof n=="string"?parseFloat(n):n,Mw=n=>typeof n=="number"||Se.test(n);function CD(n,e,t,r,s,a){s?(n.opacity=ct(0,t.opacity!==void 0?t.opacity:1,PD(r)),n.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,kD(r))):a&&(n.opacity=ct(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<AD;l++){const c=`border${mS[l]}Radius`;let d=Vw(e,c),p=Vw(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Mw(d)===Mw(p)?(n[c]=Math.max(ct(Dw(d),Dw(p),r),0),(Vr.test(p)||Vr.test(d))&&(n[c]+="%")):n[c]=p}(e.rotate||t.rotate)&&(n.rotate=ct(e.rotate||0,t.rotate||0,r))}function Vw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const PD=gS(0,.5,ME),kD=gS(.5,.95,kn);function gS(n,e,t){return r=>r<n?0:r>e?1:t(Da(n,e,r))}function Lw(n,e){n.min=e.min,n.max=e.max}function zn(n,e){Lw(n.x,e.x),Lw(n.y,e.y)}function Ow(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function jw(n,e,t,r,s){return n-=e,n=td(n,1/t,r),s!==void 0&&(n=td(n,1/s,r)),n}function RD(n,e=0,t=1,r=.5,s,a=n,l=n){if(Vr.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ct(a.min,a.max,r);n===a&&(c-=e),n.min=jw(n.min,e,t,c,s),n.max=jw(n.max,e,t,c,s)}function Fw(n,e,[t,r,s],a,l){RD(n,e[t],e[r],e[s],e.scale,a,l)}const ND=["x","scaleX","originX"],DD=["y","scaleY","originY"];function Uw(n,e,t,r){Fw(n.x,e,ND,t?t.x:void 0,r?r.x:void 0),Fw(n.y,e,DD,t?t.y:void 0,r?r.y:void 0)}function $w(n){return n.translate===0&&n.scale===1}function yS(n){return $w(n.x)&&$w(n.y)}function Bw(n,e){return n.min===e.min&&n.max===e.max}function MD(n,e){return Bw(n.x,e.x)&&Bw(n.y,e.y)}function zw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function vS(n,e){return zw(n.x,e.x)&&zw(n.y,e.y)}function Hw(n){return Nn(n.x)/Nn(n.y)}function Ww(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class VD{constructor(){this.members=[]}add(e){ey(this.members,e),e.scheduleRender()}remove(e){if(ty(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LD(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,l=t?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:E,skewY:P}=t;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),E&&(r+=`skewX(${E}deg) `),P&&(r+=`skewY(${P}deg) `)}const c=n.x.scale*e.x,d=n.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Xi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tu=typeof window<"u"&&window.MotionDebug!==void 0,im=["","X","Y","Z"],OD={visibility:"hidden"},qw=1e3;let jD=0;function om(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function xS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=AE(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",st,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&xS(r)}function wS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=jD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tu&&(Xi.totalNodes=Xi.resolvedTargetDeltas=Xi.recalculatedProjection=0),this.nodes.forEach($D),this.nodes.forEach(qD),this.nodes.forEach(KD),this.nodes.forEach(BD),tu&&window.MotionDebug.record(Xi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new bD)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ny),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ED(l),this.instance=l;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),n){let v;const x=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=ID(x,250),Oh.hasAnimatedSinceResize&&(Oh.hasAnimatedSinceResize=!1,this.nodes.forEach(Gw))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeTargetChanged:E,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||JD,{onLayoutAnimationStart:b,onLayoutAnimationComplete:j}=m.getProps(),U=!this.targetLayout||!vS(this.targetLayout,P)||E,B=!x&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||B||x&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,B);const H={...Yg(C,"layout"),onPlay:b,onComplete:j};(m.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else x||Gw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GD),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kw);return}this.isUpdating||this.nodes.forEach(HD),this.isUpdating=!1,this.nodes.forEach(WD),this.nodes.forEach(FD),this.nodes.forEach(UD),this.clearAllSnapshots();const c=Lr.now();zt.delta=ws(0,1e3/60,c-zt.timestamp),zt.timestamp=c,zt.isProcessing=!0,Yp.update.process(zt),Yp.preRender.process(zt),Yp.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ug.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zD),this.sharedNodes.forEach(QD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!yS(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(c||Yi(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),ZD(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return gt();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(eM))){const{scroll:m}=this.root;m&&(Ia(d.x,m.offset.x),Ia(d.y,m.offset.y))}return d}removeElementScroll(l){var c;const d=gt();if(zn(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:x}=m;m!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&zn(d,l),Ia(d.x,v.offset.x),Ia(d.y,v.offset.y))}return d}applyTransform(l,c=!1){const d=gt();zn(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Aa(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Yi(m.latestValues)&&Aa(d,m.latestValues)}return Yi(this.latestValues)&&Aa(d,this.latestValues),d}removeTransform(l){const c=gt();zn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Yi(p.latestValues))continue;Ym(p.latestValues)&&p.updateSnapshot();const m=gt(),v=p.measurePageBox();zn(m,v),Uw(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Yi(this.latestValues)&&Uw(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),uu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),hS(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),uu(this.relativeTargetOrigin,this.target,E.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tu&&Xi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ym(this.parent.latestValues)||cS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;zn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,E=this.treeScale.y;dD(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=gt());const{target:P}=c;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ow(this.prevProjectionDelta.x,this.projectionDelta.x),Ow(this.prevProjectionDelta.y,this.projectionDelta.y)),lu(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==E||!Ww(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ww(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),tu&&Xi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ba(),this.projectionDelta=ba(),this.projectionDeltaWithTransform=ba()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=ba();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=gt(),E=d?d.source:void 0,P=this.layout?this.layout.source:void 0,C=E!==P,b=this.getStack(),j=!b||b.members.length<=1,U=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(XD));this.animationProgress=0;let B;this.mixTargetDelta=H=>{const W=H/1e3;Qw(v.x,l.x,W),Qw(v.y,l.y,W),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YD(this.relativeTarget,this.relativeTargetOrigin,x,W),B&&MD(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=gt()),zn(B,this.relativeTarget)),C&&(this.animationValues=m,CD(m,p,this.latestValues,W,U,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Oh.hasAnimatedSinceResize=!0,this.currentAnimation=TD(0,qw,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:m}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&_S(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||gt();const v=Nn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=Nn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}zn(c,d),Aa(c,m),lu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new VD),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&om("z",l,p,this.animationValues);for(let m=0;m<im.length;m++)om(`rotate${im[m]}`,l,p,this.animationValues),om(`skew${im[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OD;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Vh(l?.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Vh(l?.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=LD(this.projectionDeltaWithTransform,this.treeScale,x),m&&(p.transform=m(x,p.transform));const{x:E,y:P}=this.projectionDelta;p.transformOrigin=`${E.origin*100}% ${P.origin*100}% 0`,v.animationValues?p.opacity=v===this?(d=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const C in Yh){if(x[C]===void 0)continue;const{correct:b,applyTo:j}=Yh[C],U=p.transform==="none"?x[C]:b(x[C],v);if(j){const B=j.length;for(let H=0;H<B;H++)p[j[H]]=U}else p[C]=U}return this.options.layoutId&&(p.pointerEvents=v===this?Vh(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Kw),this.root.sharedNodes.clear()}}}function FD(n){n.updateLayout()}function UD(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Hn(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],E=Nn(x);x.min=r[v].min,x.max=x.min+E}):_S(a,t.layoutBox,r)&&Hn(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],E=Nn(r[v]);x.max=x.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+E)});const c=ba();lu(c,r,t.layoutBox);const d=ba();l?lu(d,n.applyTransform(s,!0),t.measuredBox):lu(d,r,t.layoutBox);const p=!yS(c);let m=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:E}=v;if(x&&E){const P=gt();uu(P,t.layoutBox,x.layoutBox);const C=gt();uu(C,r,E.layoutBox),vS(P,C)||(m=!0),v.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=P,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function $D(n){tu&&Xi.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function BD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function zD(n){n.clearSnapshot()}function Kw(n){n.clearMeasurements()}function HD(n){n.isLayoutDirty=!1}function WD(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Gw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function qD(n){n.resolveTargetDelta()}function KD(n){n.calcProjection()}function GD(n){n.resetSkewAndRotation()}function QD(n){n.removeLeadSnapshot()}function Qw(n,e,t){n.translate=ct(e.translate,0,t),n.scale=ct(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Yw(n,e,t,r){n.min=ct(e.min,t.min,r),n.max=ct(e.max,t.max,r)}function YD(n,e,t,r){Yw(n.x,e.x,t.x,r),Yw(n.y,e.y,t.y,r)}function XD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const JD={duration:.45,ease:[.4,0,.1,1]},Xw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Jw=Xw("applewebkit/")&&!Xw("chrome/")?Math.round:kn;function Zw(n){n.min=Jw(n.min),n.max=Jw(n.max)}function ZD(n){Zw(n.x),Zw(n.y)}function _S(n,e,t){return n==="position"||n==="preserve-aspect"&&!nD(Hw(e),Hw(t),.2)}function eM(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const tM=wS({attachResizeListener:(n,e)=>bu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),am={current:void 0},TS=wS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!am.current){const n=new tM({});n.mount(window),n.setOptions({layoutScroll:!0}),am.current=n}return am.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),nM={pan:{Feature:vD},drag:{Feature:yD,ProjectionNode:TS,MeasureLayout:pS}};function e_(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&st.postRender(()=>a(e,qu(e)))}class rM extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=n2(e,t=>(e_(this.node,t,"Start"),r=>e_(this.node,r,"End"))))}unmount(){}}class sM extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function t_(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&st.postRender(()=>a(e,qu(e)))}class iM extends yi{mount(){const{current:e}=this.node;e&&(this.unmount=o2(e,t=>(t_(this.node,t,"Start"),(r,{success:s})=>t_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jm=new WeakMap,lm=new WeakMap,oM=n=>{const e=Jm.get(n.target);e&&e(n)},aM=n=>{n.forEach(oM)};function lM({root:n,...e}){const t=n||document;lm.has(t)||lm.set(t,{});const r=lm.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(aM,{root:n,...e})),r[s]}function uM(n,e,t){const r=lM(e);return Jm.set(n,t),r.observe(n),()=>{Jm.delete(n),r.unobserve(n)}}const cM={some:0,all:1};class hM extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:cM[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(d)};return uM(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(dM(e,t))&&this.startObserver()}unmount(){}}function dM({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const fM={inView:{Feature:hM},tap:{Feature:iM},focus:{Feature:sM},hover:{Feature:rM}},pM={layout:{ProjectionNode:TS,MeasureLayout:pS}},Zm={current:null},ES={current:!1};function mM(){if(ES.current=!0,!!Vg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zm.current=n.matches;n.addListener(e),e()}else Zm.current=!1}const gM=[...GE,Jt,li],yM=n=>gM.find(KE(n)),n_=new WeakMap;function vM(n,e,t){for(const r in e){const s=e[r],a=t[r];if(tn(s))n.addValue(r,s);else if(tn(a))n.addValue(r,Eu(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(r);n.addValue(r,Eu(l!==void 0?l:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const r_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xM{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ly,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Lr.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,st.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:m}=l;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Ld(t),this.isVariantNode=nE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in x){const P=x[E];d[E]!==void 0&&tn(P)&&P.set(d[E],!1)}}mount(e){this.current=e,n_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),ES.current||mM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){n_.delete(this.current),this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=go.has(e),s=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&st.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ma){const t=Ma[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<r_.length;r++){const s=r_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=vM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Eu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(WE(s)||LE(s))?s=parseFloat(s):!yM(s)&&li.test(t)&&(s=BE(e,t)),this.setBaseTarget(e,tn(s)?s.get():s)),tn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=Bg(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!tn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ny),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class SS extends xM{constructor(){super(...arguments),this.KeyframeResolver=QE}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function wM(n){return window.getComputedStyle(n)}class _M extends SS{constructor(){super(...arguments),this.type="html",this.renderInstance=hE}readValueFromInstance(e,t){if(go.has(t)){const r=ay(t);return r&&r.default||0}else{const r=wM(e),s=(lE(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return dS(e,t)}build(e,t,r){Wg(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Qg(e,t,r)}}class TM extends SS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(go.has(t)){const r=ay(t);return r&&r.default||0}return t=dE.has(t)?t:Fg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return mE(e,t,r)}build(e,t,r){qg(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){fE(e,t,r,s)}mount(e){this.isSVGTag=Gg(e.tagName),super.mount(e)}}const EM=(n,e)=>$g(n)?new TM(e):new _M(e,{allowProjection:n!==V.Fragment}),SM=QR({...KN,...fM,...nM,...pM},EM),we=cR(SM);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bS=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},d)=>V.createElement("svg",{ref:d,...IM,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:bS("lucide",s),...c},[...l.map(([p,m])=>V.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(n,e)=>{const t=V.forwardRef(({className:r,...s},a)=>V.createElement(AM,{ref:a,iconNode:e,className:bS(`lucide-${bM(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Re("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Re("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=Re("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=Re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=Re("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=Re("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=Re("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=Re("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=Re("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Re("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Re("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Re("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Re("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),eV=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},tV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,m=a>>2,v=(a&3)<<4|c>>4;let x=(c&15)<<2|p>>6,E=p&63;d||(E=64,l||(x=64)),r.push(t[m],t[v],t[x],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||p==null||v==null)throw new nV;const x=a<<2|c>>4;if(r.push(x),p!==64){const E=c<<4&240|p>>2;if(r.push(E),v!==64){const P=p<<6&192|v;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rV=function(n){const e=DS(n);return MS.encodeByteArray(e,!0)},rd=function(n){return rV(n).replace(/\./g,"")},VS=function(n){try{return MS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=()=>sV().__FIREBASE_DEFAULTS__,oV=()=>{if(typeof process>"u"||typeof i_>"u")return;const n=i_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&VS(n[1]);return e&&JSON.parse(e)},Ud=()=>{try{return eV()||iV()||oV()||aV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},LS=n=>Ud()?.emulatorHosts?.[n],OS=n=>{const e=LS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},jS=()=>Ud()?.config,FS=n=>Ud()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[rd(JSON.stringify(t)),rd(JSON.stringify(l)),""].join(".")}const cu={};function uV(){const n={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?n.emulator.push(e):n.prod.push(e);return n}function cV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let o_=!1;function vy(n,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||cu[n]===e||cu[n]||o_)return;cu[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=uV().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{o_=!0,l()},x}function m(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=cV(r),E=t("text"),P=document.getElementById(E)||document.createElement("span"),C=t("learnmore"),b=document.getElementById(C)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;c(B),m(b,C);const H=p();d(U,j),B.append(U,P,b,H),document.body.appendChild(B)}a?(P.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function dV(){const n=Ud()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mV(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gV(){return!dV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function yV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="FirebaseError";class Qn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vV,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?xV(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Qn(s,c,r)}}function xV(n,e){return n.replace(wV,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wV=/\{\$([^}]+)}/g;function _V(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ui(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(a_(a)&&a_(l)){if(!ui(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function a_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function TV(n,e){const t=new EV(n,e);return t.subscribe.bind(t)}class EV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");SV(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=um),s.error===void 0&&(s.error=um),s.complete===void 0&&(s.complete=um);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=1e3,IV=2,AV=14400*1e3,CV=.5;function l_(n,e=bV,t=IV){const r=e*Math.pow(t,n),s=Math.round(CV*r*(Math.random()-.5)*2);return Math.min(AV,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n){return n&&n._delegate?n._delegate:n}class Kn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RV(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kV(n){return n===Ji?void 0:n}function RV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const DV={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},MV=Le.INFO,VV={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},LV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=VV[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let $d=class{constructor(e){this.name=e,this._logLevel=MV,this._logHandler=LV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};const OV=(n,e)=>e.some(t=>n instanceof t);let u_,c_;function jV(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FV(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HS=new WeakMap,eg=new WeakMap,WS=new WeakMap,cm=new WeakMap,xy=new WeakMap;function UV(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ri(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&HS.set(t,n)}).catch(()=>{}),xy.set(e,n),e}function $V(n){if(eg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});eg.set(n,e)}let tg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ri(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BV(n){tg=n(tg)}function zV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hm(this),e,...t);return WS.set(r,e.sort?e.sort():[e]),ri(r)}:FV().includes(n)?function(...e){return n.apply(hm(this),e),ri(HS.get(this))}:function(...e){return ri(n.apply(hm(this),e))}}function HV(n){return typeof n=="function"?zV(n):(n instanceof IDBTransaction&&$V(n),OV(n,jV())?new Proxy(n,tg):n)}function ri(n){if(n instanceof IDBRequest)return UV(n);if(cm.has(n))return cm.get(n);const e=HV(n);return e!==n&&(cm.set(n,e),xy.set(e,n)),e}const hm=n=>xy.get(n);function qS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=ri(l);return r&&l.addEventListener("upgradeneeded",d=>{r(ri(l.result),d.oldVersion,d.newVersion,ri(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const WV=["get","getKey","getAll","getAllKeys","count"],qV=["put","add","delete","clear"],dm=new Map;function h_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=qV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WV.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),s&&d.done]))[0]};return dm.set(e,a),a}BV(n=>({...n,get:(e,t,r)=>h_(e,t)||n.get(e,t,r),has:(e,t)=>!!h_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GV(n){return n.getComponent()?.type==="VERSION"}const ng="@firebase/app",d_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new $d("@firebase/app"),QV="@firebase/app-compat",YV="@firebase/analytics-compat",XV="@firebase/analytics",JV="@firebase/app-check-compat",ZV="@firebase/app-check",eL="@firebase/auth",tL="@firebase/auth-compat",nL="@firebase/database",rL="@firebase/data-connect",sL="@firebase/database-compat",iL="@firebase/functions",oL="@firebase/functions-compat",aL="@firebase/installations",lL="@firebase/installations-compat",uL="@firebase/messaging",cL="@firebase/messaging-compat",hL="@firebase/performance",dL="@firebase/performance-compat",fL="@firebase/remote-config",pL="@firebase/remote-config-compat",mL="@firebase/storage",gL="@firebase/storage-compat",yL="@firebase/firestore",vL="@firebase/ai",xL="@firebase/firestore-compat",wL="firebase",_L="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",TL={[ng]:"fire-core",[QV]:"fire-core-compat",[XV]:"fire-analytics",[YV]:"fire-analytics-compat",[ZV]:"fire-app-check",[JV]:"fire-app-check-compat",[eL]:"fire-auth",[tL]:"fire-auth-compat",[nL]:"fire-rtdb",[rL]:"fire-data-connect",[sL]:"fire-rtdb-compat",[iL]:"fire-fn",[oL]:"fire-fn-compat",[aL]:"fire-iid",[lL]:"fire-iid-compat",[uL]:"fire-fcm",[cL]:"fire-fcm-compat",[hL]:"fire-perf",[dL]:"fire-perf-compat",[fL]:"fire-rc",[pL]:"fire-rc-compat",[mL]:"fire-gcs",[gL]:"fire-gcs-compat",[yL]:"fire-fst",[xL]:"fire-fst-compat",[vL]:"fire-vertex","fire-js":"fire-js",[wL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Map,EL=new Map,sg=new Map;function f_(n,e){try{n.container.addComponent(e)}catch(t){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vr(n){const e=n.name;if(sg.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,n);for(const t of sd.values())f_(t,n);for(const t of EL.values())f_(t,n);return!0}function vi(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new vo("app","Firebase",SL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=_L;function KS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:rg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw si.create("bad-app-name",{appName:String(s)});if(t||(t=jS()),!t)throw si.create("no-options");const a=sd.get(s);if(a){if(ui(t,a.options)&&ui(r,a.config))return a;throw si.create("duplicate-app",{appName:s})}const l=new NV(s);for(const d of sg.values())l.addComponent(d);const c=new bL(t,r,l);return sd.set(s,c),c}function Bd(n=rg){const e=sd.get(n);if(!e&&n===rg&&jS())return KS();if(!e)throw si.create("no-app",{appName:n});return e}function xn(n,e,t){let r=TL[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(l.join(" "));return}vr(new Kn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="firebase-heartbeat-database",AL=1,Iu="firebase-heartbeat-store";let fm=null;function GS(){return fm||(fm=qS(IL,AL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Iu)}catch(t){console.warn(t)}}}}).catch(n=>{throw si.create("idb-open",{originalErrorMessage:n.message})})),fm}async function CL(n){try{const t=(await GS()).transaction(Iu),r=await t.objectStore(Iu).get(QS(n));return await t.done,r}catch(e){if(e instanceof Qn)_s.warn(e.message);else{const t=si.create("idb-get",{originalErrorMessage:e?.message});_s.warn(t.message)}}}async function p_(n,e){try{const r=(await GS()).transaction(Iu,"readwrite");await r.objectStore(Iu).put(e,QS(n)),await r.done}catch(t){if(t instanceof Qn)_s.warn(t.message);else{const r=si.create("idb-set",{originalErrorMessage:t?.message});_s.warn(r.message)}}}function QS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=1024,kL=30;class RL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>kL){const s=ML(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m_(),{heartbeatsToSend:t,unsentEntries:r}=NL(this._heartbeatsCache.heartbeats),s=rd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return _s.warn(e),""}}}function m_(){return new Date().toISOString().substring(0,10)}function NL(n,e=PL){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),g_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),g_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class DL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return p_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function g_(n){return rd(JSON.stringify({version:2,heartbeats:n})).length}function ML(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n){vr(new Kn("platform-logger",e=>new KV(e),"PRIVATE")),vr(new Kn("heartbeat",e=>new RL(e),"PRIVATE")),xn(ng,d_,n),xn(ng,d_,"esm2020"),xn("fire-js","")}VL("");function YS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LL=YS,XS=new vo("auth","Firebase",YS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new $d("@firebase/auth");function OL(n,...e){id.logLevel<=Le.WARN&&id.warn(`Auth (${xo}): ${n}`,...e)}function jh(n,...e){id.logLevel<=Le.ERROR&&id.error(`Auth (${xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(n,...e){throw _y(n,...e)}function gr(n,...e){return _y(n,...e)}function wy(n,e,t){const r={...LL(),[e]:t};return new vo("auth","Firebase",r).create(e,{appName:n.name})}function ao(n){return wy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jL(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Br(n,"argument-error"),wy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _y(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XS.create(n,...e)}function Ae(n,e,...t){if(!n)throw _y(e,...t)}function ps(n){const e="INTERNAL ASSERTION FAILED: "+n;throw jh(e),new Error(e)}function Ts(n,e){n||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){return typeof self<"u"&&self.location?.href||""}function FL(){return y_()==="http:"||y_()==="https:"}function y_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FL()||$S()||"connection"in navigator)?navigator.onLine:!0}function $L(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ts(t>e,"Short delay should be less than long delay!"),this.isMobile=hV()||pV()}get(){return UL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n,e){Ts(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HL=new Qu(3e4,6e4);function Ey(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function qa(n,e,t,r,s={}){return ZS(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Gu({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...a};return fV()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&yo(n.emulatorConfig.host)&&(p.credentials="include"),JS.fetch()(await eb(n,n.config.apiHost,t,c),p)})}async function ZS(n,e,t){n._canInitEmulator=!1;const r={...BL,...e};try{const s=new qL(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw bh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw bh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw bh(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw wy(n,m,p);Br(n,m)}}catch(s){if(s instanceof Qn)throw s;Br(n,"network-request-failed",{message:String(s)})}}async function WL(n,e,t,r,s={}){const a=await qa(n,e,t,r,s);return"mfaPendingCredential"in a&&Br(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function eb(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?Ty(n.config,s):`${n.config.apiScheme}://${s}`;return zL.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class qL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),HL.get())})}}function bh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=gr(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(n,e){return qa(n,"POST","/v1/accounts:delete",e)}async function od(n,e){return qa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GL(n,e=!1){const t=bt(n),r=await t.getIdToken(e),s=Sy(r);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:hu(pm(s.auth_time)),issuedAtTime:hu(pm(s.iat)),expirationTime:hu(pm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function pm(n){return Number(n)*1e3}function Sy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const s=VS(t);return s?JSON.parse(s):(jh("Failed to decode base64 JWT payload"),null)}catch(s){return jh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function v_(n){const e=Sy(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Qn&&QL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function QL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n){const e=n.auth,t=await n.getIdToken(),r=await Au(n,od(e,{idToken:t}));Ae(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?tb(s.providerUserInfo):[],l=JL(n.providerData,a),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!l?.length,p=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new og(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function XL(n){const e=bt(n);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function tb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(n,e){const t=await ZS(n,{},async()=>{const r=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await eb(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&yo(n.emulatorConfig.host)&&(d.credentials="include"),JS.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eO(n,e){return qa(n,"POST","/v2/accounts:revokeToken",Ey(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=v_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await ZL(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Ca;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ae(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class dr{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new YL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new og(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Au(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GL(this,e)}reload(){return XL(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ad(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ao(this.auth));const e=await this.getIdToken();return await Au(this,KL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:E,providerData:P,stsTokenManager:C}=t;Ae(v&&C,e,"internal-error");const b=Ca.fromJSON(this.name,C);Ae(typeof v=="string",e,"internal-error"),Ys(r,e.name),Ys(s,e.name),Ae(typeof x=="boolean",e,"internal-error"),Ae(typeof E=="boolean",e,"internal-error"),Ys(a,e.name),Ys(l,e.name),Ys(c,e.name),Ys(d,e.name),Ys(p,e.name),Ys(m,e.name);const j=new dr({uid:v,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:b,createdAt:p,lastLoginAt:m});return P&&Array.isArray(P)&&(j.providerData=P.map(U=>({...U}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ca;s.updateFromServerResponse(t);const a=new dr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ad(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?tb(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new Ca;c.updateFromIdToken(r);const d=new dr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new og(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;function ms(n){Ts(n instanceof Function,"Expected a class definition");let e=x_.get(n);return e?(Ts(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,x_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nb.type="NONE";const w_=nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n,e,t){return`firebase:${n}:${e}:${t}`}class Pa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Fh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Fh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await od(this.auth,{idToken:e}).catch(()=>{});return t?dr._fromGetAccountInfoResponse(this.auth,t,e):null}return dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Pa(ms(w_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ms(w_);const l=Fh(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){let v;if(typeof m=="string"){const x=await od(e,{idToken:m}).catch(()=>{});if(!x)break;v=await dr._fromGetAccountInfoResponse(e,x,m)}else v=dr._fromJSON(e,m);p!==a&&(c=v),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Pa(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Pa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lb(e))return"Blackberry";if(ub(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||ib(e))&&!e.includes("edge/"))return"Chrome";if(ab(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function rb(n=nn()){return/firefox\//i.test(n)}function sb(n=nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ib(n=nn()){return/crios\//i.test(n)}function ob(n=nn()){return/iemobile/i.test(n)}function ab(n=nn()){return/android/i.test(n)}function lb(n=nn()){return/blackberry/i.test(n)}function ub(n=nn()){return/webos/i.test(n)}function by(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tO(n=nn()){return by(n)&&!!window.navigator?.standalone}function nO(){return mV()&&document.documentMode===10}function cb(n=nn()){return by(n)||ab(n)||ub(n)||lb(n)||/windows phone/i.test(n)||ob(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n,e=[]){let t;switch(n){case"Browser":t=__(nn());break;case"Worker":t=`${__(nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,e={}){return qa(n,"GET","/v2/passwordPolicy",Ey(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=6;class oO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new rO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ms(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await od(this,{idToken:e}),r=await dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ad(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$L()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(ao(this));const t=e?bt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sO(this),t=new oO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await eO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ms(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[ms(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zd(n){return bt(n)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=TV(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lO(n){Iy=n}function uO(n){return Iy.loadJS(n)}function cO(){return Iy.gapiScript}function hO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(n,e){const t=vi(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(ui(a,e??{}))return s;Br(s,"already-initialized")}return t.initialize({options:e})}function fO(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ms);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function pO(n,e,t){const r=zd(n);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=db(e),{host:l,port:c}=mO(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(ui(p,r.config.emulator)&&ui(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,yo(l)?(yy(`${a}//${l}${d}`),vy("Auth",!0)):gO()}function db(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mO(n){const e=db(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:E_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:E_(l)}}}function E_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,t){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(n,e){return WL(n,"POST","/v1/accounts:signInWithIdp",Ey(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="http://localhost";class uo extends fb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new uo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ka(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ka(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ka(e,t)}buildRequest(){const e={requestUri:yO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Yu{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ds.credential(t,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Yu{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Yu{constructor(){super("twitter.com")}static credential(e,t){return uo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ei.credential(t,r)}catch{return null}}}ei.TWITTER_SIGN_IN_METHOD="twitter.com";ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await dr._fromIdTokenResponse(e,r,s),l=S_(r);return new La({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=S_(r);return new La({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function S_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends Qn{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ld.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ld(e,t,r,s)}}function pb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ld._fromErrorAndOperation(n,a,e,r):a})}async function vO(n,e,t=!1){const r=await Au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return La._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e,t=!1){const{auth:r}=n;if(Wn(r.app))return Promise.reject(ao(r));const s="reauthenticate";try{const a=await Au(n,pb(r,s,e,n),t);Ae(a.idToken,r,"internal-error");const l=Sy(a.idToken);Ae(l,r,"internal-error");const{sub:c}=l;return Ae(n.uid===c,r,"user-mismatch"),La._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Br(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(n,e,t=!1){if(Wn(n.app))return Promise.reject(ao(n));const r="signIn",s=await pb(n,r,e),a=await La._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function _O(n,e,t,r){return bt(n).onIdTokenChanged(e,t,r)}function TO(n,e,t){return bt(n).beforeAuthStateChanged(e,t)}function EO(n,e,t,r){return bt(n).onAuthStateChanged(e,t,r)}function SO(n){return bt(n).signOut()}const ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=1e3,IO=10;class gb extends mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);nO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IO):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},bO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gb.type="LOCAL";const AO=gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yb.type="SESSION";const vb=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(t.origin,a)),d=await CO(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=Cy("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function kO(n){Or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function RO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NO(){return navigator?.serviceWorker?.controller||null}function DO(){return xb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebaseLocalStorageDb",MO=1,cd="firebaseLocalStorage",_b="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wd(n,e){return n.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function VO(){const n=indexedDB.deleteDatabase(wb);return new Xu(n).toPromise()}function ag(){const n=indexedDB.open(wb,MO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(cd,{keyPath:_b})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),await VO(),e(await ag()))})})}async function b_(n,e,t){const r=Wd(n,!0).put({[_b]:e,value:t});return new Xu(r).toPromise()}async function LO(n,e){const t=Wd(n,!1).get(e),r=await new Xu(t).toPromise();return r===void 0?null:r.value}function I_(n,e){const t=Wd(n,!0).delete(e);return new Xu(t).toPromise()}const OO=800,jO=3;class Tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hd._getInstance(DO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RO(),!this.activeServiceWorker)return;this.sender=new PO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ag();return await b_(e,ud,"1"),await I_(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>b_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>I_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Wd(s,!1).getAll();return new Xu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tb.type="LOCAL";const FO=Tb;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(n,e){return e?ms(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends fb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ka(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ka(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UO(n){return wO(n.auth,new Py(n),n.bypassAuthState)}function $O(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),xO(t,new Py(n),n.bypassAuthState)}async function BO(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),vO(t,new Py(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UO;case"linkViaPopup":case"linkViaRedirect":return BO;case"reauthViaPopup":case"reauthViaRedirect":return $O;default:Br(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Qu(2e3,1e4);async function bb(n,e,t){if(Wn(n.app))return Promise.reject(gr(n,"operation-not-supported-in-this-environment"));const r=zd(n);jL(n,e,Ay);const s=Eb(r,t);return new eo(r,"signInViaPopup",e,s).executeNotNull()}class eo extends Sb{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zO.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="pendingRedirect",Uh=new Map;class WO extends Sb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Uh.get(this.auth._key());if(!e){try{const r=await qO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qO(n,e){const t=QO(e),r=GO(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function KO(n,e){Uh.set(n._key(),e)}function GO(n){return ms(n._redirectPersistence)}function QO(n){return Fh(HO,n.config.apiKey,n.name)}async function YO(n,e,t=!1){if(Wn(n.app))return Promise.reject(ao(n));const r=zd(n),s=Eb(r,e),l=await new WO(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=600*1e3;class JO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ib(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(gr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XO&&this.cachedEventUids.clear(),this.cachedEventUids.has(A_(e))}saveEventToCache(e){this.cachedEventUids.add(A_(e)),this.lastProcessedEventTime=Date.now()}}function A_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ib({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ZO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ib(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(n,e={}){return qa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nj=/^https?/;async function rj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ej(n);for(const t of e)try{if(sj(t))return}catch{}Br(n,"unauthorized-domain")}function sj(n){const e=ig(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!nj.test(t))return!1;if(tj.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new Qu(3e4,6e4);function C_(){const n=Or().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function oj(n){return new Promise((e,t)=>{function r(){C_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C_(),t(gr(n,"network-request-failed"))},timeout:ij.get()})}if(Or().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Or().gapi?.load)r();else{const s=hO("iframefcb");return Or()[s]=()=>{gapi.load?r():t(gr(n,"network-request-failed"))},uO(`${cO()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw $h=null,e})}let $h=null;function aj(n){return $h=$h||oj(n),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new Qu(5e3,15e3),uj="__/auth/iframe",cj="emulator/auth/iframe",hj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fj(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ty(e,cj):`https://${n.config.authDomain}/${uj}`,r={apiKey:e.apiKey,appName:n.name,v:xo},s=dj.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Gu(r).slice(1)}`}async function pj(n){const e=await aj(n),t=Or().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:fj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hj,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=gr(n,"network-request-failed"),c=Or().setTimeout(()=>{a(l)},lj.get());function d(){Or().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gj=500,yj=600,vj="_blank",xj="http://localhost";class P_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wj(n,e,t,r=gj,s=yj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...mj,width:r.toString(),height:s.toString(),top:a,left:l},p=nn().toLowerCase();t&&(c=ib(p)?vj:t),rb(p)&&(e=e||xj,d.scrollbars="yes");const m=Object.entries(d).reduce((x,[E,P])=>`${x}${E}=${P},`,"");if(tO(p)&&c!=="_self")return _j(e||"",c),new P_(null);const v=window.open(e||"",c,m);Ae(v,n,"popup-blocked");try{v.focus()}catch{}return new P_(v)}function _j(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="__/auth/handler",Ej="emulator/auth/handler",Sj=encodeURIComponent("fac");async function k_(n,e,t,r,s,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xo,eventId:s};if(e instanceof Ay){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_V(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof Yu){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await n._getAppCheckToken(),p=d?`#${Sj}=${encodeURIComponent(d)}`:"";return`${bj(n)}?${Gu(c).slice(1)}${p}`}function bj({config:n}){return n.emulator?Ty(n,Ej):`https://${n.authDomain}/${Tj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class Ij{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=YO,this._overrideRedirectResult=KO}async _openPopup(e,t,r,s){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await k_(e,t,r,ig(),s);return wj(e,a,Cy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await k_(e,t,r,ig(),s);return kO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Ts(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await pj(e),r=new JO(e);return t.register("authEvent",s=>(Ae(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mm,{type:mm},s=>{const a=s?.[0]?.[mm];a!==void 0&&t(!!a),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cb()||sb()||by()}}const Aj=Ij;var R_="@firebase/auth",N_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kj(n){vr(new Kn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hb(n)},p=new aO(r,s,a,d);return fO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vr(new Kn("auth-internal",e=>{const t=zd(e.getProvider("auth").getImmediate());return(r=>new Cj(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(R_,N_,Pj(n)),xn(R_,N_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=300,Nj=FS("authIdTokenMaxAge")||Rj;let D_=null;const Dj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Nj)return;const s=t?.token;D_!==s&&(D_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Mj(n=Bd()){const e=vi(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dO(n,{popupRedirectResolver:Aj,persistence:[FO,AO,vb]}),r=FS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=Dj(a.toString());TO(t,l,()=>l(t.currentUser)),_O(t,c=>l(c))}}const s=LS("auth");return s&&pO(t,`http://${s}`),t}function Vj(){return document.getElementsByTagName("head")?.[0]??document}lO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=gr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Vj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kj("Browser");var Lj="firebase",Oj="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(Lj,Oj,"app");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ii,Ab;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function R(){}R.prototype=I.prototype,k.D=I.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(M,F,z){for(var D=Array(arguments.length-2),he=2;he<arguments.length;he++)D[he-2]=arguments[he];return I.prototype[F].apply(M,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,I,R){R||(R=0);var M=Array(16);if(typeof I=="string")for(var F=0;16>F;++F)M[F]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(F=0;16>F;++F)M[F]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=k.g[0],R=k.g[1],F=k.g[2];var z=k.g[3],D=I+(z^R&(F^z))+M[0]+3614090360&4294967295;I=R+(D<<7&4294967295|D>>>25),D=z+(F^I&(R^F))+M[1]+3905402710&4294967295,z=I+(D<<12&4294967295|D>>>20),D=F+(R^z&(I^R))+M[2]+606105819&4294967295,F=z+(D<<17&4294967295|D>>>15),D=R+(I^F&(z^I))+M[3]+3250441966&4294967295,R=F+(D<<22&4294967295|D>>>10),D=I+(z^R&(F^z))+M[4]+4118548399&4294967295,I=R+(D<<7&4294967295|D>>>25),D=z+(F^I&(R^F))+M[5]+1200080426&4294967295,z=I+(D<<12&4294967295|D>>>20),D=F+(R^z&(I^R))+M[6]+2821735955&4294967295,F=z+(D<<17&4294967295|D>>>15),D=R+(I^F&(z^I))+M[7]+4249261313&4294967295,R=F+(D<<22&4294967295|D>>>10),D=I+(z^R&(F^z))+M[8]+1770035416&4294967295,I=R+(D<<7&4294967295|D>>>25),D=z+(F^I&(R^F))+M[9]+2336552879&4294967295,z=I+(D<<12&4294967295|D>>>20),D=F+(R^z&(I^R))+M[10]+4294925233&4294967295,F=z+(D<<17&4294967295|D>>>15),D=R+(I^F&(z^I))+M[11]+2304563134&4294967295,R=F+(D<<22&4294967295|D>>>10),D=I+(z^R&(F^z))+M[12]+1804603682&4294967295,I=R+(D<<7&4294967295|D>>>25),D=z+(F^I&(R^F))+M[13]+4254626195&4294967295,z=I+(D<<12&4294967295|D>>>20),D=F+(R^z&(I^R))+M[14]+2792965006&4294967295,F=z+(D<<17&4294967295|D>>>15),D=R+(I^F&(z^I))+M[15]+1236535329&4294967295,R=F+(D<<22&4294967295|D>>>10),D=I+(F^z&(R^F))+M[1]+4129170786&4294967295,I=R+(D<<5&4294967295|D>>>27),D=z+(R^F&(I^R))+M[6]+3225465664&4294967295,z=I+(D<<9&4294967295|D>>>23),D=F+(I^R&(z^I))+M[11]+643717713&4294967295,F=z+(D<<14&4294967295|D>>>18),D=R+(z^I&(F^z))+M[0]+3921069994&4294967295,R=F+(D<<20&4294967295|D>>>12),D=I+(F^z&(R^F))+M[5]+3593408605&4294967295,I=R+(D<<5&4294967295|D>>>27),D=z+(R^F&(I^R))+M[10]+38016083&4294967295,z=I+(D<<9&4294967295|D>>>23),D=F+(I^R&(z^I))+M[15]+3634488961&4294967295,F=z+(D<<14&4294967295|D>>>18),D=R+(z^I&(F^z))+M[4]+3889429448&4294967295,R=F+(D<<20&4294967295|D>>>12),D=I+(F^z&(R^F))+M[9]+568446438&4294967295,I=R+(D<<5&4294967295|D>>>27),D=z+(R^F&(I^R))+M[14]+3275163606&4294967295,z=I+(D<<9&4294967295|D>>>23),D=F+(I^R&(z^I))+M[3]+4107603335&4294967295,F=z+(D<<14&4294967295|D>>>18),D=R+(z^I&(F^z))+M[8]+1163531501&4294967295,R=F+(D<<20&4294967295|D>>>12),D=I+(F^z&(R^F))+M[13]+2850285829&4294967295,I=R+(D<<5&4294967295|D>>>27),D=z+(R^F&(I^R))+M[2]+4243563512&4294967295,z=I+(D<<9&4294967295|D>>>23),D=F+(I^R&(z^I))+M[7]+1735328473&4294967295,F=z+(D<<14&4294967295|D>>>18),D=R+(z^I&(F^z))+M[12]+2368359562&4294967295,R=F+(D<<20&4294967295|D>>>12),D=I+(R^F^z)+M[5]+4294588738&4294967295,I=R+(D<<4&4294967295|D>>>28),D=z+(I^R^F)+M[8]+2272392833&4294967295,z=I+(D<<11&4294967295|D>>>21),D=F+(z^I^R)+M[11]+1839030562&4294967295,F=z+(D<<16&4294967295|D>>>16),D=R+(F^z^I)+M[14]+4259657740&4294967295,R=F+(D<<23&4294967295|D>>>9),D=I+(R^F^z)+M[1]+2763975236&4294967295,I=R+(D<<4&4294967295|D>>>28),D=z+(I^R^F)+M[4]+1272893353&4294967295,z=I+(D<<11&4294967295|D>>>21),D=F+(z^I^R)+M[7]+4139469664&4294967295,F=z+(D<<16&4294967295|D>>>16),D=R+(F^z^I)+M[10]+3200236656&4294967295,R=F+(D<<23&4294967295|D>>>9),D=I+(R^F^z)+M[13]+681279174&4294967295,I=R+(D<<4&4294967295|D>>>28),D=z+(I^R^F)+M[0]+3936430074&4294967295,z=I+(D<<11&4294967295|D>>>21),D=F+(z^I^R)+M[3]+3572445317&4294967295,F=z+(D<<16&4294967295|D>>>16),D=R+(F^z^I)+M[6]+76029189&4294967295,R=F+(D<<23&4294967295|D>>>9),D=I+(R^F^z)+M[9]+3654602809&4294967295,I=R+(D<<4&4294967295|D>>>28),D=z+(I^R^F)+M[12]+3873151461&4294967295,z=I+(D<<11&4294967295|D>>>21),D=F+(z^I^R)+M[15]+530742520&4294967295,F=z+(D<<16&4294967295|D>>>16),D=R+(F^z^I)+M[2]+3299628645&4294967295,R=F+(D<<23&4294967295|D>>>9),D=I+(F^(R|~z))+M[0]+4096336452&4294967295,I=R+(D<<6&4294967295|D>>>26),D=z+(R^(I|~F))+M[7]+1126891415&4294967295,z=I+(D<<10&4294967295|D>>>22),D=F+(I^(z|~R))+M[14]+2878612391&4294967295,F=z+(D<<15&4294967295|D>>>17),D=R+(z^(F|~I))+M[5]+4237533241&4294967295,R=F+(D<<21&4294967295|D>>>11),D=I+(F^(R|~z))+M[12]+1700485571&4294967295,I=R+(D<<6&4294967295|D>>>26),D=z+(R^(I|~F))+M[3]+2399980690&4294967295,z=I+(D<<10&4294967295|D>>>22),D=F+(I^(z|~R))+M[10]+4293915773&4294967295,F=z+(D<<15&4294967295|D>>>17),D=R+(z^(F|~I))+M[1]+2240044497&4294967295,R=F+(D<<21&4294967295|D>>>11),D=I+(F^(R|~z))+M[8]+1873313359&4294967295,I=R+(D<<6&4294967295|D>>>26),D=z+(R^(I|~F))+M[15]+4264355552&4294967295,z=I+(D<<10&4294967295|D>>>22),D=F+(I^(z|~R))+M[6]+2734768916&4294967295,F=z+(D<<15&4294967295|D>>>17),D=R+(z^(F|~I))+M[13]+1309151649&4294967295,R=F+(D<<21&4294967295|D>>>11),D=I+(F^(R|~z))+M[4]+4149444226&4294967295,I=R+(D<<6&4294967295|D>>>26),D=z+(R^(I|~F))+M[11]+3174756917&4294967295,z=I+(D<<10&4294967295|D>>>22),D=F+(I^(z|~R))+M[2]+718787259&4294967295,F=z+(D<<15&4294967295|D>>>17),D=R+(z^(F|~I))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(F+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var R=I-this.blockSize,M=this.B,F=this.h,z=0;z<I;){if(F==0)for(;z<=R;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<I;)if(M[F++]=k.charCodeAt(z++),F==this.blockSize){s(this,M),F=0;break}}else for(;z<I;)if(M[F++]=k[z++],F==this.blockSize){s(this,M),F=0;break}}this.h=F,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var R=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=R&255,R/=256;for(this.u(k),k=Array(16),I=R=0;4>I;++I)for(var M=0;32>M;M+=8)k[R++]=this.g[I]>>>M&255;return k};function a(k,I){var R=c;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=I(k)}function l(k,I){this.h=I;for(var R=[],M=!0,F=k.length-1;0<=F;F--){var z=k[F]|0;M&&z==I||(R[F]=z,M=!1)}this.g=R}var c={};function d(k){return-128<=k&&128>k?a(k,function(I){return new l([I|0],0>I?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return b(p(-k));for(var I=[],R=1,M=0;k>=R;M++)I[M]=k/R|0,R*=4294967296;return new l(I,0)}function m(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return b(m(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(I,8)),M=v,F=0;F<k.length;F+=8){var z=Math.min(8,k.length-F),D=parseInt(k.substring(F,F+z),I);8>z?(z=p(Math.pow(I,z)),M=M.j(z).add(p(D))):(M=M.j(R),M=M.add(p(D)))}return M}var v=d(0),x=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(C(this))return-b(this).m();for(var k=0,I=1,R=0;R<this.g.length;R++){var M=this.i(R);k+=(0<=M?M:4294967296+M)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(C(this))return"-"+b(this).toString(k);for(var I=p(Math.pow(k,6)),R=this,M="";;){var F=H(R,I).g;R=j(R,F.j(I));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=F,P(R))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function C(k){return k.h==-1}n.l=function(k){return k=j(this,k),C(k)?-1:P(k)?0:1};function b(k){for(var I=k.g.length,R=[],M=0;M<I;M++)R[M]=~k.g[M];return new l(R,~k.h).add(x)}n.abs=function(){return C(this)?b(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],M=0,F=0;F<=I;F++){var z=M+(this.i(F)&65535)+(k.i(F)&65535),D=(z>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);M=D>>>16,z&=65535,D&=65535,R[F]=D<<16|z}return new l(R,R[R.length-1]&-2147483648?-1:0)};function j(k,I){return k.add(b(I))}n.j=function(k){if(P(this)||P(k))return v;if(C(this))return C(k)?b(this).j(b(k)):b(b(this).j(k));if(C(k))return b(this.j(b(k)));if(0>this.l(E)&&0>k.l(E))return p(this.m()*k.m());for(var I=this.g.length+k.g.length,R=[],M=0;M<2*I;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<k.g.length;F++){var z=this.i(M)>>>16,D=this.i(M)&65535,he=k.i(F)>>>16,Me=k.i(F)&65535;R[2*M+2*F]+=D*Me,U(R,2*M+2*F),R[2*M+2*F+1]+=z*Me,U(R,2*M+2*F+1),R[2*M+2*F+1]+=D*he,U(R,2*M+2*F+1),R[2*M+2*F+2]+=z*he,U(R,2*M+2*F+2)}for(M=0;M<I;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=I;M<2*I;M++)R[M]=0;return new l(R,0)};function U(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function B(k,I){this.g=k,this.h=I}function H(k,I){if(P(I))throw Error("division by zero");if(P(k))return new B(v,v);if(C(k))return I=H(b(k),I),new B(b(I.g),b(I.h));if(C(I))return I=H(k,b(I)),new B(b(I.g),I.h);if(30<k.g.length){if(C(k)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=I;0>=M.l(k);)R=W(R),M=W(M);var F=G(R,1),z=G(M,1);for(M=G(M,2),R=G(R,2);!P(M);){var D=z.add(M);0>=D.l(k)&&(F=F.add(R),z=D),M=G(M,1),R=G(R,1)}return I=j(k,F.j(I)),new B(F,I)}for(F=v;0<=k.l(I);){for(R=Math.max(1,Math.floor(k.m()/I.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(R),D=z.j(I);C(D)||0<D.l(k);)R-=M,z=p(R),D=z.j(I);P(z)&&(z=x),F=F.add(z),k=j(k,D)}return new B(F,k)}n.A=function(k){return H(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],M=0;M<I;M++)R[M]=this.i(M)&k.i(M);return new l(R,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],M=0;M<I;M++)R[M]=this.i(M)|k.i(M);return new l(R,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],M=0;M<I;M++)R[M]=this.i(M)^k.i(M);return new l(R,this.h^k.h)};function W(k){for(var I=k.g.length+1,R=[],M=0;M<I;M++)R[M]=k.i(M)<<1|k.i(M-1)>>>31;return new l(R,k.h)}function G(k,I){var R=I>>5;I%=32;for(var M=k.g.length-R,F=[],z=0;z<M;z++)F[z]=0<I?k.i(z+R)>>>I|k.i(z+R+1)<<32-I:k.i(z+R);return new l(F,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ab=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,ii=l}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,nu,Pb,Bh,lg,kb,Rb,Nb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,T){return h==Array.prototype||h==Object.prototype||(h[w]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var w=0;w<h.length;++w){var T=h[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(h,w){if(w)e:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in T))break e;T=T[q]}h=h[h.length-1],A=T[h],w=w(A),w!=A&&w!=null&&e(T,h,{configurable:!0,writable:!0,value:w})}}function a(h,w){h instanceof String&&(h+="");var T=0,A=!1,q={next:function(){if(!A&&T<h.length){var X=T++;return{value:w(X,h[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(h){return h||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function p(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function m(h,w,T){return h.call.apply(h.bind,arguments)}function v(h,w,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),h.apply(w,q)}}return function(){return h.apply(w,arguments)}}function x(h,w,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,x.apply(null,arguments)}function E(h,w){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function P(h,w){function T(){}T.prototype=w.prototype,h.aa=w.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,q,X){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return w.prototype[q].apply(A,ae)}}function C(h){const w=h.length;if(0<w){const T=Array(w);for(let A=0;A<w;A++)T[A]=h[A];return T}return[]}function b(h,w){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(d(A)){const q=h.length||0,X=A.length||0;h.length=q+X;for(let ae=0;ae<X;ae++)h[q+ae]=A[ae]}else h.push(A)}}class j{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function U(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var W=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function G(h,w,T){for(const A in h)w.call(T,h[A],A,h)}function k(h,w){for(const T in h)w.call(void 0,h[T],T,h)}function I(h){const w={};for(const T in h)w[T]=h[T];return w}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,w){let T,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(T in A)h[T]=A[T];for(let X=0;X<R.length;X++)T=R[X],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function F(h){var w=1;h=h.split(":");const T=[];for(;0<w&&h.length;)T.push(h.shift()),w--;return h.length&&T.push(h.join(":")),T}function z(h){c.setTimeout(()=>{throw h},0)}function D(){var h=le;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class he{constructor(){this.h=this.g=null}add(w,T){const A=Me.get();A.set(w,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Me=new j(()=>new pe,h=>h.reset());class pe{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,J=!1,le=new he,ie=()=>{const h=c.Promise.resolve(void 0);ue=()=>{h.then(L)}};var L=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(T){z(T)}var w=Me;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}J=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,w),c.removeEventListener("test",T,w)}catch{}return h})();function De(h,w){if(ye.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(W){e:{try{H(w.nodeName);var q=!0;break e}catch{}q=!1}q||(w=null)}}else T=="mouseover"?w=h.fromElement:T=="mouseout"&&(w=h.toElement);this.relatedTarget=w,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ue[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}P(De,ye);var Ue={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ye(h,w,T,A,q){this.listener=h,this.proxy=null,this.src=w,this.type=T,this.capture=!!A,this.ha=q,this.key=++qe,this.da=this.fa=!1}function Dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Kr(h){this.src=h,this.g={},this.h=0}Kr.prototype.add=function(h,w,T,A,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ae=bs(h,w,A,q);return-1<ae?(w=h[ae],T||(w.fa=!1)):(w=new Ye(w,this.src,X,!!A,q),w.fa=T,h.push(w)),w};function Eo(h,w){var T=w.type;if(T in h.g){var A=h.g[T],q=Array.prototype.indexOf.call(A,w,void 0),X;(X=0<=q)&&Array.prototype.splice.call(A,q,1),X&&(Dt(w),h.g[T].length==0&&(delete h.g[T],h.h--))}}function bs(h,w,T,A){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==w&&X.capture==!!T&&X.ha==A)return q}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),So={};function Za(h,w,T,A,q){if(Array.isArray(w)){for(var X=0;X<w.length;X++)Za(h,w[X],T,A,q);return null}return T=nl(T),h&&h[We]?h.K(w,T,p(A)?!!A.capture:!1,q):el(h,w,T,!1,A,q)}function el(h,w,T,A,q,X){if(!w)throw Error("Invalid event type");var ae=p(q)?!!q.capture:!!q,Ge=Io(h);if(Ge||(h[_i]=Ge=new Kr(h)),T=Ge.add(w,T,A,ae,X),T.proxy)return T;if(A=sc(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)Ne||(q=ae),q===void 0&&(q=!1),h.addEventListener(w.toString(),A,q);else if(h.attachEvent)h.attachEvent(Qr(w.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function sc(){function h(T){return w.call(h.src,h.listener,T)}const w=tl;return h}function bo(h,w,T,A,q){if(Array.isArray(w))for(var X=0;X<w.length;X++)bo(h,w[X],T,A,q);else A=p(A)?!!A.capture:!!A,T=nl(T),h&&h[We]?(h=h.i,w=String(w).toString(),w in h.g&&(X=h.g[w],T=bs(X,T,A,q),-1<T&&(Dt(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[w],h.h--)))):h&&(h=Io(h))&&(w=h.g[w.toString()],h=-1,w&&(h=bs(w,T,A,q)),(T=-1<h?w[h]:null)&&Gr(T))}function Gr(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[We])Eo(w.i,h);else{var T=h.type,A=h.proxy;w.removeEventListener?w.removeEventListener(T,A,h.capture):w.detachEvent?w.detachEvent(Qr(T),A):w.addListener&&w.removeListener&&w.removeListener(A),(T=Io(w))?(Eo(T,h),T.h==0&&(T.src=null,w[_i]=null)):Dt(h)}}}function Qr(h){return h in So?So[h]:So[h]="on"+h}function tl(h,w){if(h.da)h=!0;else{w=new De(w,this);var T=h.listener,A=h.ha||h.src;h.fa&&Gr(h),h=T.call(A,w)}return h}function Io(h){return h=h[_i],h instanceof Kr?h:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function nl(h){return typeof h=="function"?h:(h[Ao]||(h[Ao]=function(w){return h.handleEvent(w)}),h[Ao])}function It(){Z.call(this),this.i=new Kr(this),this.M=this,this.F=null}P(It,Z),It.prototype[We]=!0,It.prototype.removeEventListener=function(h,w,T,A){bo(this,h,w,T,A)};function At(h,w){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=w.type||w,typeof w=="string")w=new ye(w,h);else if(w instanceof ye)w.target=w.target||h;else{var q=w;w=new ye(A,h),M(w,q)}if(q=!0,T)for(var X=T.length-1;0<=X;X--){var ae=w.g=T[X];q=Yr(ae,A,!0,w)&&q}if(ae=w.g=h,q=Yr(ae,A,!0,w)&&q,q=Yr(ae,A,!1,w)&&q,T)for(X=0;X<T.length;X++)ae=w.g=T[X],q=Yr(ae,A,!1,w)&&q}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var T=h.g[w],A=0;A<T.length;A++)Dt(T[A]);delete h.g[w],h.h--}}this.F=null},It.prototype.K=function(h,w,T,A){return this.i.add(String(h),w,!1,T,A)},It.prototype.L=function(h,w,T,A){return this.i.add(String(h),w,!0,T,A)};function Yr(h,w,T,A){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var q=!0,X=0;X<w.length;++X){var ae=w[X];if(ae&&!ae.da&&ae.capture==T){var Ge=ae.listener,Ct=ae.ha||ae.src;ae.fa&&Eo(h.i,ae),q=Ge.call(Ct,A)!==!1&&q}}return q&&!A.defaultPrevented}function rl(h,w,T){if(typeof h=="function")T&&(h=x(h,T));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(h,w||0)}function Is(h){h.g=rl(()=>{h.g=null,h.i&&(h.i=!1,Is(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Ti extends Z{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(h){Z.call(this),this.h=h,this.g={}}P(Ei,Z);var sl=[];function il(h){G(h.g,function(w,T){this.g.hasOwnProperty(T)&&Gr(w)},h),h.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),il(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ol=c.JSON.stringify,al=c.JSON.parse,ll=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Si(){}Si.prototype.h=null;function Co(h){return h.h||(h.h=h.i())}function Po(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){ye.call(this,"d")}P(wr,ye);function ko(){ye.call(this,"c")}P(ko,ye);var _r={},ul=null;function bi(){return ul=ul||new It}_r.La="serverreachability";function cl(h){ye.call(this,_r.La,h)}P(cl,ye);function Xr(h){const w=bi();At(w,new cl(w))}_r.STAT_EVENT="statevent";function hl(h,w){ye.call(this,_r.STAT_EVENT,h),this.stat=w}P(hl,ye);function pt(h){const w=bi();At(w,new hl(w,h))}_r.Ma="timingevent";function Ro(h,w){ye.call(this,_r.Ma,h),this.size=w}P(Ro,ye);function Yn(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},w)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function Ai(h,w,T,A,q,X){h.info(function(){if(h.g)if(X)for(var ae="",Ge=X.split("&"),Ct=0;Ct<Ge.length;Ct++){var $e=Ge[Ct].split("=");if(1<$e.length){var Mt=$e[0];$e=$e[1];var xt=Mt.split("_");ae=2<=xt.length&&xt[1]=="type"?ae+(Mt+"="+$e+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+w+`
`+T+`
`+ae})}function No(h,w,T,A,q,X,ae){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+w+`
`+T+`
`+X+" "+ae})}function Xn(h,w,T,A){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+vf(h,T)+(A?" "+A:"")})}function dl(h,w){h.info(function(){return"TIMEOUT: "+w})}Ii.prototype.info=function(){};function vf(h,w){if(!h.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ae=1;ae<q.length;ae++)q[ae]=""}}}}return ol(T)}catch{return w}}var Do={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ic={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function Ci(){}P(Ci,Si),Ci.prototype.g=function(){return new XMLHttpRequest},Ci.prototype.i=function(){return{}},Jn=new Ci;function Zn(h,w,T,A){this.j=h,this.i=w,this.l=T,this.R=A||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oc}function oc(){this.i=null,this.g="",this.h=!1}var fl={},Mo={};function Vo(h,w,T){h.L=1,h.v=Rs(Tn(w)),h.m=T,h.P=!0,pl(h,null)}function pl(h,w){h.F=Date.now(),Xe(h),h.A=Tn(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Ds(T.i,"t",A),h.C=0,T=h.j.J,h.h=new oc,h.g=Sc(h.j,T?w:null,!h.m),0<h.O&&(h.M=new Ti(x(h.Y,h,h.g),h.O)),w=h.U,T=h.g,A=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(sl[0]=q.toString()),q=sl);for(var X=0;X<q.length;X++){var ae=Za(T,q[X],A||w.handleEvent,!1,w.h||w);if(!ae)break;w.g[ae.key]=ae}w=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Xr(),Ai(h.i,h.u,h.A,h.l,h.R,h.m)}Zn.prototype.ca=function(h){h=h.target;const w=this.M;w&&cn(h)==3?w.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)e:{const xt=cn(this.g);var w=this.g.Ba();const Ln=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||wl(this.g)))){this.J||xt!=4||w==7||(w==8||0>=Ln?Xr(3):Xr(2)),Pi(this);var T=this.g.Z();this.X=T;t:if(ac(this)){var A=wl(this.g);h="";var q=A.length,X=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),As(this);var ae="";break t}this.h.i=new c.TextDecoder}for(w=0;w<q;w++)this.h.h=!0,h+=this.h.i.decode(A[w],{stream:!(X&&w==q-1)});A.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=T==200,No(this.i,this.u,this.A,this.l,this.R,xt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ct=this.g;if((Ge=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ge)){var $e=Ge;break t}}$e=null}if(T=$e)Xn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ml(this,T);else{this.o=!1,this.s=3,pt(12),Mn(this),As(this);break e}}if(this.P){T=!0;let Sn;for(;!this.J&&this.C<ae.length;)if(Sn=xf(this,ae),Sn==Mo){xt==4&&(this.s=4,pt(14),T=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==fl){this.s=4,pt(15),Xn(this.i,this.l,ae,"[Invalid Chunk]"),T=!1;break}else Xn(this.i,this.l,Sn,null),ml(this,Sn);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ae.length!=0||this.h.h||(this.s=1,pt(16),T=!1),this.o=this.o&&T,!T)Xn(this.i,this.l,ae,"[Invalid Chunked Response]"),Mn(this),As(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Tl(Mt),Mt.M=!0,pt(11))}}else Xn(this.i,this.l,ae,null),ml(this,ae);xt==4&&Mn(this),this.o&&!this.J&&(xt==4?qo(this.j,this):(this.o=!1,Xe(this)))}else $o(this.g),T==400&&0<ae.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Mn(this),As(this)}}}catch{}finally{}};function ac(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function xf(h,w){var T=h.C,A=w.indexOf(`
`,T);return A==-1?Mo:(T=Number(w.substring(T,A)),isNaN(T)?fl:(A+=1,A+T>w.length?Mo:(w=w.slice(A,A+T),h.C=A+T,w)))}Zn.prototype.cancel=function(){this.J=!0,Mn(this)};function Xe(h){h.S=Date.now()+h.I,lc(h,h.I)}function lc(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Yn(x(h.ba,h),w)}function Pi(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Zn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(dl(this.i,this.A),this.L!=2&&(Xr(),pt(17)),Mn(this),this.s=2,As(this)):lc(this,this.S-h)};function As(h){h.j.G==0||h.J||qo(h.j,h)}function Mn(h){Pi(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,il(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function ml(h,w){try{var T=h.j;if(T.G!=0&&(T.g==h||sn(T.h,h))){if(!h.K&&sn(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(w)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Wo(T),sr(T);else break e;Ho(T),pt(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=Yn(x(T.Za,T),6e3));if(1>=cc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ns(T,11)}else if((h.K||T.g==h)&&Wo(T),!U(w))for(q=T.Da.g.parse(w),w=0;w<q.length;w++){let $e=q[w];if(T.T=$e[0],$e=$e[1],T.G==2)if($e[0]=="c"){T.K=$e[1],T.ia=$e[2];const Mt=$e[3];Mt!=null&&(T.la=Mt,T.j.info("VER="+T.la));const xt=$e[4];xt!=null&&(T.Aa=xt,T.j.info("SVER="+T.Aa));const Ln=$e[5];Ln!=null&&typeof Ln=="number"&&0<Ln&&(A=1.5*Ln,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const Sn=h.g;if(Sn){const Li=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var X=A.h;X.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(gl(X,X.h),X.h=null))}if(A.D){const Go=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(A.ya=Go,Qe(A.I,A.D,Go))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ae=h;if(A.qa=Ec(A,A.J?A.ia:null,A.W),ae.K){hc(A.h,ae);var Ge=ae,Ct=A.L;Ct&&(Ge.I=Ct),Ge.B&&(Pi(Ge),Xe(Ge)),A.g=ae}else Vi(A);0<T.i.length&&br(T)}else $e[0]!="stop"&&$e[0]!="close"||ns(T,7);else T.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ns(T,7):Ut(T):$e[0]!="noop"&&T.l&&T.l.ta($e),T.v=0)}}Xr(4)}catch{}}var uc=class{constructor(h,w){this.g=h,this.map=w}};function ki(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _n(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function cc(h){return h.h?1:h.g?h.g.size:0}function sn(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function gl(h,w){h.g?h.g.add(w):h.h=w}function hc(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}ki.prototype.cancel=function(){if(this.i=dc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const T of h.g.values())w=w.concat(T.D);return w}return C(h.i)}function Lo(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var w=[],T=h.length,A=0;A<T;A++)w.push(h[A]);return w}w=[],T=0;for(A in h)w[T++]=h[A];return w}function Oo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var w=[];h=h.length;for(var T=0;T<h;T++)w.push(T);return w}w=[],T=0;for(const A in h)w[T++]=A;return w}}}function Cs(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var T=Oo(h),A=Lo(h),q=A.length,X=0;X<q;X++)w.call(void 0,A[X],T&&T[X],h)}var Ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(h,w){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),q=null;if(0<=A){var X=h[T].substring(0,A);q=h[T].substring(A+1)}else X=h[T];w(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Jr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Jr){this.h=h.h,Ni(this,h.j),this.o=h.o,this.g=h.g,Ps(this,h.s),this.l=h.l;var w=h.i,T=new Tr;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),ks(this,T),this.m=h.m}else h&&(w=String(h).match(Ri))?(this.h=!1,Ni(this,w[1]||"",!0),this.o=Fe(w[2]||""),this.g=Fe(w[3]||"",!0),Ps(this,w[4]),this.l=Fe(w[5]||"",!0),ks(this,w[6]||"",!0),this.m=Fe(w[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}Jr.prototype.toString=function(){var h=[],w=this.j;w&&h.push(Ns(w,jo,!0),":");var T=this.g;return(T||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Ns(w,jo,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ns(T,T.charAt(0)=="/"?mc:pc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ns(T,yl)),h.join("")};function Tn(h){return new Jr(h)}function Ni(h,w,T){h.j=T?Fe(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Ps(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function ks(h,w,T){w instanceof Tr?(h.i=w,Er(h.i,h.h)):(T||(w=Ns(w,gc)),h.i=new Tr(w,h.h))}function Qe(h,w,T){h.i.set(w,T)}function Rs(h){return Qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fe(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ns(h,w,T){return typeof h=="string"?(h=encodeURI(h).replace(w,fc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jo=/[#\/\?@]/g,pc=/[#\?:]/g,mc=/[#\?]/g,gc=/[#\?@]/g,yl=/#/g;function Tr(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Ft(h){h.g||(h.g=new Map,h.h=0,h.i&&wf(h.i,function(w,T){h.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}n=Tr.prototype,n.add=function(h,w){Ft(this),this.i=null,h=Vn(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(w),this.h+=1,this};function er(h,w){Ft(h),w=Vn(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function tr(h,w){return Ft(h),w=Vn(h,w),h.g.has(w)}n.forEach=function(h,w){Ft(this),this.g.forEach(function(T,A){T.forEach(function(q){h.call(w,q,A,this)},this)},this)},n.na=function(){Ft(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let A=0;A<w.length;A++){const q=h[A];for(let X=0;X<q.length;X++)T.push(w[A])}return T},n.V=function(h){Ft(this);let w=[];if(typeof h=="string")tr(this,h)&&(w=w.concat(this.g.get(Vn(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)w=w.concat(h[T])}return w},n.set=function(h,w){return Ft(this),this.i=null,h=Vn(this,h),tr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},n.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Ds(h,w,T){er(h,w),0<T.length&&(h.i=null,h.g.set(Vn(h,w),C(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var A=w[T];const X=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var q=X;ae[A]!==""&&(q+="="+encodeURIComponent(String(ae[A]))),h.push(q)}}return this.i=h.join("&")};function Vn(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Er(h,w){w&&!h.j&&(Ft(h),h.i=null,h.g.forEach(function(T,A){var q=A.toLowerCase();A!=q&&(er(this,A),Ds(this,q,T))},h)),h.j=w}function _f(h,w){const T=new Ii;if(c.Image){const A=new Image;A.onload=E(un,T,"TestLoadImage: loaded",!0,w,A),A.onerror=E(un,T,"TestLoadImage: error",!1,w,A),A.onabort=E(un,T,"TestLoadImage: abort",!1,w,A),A.ontimeout=E(un,T,"TestLoadImage: timeout",!1,w,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else w(!1)}function yc(h,w){const T=new Ii,A=new AbortController,q=setTimeout(()=>{A.abort(),un(T,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?un(T,"TestPingServer: ok",!0,w):un(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),un(T,"TestPingServer: error",!1,w)})}function un(h,w,T,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(T)}catch{}}function Tf(){this.g=new ll}function vc(h,w,T){const A=T||"";try{Cs(h,function(q,X){let ae=q;p(q)&&(ae=ol(q)),w.push(A+X+"="+encodeURIComponent(ae))})}catch(q){throw w.push(A+"type="+encodeURIComponent("_badmap")),q}}function Zr(h){this.l=h.Ub||null,this.j=h.eb||!1}P(Zr,Si),Zr.prototype.g=function(){return new Di(this.l,this.j)},Zr.prototype.i=(function(h){return function(){return h}})({});function Di(h,w){It.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Di,It),n=Di.prototype,n.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,rr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?nr(this):rr(this),this.readyState==3&&xc(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,nr(this))},n.Qa=function(h){this.g&&(this.response=h,nr(this))},n.ga=function(){this.g&&nr(this)};function nr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,rr(h)}n.setRequestHeader=function(h,w){this.u.append(h,w)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=w.next();return h.join(`\r
`)};function rr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function es(h){let w="";return G(h,function(T,A){w+=A,w+=":",w+=T,w+=`\r
`}),w}function Ms(h,w,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=es(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Qe(h,w,T))}function it(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(it,It);var Ef=/^https?$/i,vl=["POST","PUT"];n=it.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,w,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Co(this.o):Co(Jn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(X){Mi(this,X);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)T.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())T.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(vl,w,void 0))||A||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of T)this.g.setRequestHeader(X,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uo(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Mi(this,X)}};function Mi(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,Fo(h),En(h)}function Fo(h){h.A||(h.A=!0,At(h,"complete"),At(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,At(this,"complete"),At(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xl(this):this.bb())},n.bb=function(){xl(this)};function xl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||cn(h)!=4||h.Z()!=2)){if(h.u&&cn(h)==4)rl(h.Ea,0,h);else if(At(h,"readystatechange"),cn(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var A;if(A=ae===0){var q=String(h.D).match(Ri)[1]||null;!q&&c.self&&c.self.location&&(q=c.self.location.protocol.slice(0,-1)),A=!Ef.test(q?q.toLowerCase():"")}T=A}if(T)At(h,"complete"),At(h,"success");else{h.m=6;try{var X=2<cn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Fo(h)}}finally{En(h)}}}}function En(h,w){if(h.g){Uo(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||At(h,"ready");try{T.onreadystatechange=A}catch{}}}function Uo(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function cn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),al(w)}};function wl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $o(h){const w={};h=(h.g&&2<=cn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(U(h[A]))continue;var T=F(h[A]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=w[q]||[];w[q]=X,X.push(T)}k(w,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(h,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||w}function _l(h){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,h),this.cb=Sr("retryDelaySeedMs",1e4,h),this.Wa=Sr("forwardChannelMaxRetries",2,h),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(h&&h.concurrentRequestLimit),this.Da=new Tf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_l.prototype,n.la=8,n.G=1,n.connect=function(h,w,T,A){pt(0),this.W=h,this.H=w||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Ec(this,null,this.W),br(this)};function Ut(h){if(Bo(h),h.G==3){var w=h.U++,T=Tn(h.I);if(Qe(T,"SID",h.K),Qe(T,"RID",w),Qe(T,"TYPE","terminate"),ts(h,T),w=new Zn(h,h.j,w),w.L=2,w.v=Rs(Tn(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=w.v,T=!0),T||(w.g=Sc(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Xe(w)}Tc(h)}function sr(h){h.g&&(Tl(h),h.g.cancel(),h.g=null)}function Bo(h){sr(h),h.u&&(c.clearTimeout(h.u),h.u=null),Wo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function br(h){if(!_n(h.h)&&!h.s){h.s=!0;var w=h.Ga;ue||ie(),J||(ue(),J=!0),le.add(w,h),h.B=0}}function Sf(h,w){return cc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Yn(x(h.Ga,h,w),_c(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new Zn(this,this.j,h);let X=this.o;if(this.S&&(X?(X=I(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(w+=A,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Vs(this,q,w),T=Tn(this.I),Qe(T,"RID",h),Qe(T,"CVER",22),this.D&&Qe(T,"X-HTTP-Session-Id",this.D),ts(this,T),X&&(this.O?w="headers="+encodeURIComponent(String(es(X)))+"&"+w:this.m&&Ms(T,this.m,X)),gl(this.h,q),this.Ua&&Qe(T,"TYPE","init"),this.P?(Qe(T,"$req",w),Qe(T,"SID","null"),q.T=!0,Vo(q,T,null)):Vo(q,T,w),this.G=2}}else this.G==3&&(h?zo(this,h):this.i.length==0||_n(this.h)||zo(this))};function zo(h,w){var T;w?T=w.l:T=h.U++;const A=Tn(h.I);Qe(A,"SID",h.K),Qe(A,"RID",T),Qe(A,"AID",h.T),ts(h,A),h.m&&h.o&&Ms(A,h.m,h.o),T=new Zn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Vs(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),gl(h.h,T),Vo(T,A,w)}function ts(h,w){h.H&&G(h.H,function(T,A){Qe(w,A,T)}),h.l&&Cs({},function(T,A){Qe(w,A,T)})}function Vs(h,w,T){T=Math.min(h.i.length,T);var A=h.l?x(h.l.Na,h.l,h):null;e:{var q=h.i;let X=-1;for(;;){const ae=["count="+T];X==-1?0<T?(X=q[0].g,ae.push("ofs="+X)):X=0:ae.push("ofs="+X);let Ge=!0;for(let Ct=0;Ct<T;Ct++){let $e=q[Ct].g;const Mt=q[Ct].map;if($e-=X,0>$e)X=Math.max(0,q[Ct].g-100),Ge=!1;else try{vc(Mt,ae,"req"+$e+"_")}catch{A&&A(Mt)}}if(Ge){A=ae.join("&");break e}}}return h=h.i.splice(0,T),w.D=h,A}function Vi(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;ue||ie(),J||(ue(),J=!0),le.add(w,h),h.v=0}}function Ho(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Yn(x(h.Fa,h),_c(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Yn(x(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),sr(this),wc(this))};function Tl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function wc(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Tn(h.qa);Qe(w,"RID","rpc"),Qe(w,"SID",h.K),Qe(w,"AID",h.T),Qe(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qe(w,"TO",h.ja),Qe(w,"TYPE","xmlhttp"),ts(h,w),h.m&&h.o&&Ms(w,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Rs(Tn(w)),T.m=null,T.P=!0,pl(T,h)}n.Za=function(){this.C!=null&&(this.C=null,sr(this),Ho(this),pt(19))};function Wo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function qo(h,w){var T=null;if(h.g==w){Wo(h),Tl(h),h.g=null;var A=2}else if(sn(h.h,w))T=w.D,hc(h.h,w),A=1;else return;if(h.G!=0){if(w.o)if(A==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var q=h.B;A=bi(),At(A,new Ro(A,T)),br(h)}else Vi(h);else if(q=w.s,q==3||q==0&&0<w.X||!(A==1&&Sf(h,w)||A==2&&Ho(h)))switch(T&&0<T.length&&(w=h.h,w.i=w.i.concat(T)),q){case 1:ns(h,5);break;case 4:ns(h,10);break;case 3:ns(h,6);break;default:ns(h,2)}}}function _c(h,w){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*w}function ns(h,w){if(h.j.info("Error code "+w),w==2){var T=x(h.fb,h),A=h.Xa;const q=!A;A=new Jr(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ni(A,"https"),Rs(A),q?_f(A.toString(),T):yc(A.toString(),T)}else pt(2);h.G=0,h.l&&h.l.sa(w),Tc(h),Bo(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Tc(h){if(h.G=0,h.ka=[],h.l){const w=dc(h.h);(w.length!=0||h.i.length!=0)&&(b(h.ka,w),b(h.ka,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.ra()}}function Ec(h,w,T){var A=T instanceof Jr?Tn(T):new Jr(T);if(A.g!="")w&&(A.g=w+"."+A.g),Ps(A,A.s);else{var q=c.location;A=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;var X=new Jr(null);A&&Ni(X,A),w&&(X.g=w),q&&Ps(X,q),T&&(X.l=T),A=X}return T=h.D,w=h.ya,T&&w&&Qe(A,T,w),Qe(A,"VER",h.la),ts(h,A),A}function Sc(h,w,T){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new it(new Zr({eb:T})):new it(h.pa),w.Ha(h.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function El(){}n=El.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ko(){}Ko.prototype.g=function(h,w){return new on(h,w)};function on(h,w){It.call(this),this.g=new _l(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!U(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Ir(this)}P(on,It),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ut(this.g)},on.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ol(h),h=T);w.i.push(new uc(w.Ya++,h)),w.G==3&&br(w)},on.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,on.aa.N.call(this)};function bc(h){wr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const T in w){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}P(bc,wr);function Ic(){ko.call(this),this.status=1}P(Ic,ko);function Ir(h){this.g=h}P(Ir,El),Ir.prototype.ua=function(){At(this.g,"a")},Ir.prototype.ta=function(h){At(this.g,new bc(h))},Ir.prototype.sa=function(h){At(this.g,new Ic)},Ir.prototype.ra=function(){At(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Nb=function(){return new Ko},Rb=function(){return bi()},kb=_r,lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,Bh=Do,ic.COMPLETE="complete",Pb=ic,Po.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",It.prototype.listen=It.prototype.K,nu=Po,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,Cb=it}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore",L_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new $d("@firebase/firestore");function xa(){return co.logLevel}function fe(n,...e){if(co.logLevel<=Le.DEBUG){const t=e.map(ky);co.debug(`Firestore (${Ka}): ${n}`,...t)}}function Es(n,...e){if(co.logLevel<=Le.ERROR){const t=e.map(ky);co.error(`Firestore (${Ka}): ${n}`,...t)}}function Oa(n,...e){if(co.logLevel<=Le.WARN){const t=e.map(ky);co.warn(`Firestore (${Ka}): ${n}`,...t)}}function ky(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Db(n,r,t)}function Db(n,e,t){let r=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Es(r),new Error(r)}function Ke(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Db(e,s,r)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Qn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zt.UNAUTHENTICATED)))}shutdown(){}}class Fj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Uj{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new vs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vs)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new Mb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class $j{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Bj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new $j(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new O_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Hj(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Oe(n,e){return n<e?-1:n>e?1:0}function ug(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return gm(s)===gm(a)?Oe(s,a):gm(s)?1:-1}return Oe(n.length,e.length)}const Wj=55296,qj=57343;function gm(n){const e=n.charCodeAt(0);return e>=Wj&&e<=qj}function ja(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="__name__";class Rr{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Rr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Oe(e.length,t.length)}static compareSegments(e,t){const r=Rr.isNumericId(e),s=Rr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):ug(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ii.fromString(e.substring(4,e.length-2))}}class Ze extends Rr{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Rr{construct(e,t,r){return new Wt(e,t,r)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new Wt([j_])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ze.fromString(e))}static fromName(e){return new _e(Ze.fromString(e).popFirst(5))}static empty(){return new _e(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,e,t){if(!t)throw new ce(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Gj(n,e,t,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function F_(n){if(!_e.isDocumentKey(n))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function U_(n){if(_e.isDocumentKey(n))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function zr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qd(n);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ju(n,e){if(!Lb(n))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ce(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,B_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*B_);return new rt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$_)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ju(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Et("string",rt._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new rt(0,0))}static max(){return new Pe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function Qj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new rt(t+1,0):new rt(t,r));return new ci(s,_e.empty(),e)}function Yj(n){return new ci(n.readTime,n.key,Cu)}class ci{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ci(Pe.min(),_e.empty(),Cu)}static max(){return new ci(Pe.max(),_e.empty(),Cu)}}function Xj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==Jj)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&t()}),(d=>r(d)))})),l=!0,a===s&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((s=>s?te.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next((m=>{l[p]=m,++c,c===a&&r(l)}),(m=>s(m)))}}))}static doWhile(e,t){return new te(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function e4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-1;function Gd(n){return n==null}function hd(n){return n===0&&1/n==-1/0}function t4(n){return typeof n=="number"&&Number.isInteger(n)&&!hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="";function n4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=z_(e)),e=r4(n.get(t),e);return z_(e)}function r4(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case Ob:t+="";break;default:t+=a}}return t}function z_(n){return n+Ob+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ht(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new Nt(Wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Fb("Invalid base64 string: "+a):a}})(e);return new qt(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const s4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=s4.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function di(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="server_timestamp",$b="__type__",Bb="__previous_value__",zb="__local_write_time__";function Dy(n){return(n?.mapValue?.fields||{})[$b]?.stringValue===Ub}function Qd(n){const e=n.mapValue.fields[Bb];return Dy(e)?Qd(e):e}function Pu(n){const e=hi(n.mapValue.fields[zb].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t,r,s,a,l,c,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=m}}const dd="(default)";class ku{constructor(e,t){this.projectId=e,this.database=t||dd}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===dd}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="__type__",o4="__max__",Ch={mapValue:{}},Wb="__vector__",fd="value";function fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dy(n)?4:l4(n)?9007199254740991:a4(n)?10:11:be(28295,{value:n})}function Hr(n,e){if(n===e)return!0;const t=fi(n);if(t!==fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pu(n).isEqual(Pu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=hi(s.timestampValue),c=hi(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return di(s.bytesValue).isEqual(di(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return yt(s.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return yt(s.integerValue)===yt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=yt(s.doubleValue),c=yt(a.doubleValue);return l===c?hd(l)===hd(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return ja(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(H_(l)!==H_(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Hr(l[d],c[d])))return!1;return!0})(n,e);default:return be(52216,{left:n})}}function Ru(n,e){return(n.values||[]).find((t=>Hr(t,e)))!==void 0}function Fa(n,e){if(n===e)return 0;const t=fi(n),r=fi(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=yt(a.integerValue||a.doubleValue),d=yt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(n,e);case 3:return q_(n.timestampValue,e.timestampValue);case 4:return q_(Pu(n),Pu(e));case 5:return ug(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=di(a),d=di(l);return c.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=Oe(c[p],d[p]);if(m!==0)return m}return Oe(c.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Oe(yt(a.latitude),yt(l.latitude));return c!==0?c:Oe(yt(a.longitude),yt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return K_(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},d=l.fields||{},p=c[fd]?.arrayValue,m=d[fd]?.arrayValue,v=Oe(p?.values?.length||0,m?.values?.length||0);return v!==0?v:K_(p,m)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Ch.mapValue&&l===Ch.mapValue)return 0;if(a===Ch.mapValue)return 1;if(l===Ch.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const x=ug(d[v],m[v]);if(x!==0)return x;const E=Fa(c[d[v]],p[m[v]]);if(E!==0)return E}return Oe(d.length,m.length)})(n.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function q_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=hi(n),r=hi(e),s=Oe(t.seconds,r.seconds);return s!==0?s:Oe(t.nanos,r.nanos)}function K_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Fa(t[s],r[s]);if(a)return a}return Oe(t.length,r.length)}function Ua(n){return cg(n)}function cg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=hi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return di(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=cg(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${cg(t.fields[l])}`;return s+"}"})(n.mapValue):be(61005,{value:n})}function zh(n){switch(fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qd(n);return e?16+zh(e):16;case 5:return 2*n.stringValue.length;case 6:return di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+zh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return xi(r.fields,((a,l)=>{s+=a.length+zh(l)})),s})(n.mapValue);default:throw be(13486,{value:n})}}function G_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hg(n){return!!n&&"integerValue"in n}function My(n){return!!n&&"arrayValue"in n}function Q_(n){return!!n&&"nullValue"in n}function Y_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hh(n){return!!n&&"mapValue"in n}function a4(n){return(n?.mapValue?.fields||{})[Hb]?.stringValue===Wb}function du(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return xi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=du(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(n.arrayValue.values[t]);return e}return{...n}}function l4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===o4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=Wt.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=du(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Hh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){xi(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new vn(du(this.value))}}function qb(n){const e=[];return xi(n.fields,((t,r)=>{const s=new Wt([t]);if(Hh(r)){const a=qb(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new en(e,0,Pe.min(),Pe.min(),Pe.min(),vn.empty(),0)}static newFoundDocument(e,t,r,s){return new en(e,1,t,Pe.min(),r,s,0)}static newNoDocument(e,t){return new en(e,2,t,Pe.min(),Pe.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Pe.min(),Pe.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t){this.position=e,this.inclusive=t}}function X_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Fa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t="asc"){this.field=e,this.dir=t}}function u4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{}class Tt extends Kb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new h4(e,t,r):t==="array-contains"?new p4(e,r):t==="in"?new m4(e,r):t==="not-in"?new g4(e,r):t==="array-contains-any"?new y4(e,r):new Tt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new d4(e,r):new f4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fa(t,this.value)):t!==null&&fi(this.value)===fi(t)&&this.matchesComparison(Fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends Kb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new xr(e,t)}matches(e){return Gb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gb(n){return n.op==="and"}function Qb(n){return c4(n)&&Gb(n)}function c4(n){for(const e of n.filters)if(e instanceof xr)return!1;return!0}function dg(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Ua(n.value);if(Qb(n))return n.filters.map((e=>dg(e))).join(",");{const e=n.filters.map((t=>dg(t))).join(",");return`${n.op}(${e})`}}function Yb(n,e){return n instanceof Tt?(function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Hr(r.value,s.value)})(n,e):n instanceof xr?(function(r,s){return s instanceof xr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&Yb(l,s.filters[c])),!0):!1})(n,e):void be(19439)}function Xb(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ua(t.value)}`})(n):n instanceof xr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Xb).join(" ,")+"}"})(n):"Filter"}class h4 extends Tt{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class d4 extends Tt{constructor(e,t){super(e,"in",t),this.keys=Jb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class f4 extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Jb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Jb(n,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class p4 extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return My(t)&&Ru(t.arrayValue,this.value)}}class m4 extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ru(this.value.arrayValue,t)}}class g4 extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ru(this.value.arrayValue,t)}}class y4 extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!My(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ru(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function Z_(n,e=null,t=[],r=[],s=null,a=null,l=null){return new v4(n,e,t,r,s,a,l)}function Vy(n){const e=ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>dg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ua(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ua(r))).join(",")),e.Te=t}return e.Te}function Ly(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!u4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Yb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!J_(n.startAt,e.startAt)&&J_(n.endAt,e.endAt)}function fg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function x4(n,e,t,r,s,a,l,c){return new Ya(n,e,t,r,s,a,l,c)}function Oy(n){return new Ya(n)}function e1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Zb(n){return n.collectionGroup!==null}function fu(n){const e=ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Nt(Wt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Nu(a,r))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new Nu(Wt.keyField(),r))}return e.Ie}function jr(n){const e=ke(n);return e.Ee||(e.Ee=w4(e,fu(n))),e.Ee}function w4(n,e){if(n.limitType==="F")return Z_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Nu(s.field,a)}));const t=n.endAt?new pd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pd(n.startAt.position,n.startAt.inclusive):null;return Z_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function pg(n,e){const t=n.filters.concat([e]);return new Ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mg(n,e,t){return new Ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yd(n,e){return Ly(jr(n),jr(e))&&n.limitType===e.limitType}function eI(n){return`${Vy(jr(n))}|lt:${n.limitType}`}function wa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>Xb(s))).join(", ")}]`),Gd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Ua(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Ua(s))).join(",")),`Target(${r})`})(jr(n))}; limitType=${n.limitType})`}function Xd(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of fu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,d){const p=X_(l,c,d);return l.inclusive?p<=0:p<0})(r.startAt,fu(r),s)||r.endAt&&!(function(l,c,d){const p=X_(l,c,d);return l.inclusive?p>=0:p>0})(r.endAt,fu(r),s))})(n,e)}function _4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tI(n){return(e,t)=>{let r=!1;for(const s of fu(n)){const a=T4(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function T4(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?Fa(d,p):be(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new ht(_e.comparator);function Ss(){return E4}const nI=new ht(_e.comparator);function ru(...n){let e=nI;for(const t of n)e=e.insert(t.key,t);return e}function rI(n){let e=nI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function to(){return pu()}function sI(){return pu()}function pu(){return new wo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const S4=new ht(_e.comparator),b4=new Nt(_e.comparator);function je(...n){let e=b4;for(const t of n)e=e.add(t);return e}const I4=new Nt(Oe);function A4(){return I4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function iI(n){return{integerValue:""+n}}function C4(n,e){return t4(e)?iI(e):jy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this._=void 0}}function P4(n,e,t){return n instanceof md?(function(s,a){const l={fields:{[$b]:{stringValue:Ub},[zb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Dy(a)&&(a=Qd(a)),a&&(l.fields[Bb]=a),{mapValue:l}})(t,e):n instanceof Du?aI(n,e):n instanceof Mu?lI(n,e):(function(s,a){const l=oI(s,a),c=t1(l)+t1(s.Ae);return hg(l)&&hg(s.Ae)?iI(c):jy(s.serializer,c)})(n,e)}function k4(n,e,t){return n instanceof Du?aI(n,e):n instanceof Mu?lI(n,e):t}function oI(n,e){return n instanceof gd?(function(r){return hg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class md extends Jd{}class Du extends Jd{constructor(e){super(),this.elements=e}}function aI(n,e){const t=uI(e);for(const r of n.elements)t.some((s=>Hr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Mu extends Jd{constructor(e){super(),this.elements=e}}function lI(n,e){let t=uI(e);for(const r of n.elements)t=t.filter((s=>!Hr(s,r)));return{arrayValue:{values:t}}}class gd extends Jd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function t1(n){return yt(n.integerValue||n.doubleValue)}function uI(n){return My(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function R4(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Du&&s instanceof Du||r instanceof Mu&&s instanceof Mu?ja(r.elements,s.elements,Hr):r instanceof gd&&s instanceof gd?Hr(r.Ae,s.Ae):r instanceof md&&s instanceof md})(n.transform,e.transform)}class N4{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zd{}function cI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dI(n.key,yr.none()):new Zu(n.key,n.data,yr.none());{const t=n.data,r=vn.empty();let s=new Nt(Wt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new wi(n.key,r,new Pn(s.toArray()),yr.none())}}function D4(n,e,t){n instanceof Zu?(function(s,a,l){const c=s.value.clone(),d=r1(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof wi?(function(s,a,l){if(!Wh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=r1(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(hI(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function mu(n,e,t,r){return n instanceof Zu?(function(a,l,c,d){if(!Wh(a.precondition,l))return c;const p=a.value.clone(),m=s1(a.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof wi?(function(a,l,c,d){if(!Wh(a.precondition,l))return c;const p=s1(a.fieldTransforms,d,l),m=l.data;return m.setAll(hI(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(a,l,c){return Wh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function M4(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=oI(r.transform,s||null);a!=null&&(t===null&&(t=vn.empty()),t.set(r.field,a))}return t||null}function n1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ja(r,s,((a,l)=>R4(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Zu extends Zd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wi extends Zd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function r1(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,k4(l,c,t[s]))}return r}function s1(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,P4(a,l,e))}return r}class dI extends Zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V4 extends Zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&D4(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sI();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const d=cI(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,((t,r)=>n1(t,r)))&&ja(this.baseMutations,e.baseMutations,((t,r)=>n1(t,r)))}}class Fy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return S4})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Fy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Be;function F4(n){switch(n){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function fI(n){if(n===void 0)return Es("GRPC error has no .code"),ee.UNKNOWN;switch(n){case _t.OK:return ee.OK;case _t.CANCELLED:return ee.CANCELLED;case _t.UNKNOWN:return ee.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ee.INTERNAL;case _t.UNAVAILABLE:return ee.UNAVAILABLE;case _t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case _t.NOT_FOUND:return ee.NOT_FOUND;case _t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case _t.ABORTED:return ee.ABORTED;case _t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case _t.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:n})}}(Be=_t||(_t={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new ii([4294967295,4294967295],0);function i1(n){const e=U4().encode(n),t=new Ab;return t.update(e),new Uint8Array(t.digest())}function o1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ii([t,r],0),new ii([s,a],0)]}class Uy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ii.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ii.fromNumber(r)));return s.compare($4)===1&&(s=new ii([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=i1(e),[r,s]=o1(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Uy(a,s,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=i1(e),[r,s]=o1(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ef(Pe.min(),s,new ht(Oe),Ss(),je())}}class ec{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ec(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class pI{constructor(e,t){this.targetId=e,this.Ce=t}}class mI{constructor(e,t,r=qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class a1{constructor(){this.ve=0,this.Fe=l1(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:be(38017,{changeType:a})}})),new ec(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=l1()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class B4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=Ph(),this.He=Ph(),this.Ye=new ht(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(fg(a))if(r===0){const l=new _e(a.path);this.et(t,l,en.newNoDocument(l,Pe.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=di(r).toUint8Array()}catch(d){if(d instanceof Fb)return Oa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Uy(l,s,a)}catch(d){return Oa(d instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&fg(c.target)){const d=new _e(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,en.newNoDocument(d,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let r=je();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new ef(e,t,this.Ye,this.je,r);return this.je=Ss(),this.Je=Ph(),this.He=Ph(),this.Ye=new ht(Oe),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new a1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ph(){return new ht(_e.comparator)}function l1(){return new ht(_e.comparator)}const z4={asc:"ASCENDING",desc:"DESCENDING"},H4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W4={and:"AND",or:"OR"};class q4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gg(n,e){return n.useProto3Json||Gd(e)?e:{value:e}}function yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K4(n,e){return yd(n,e.toTimestamp())}function Fr(n){return Ke(!!n,49232),Pe.fromTimestamp((function(t){const r=hi(t);return new rt(r.seconds,r.nanos)})(n))}function $y(n,e){return yg(n,e).canonicalString()}function yg(n,e){const t=(function(s){return new Ze(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function yI(n){const e=Ze.fromString(n);return Ke(TI(e),10190,{key:e.toString()}),e}function vg(n,e){return $y(n.databaseId,e.path)}function ym(n,e){const t=yI(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(xI(t))}function vI(n,e){return $y(n.databaseId,e)}function G4(n){const e=yI(n);return e.length===4?Ze.emptyPath():xI(e)}function xg(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xI(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function u1(n,e,t){return{name:vg(n,e),fields:t.value.mapValue.fields}}function Q4(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,m){return p.useProto3Json?(Ke(m===void 0||typeof m=="string",58123),qt.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),qt.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const m=p.code===void 0?ee.UNKNOWN:fI(p.code);return new ce(m,p.message||"")})(l);t=new mI(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ym(n,r.document.name),a=Fr(r.document.updateTime),l=r.document.createTime?Fr(r.document.createTime):Pe.min(),c=new vn({mapValue:{fields:r.document.fields}}),d=en.newFoundDocument(s,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];t=new qh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ym(n,r.document),a=r.readTime?Fr(r.readTime):Pe.min(),l=en.newNoDocument(s,a),c=r.removedTargetIds||[];t=new qh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ym(n,r.document),a=r.removedTargetIds||[];t=new qh([],a,s,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new j4(s,a),c=r.targetId;t=new pI(c,l)}}return t}function Y4(n,e){let t;if(e instanceof Zu)t={update:u1(n,e.key,e.value)};else if(e instanceof dI)t={delete:vg(n,e.key)};else if(e instanceof wi)t={update:u1(n,e.key,e.data),updateMask:i3(e.fieldMask)};else{if(!(e instanceof V4))return be(16599,{Vt:e.type});t={verify:vg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof md)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Du)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Mu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw be(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:K4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be(27497)})(n,e.precondition)),t}function X4(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?Fr(s.updateTime):Fr(a);return l.isEqual(Pe.min())&&(l=Fr(a)),new N4(l,s.transformResults||[])})(t,e)))):[]}function J4(n,e){return{documents:[vI(n,e.path)]}}function Z4(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vI(n,s);const a=(function(p){if(p.length!==0)return _I(xr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((m=>(function(x){return{field:_a(x.field),direction:n3(x.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=gg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function e3(n){let e=G4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const m=t.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=(function(v){const x=wI(v);return x instanceof xr&&Qb(x)?x.getFilters():[x]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((x=>(function(P){return new Nu(Ta(P.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(x)))})(t.orderBy));let c=null;t.limit&&(c=(function(v){let x;return x=typeof v=="object"?v.value:v,Gd(x)?null:x})(t.limit));let d=null;t.startAt&&(d=(function(v){const x=!!v.before,E=v.values||[];return new pd(E,x)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const x=!v.before,E=v.values||[];return new pd(E,x)})(t.endAt)),x4(e,s,l,a,c,"F",d,p)}function t3(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ta(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ta(t.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ta(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ta(t.unaryFilter.field);return Tt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(Ta(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return xr.create(t.compositeFilter.filters.map((r=>wI(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(t.compositeFilter.op))})(n):be(30097,{filter:n})}function n3(n){return z4[n]}function r3(n){return H4[n]}function s3(n){return W4[n]}function _a(n){return{fieldPath:n.canonicalString()}}function Ta(n){return Wt.fromServerFormat(n.fieldPath)}function _I(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(Y_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NAN"}};if(Q_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NAN"}};if(Q_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(t.field),op:r3(t.op),value:t.value}}})(n):n instanceof xr?(function(t){const r=t.getFilters().map((s=>_I(s)));return r.length===1?r[0]:{compositeFilter:{op:s3(t.op),filters:r}}})(n):be(54877,{filter:n})}function i3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function TI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t,r,s,a=Pe.min(),l=Pe.min(),c=qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.yt=e}}function a3(n){const e=e3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.Cn=new u3}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ci.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class u3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Nt(Ze.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EI=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(EI,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="LruGarbageCollector",c3=1048576;function d1([n,e],[t,r]){const s=Oe(n,t);return s===0?Oe(e,r):s}class h3{constructor(e){this.Ir=e,this.buffer=new Nt(d1),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();d1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(h1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qa(t)?fe(h1,"Ignoring IndexedDB error during garbage collection: ",t):await Ga(t)}await this.Vr(3e5)}))}}class f3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Kd.ce);const r=new h3(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(c1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c1):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,c=Date.now(),this.removeTargets(e,r,t)))).next((v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),xa()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v}))))}}function p3(n,e){return new f3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this.changes=new wo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&mu(r.mutation,s,Pn.empty(),rt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const s=to();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=ru();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=to();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,s){let a=Ss();const l=pu(),c=(function(){return pu()})();return t.forEach(((d,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof wi)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),mu(m.mutation,p,m.mutation.getFieldMask(),rt.now())):l.set(p.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,m)=>l.set(p,m))),t.forEach(((p,m)=>c.set(p,new g3(m,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=pu();let s=new ht(((l,c)=>l-c)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let m=r.get(d)||Pn.empty();m=c.applyToLocalView(p,m),r.set(d,m);const v=(s.get(c.batchId)||je()).add(d);s=s.insert(c.batchId,v)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,v=sI();m.forEach((x=>{if(!a.has(x)){const E=cI(t.get(x),r.get(x));E!==null&&v.set(x,E),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Zb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):te.resolve(to());let c=Cu,d=a;return l.next((p=>te.forEach(p,((m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next((x=>{d=d.insert(m,x)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,je()))).next((m=>({batchId:c,changes:rI(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((r=>{let s=ru();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=ru();return this.indexManager.getCollectionParents(e,a).next((c=>te.forEach(c,(d=>{const p=(function(v,x){return new Ya(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((m=>{m.forEach(((v,x)=>{l=l.insert(v,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,en.newInvalidDocument(m)))}));let c=ru();return l.forEach(((d,p)=>{const m=a.get(d);m!==void 0&&mu(m.mutation,p,Pn.empty(),rt.now()),Xd(t,p)&&(c=c.insert(d,p))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Fr(s.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:a3(s.bundledQuery),readTime:Fr(s.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.overlays=new ht(_e.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=to();return te.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=to(),a=t.length+1,l=new _e(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ht(((p,m)=>p-m));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=to(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=to(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,m)=>c.set(p,m))),!(c.size()>=s)););return te.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new O4(t,r));let a=this.qr.get(t);a===void 0&&(a=je(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Qr=new Nt(jt.$r),this.Ur=new Nt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new jt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new jt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new _e(new Ze([])),r=new jt(t,e),s=new jt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new Ze([])),r=new jt(t,e),s=new jt(t,e+1);let a=je();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new jt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new L4(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new jt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Ny:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),s=new jt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const c=this.Xr(l.Yr);a.push(c)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(Oe);return t.forEach((s=>{const a=new jt(s,0),l=new jt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const l=new jt(new _e(a),0);let c=new Nt(Oe);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(d.Yr)),!0)}),l),te.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(t.mutations,(s=>{const a=new jt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new jt(t,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.ri=e,this.docs=(function(){return new ht(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=Ss();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():en.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Ss();const l=t.path,c=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Xj(Yj(m),r)<=0||(s.has(m.key)||Xd(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,s){be(9500)}ii(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new E3(this)}getSize(e){return te.resolve(this.size)}}class E3 extends m3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.persistence=e,this.si=new wo((t=>Vy(t)),Ly),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new By,this.targetCount=0,this.ai=$a.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new $a(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t){this.ui={},this.overlays={},this.ci=new Kd(0),this.li=!1,this.li=!0,this.hi=new w3,this.referenceDelegate=e(this),this.Pi=new S3(this),this.indexManager=new l3,this.remoteDocumentCache=(function(s){return new T3(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new o3(t),this.Ii=new v3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new x3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new _3(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const s=new b3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class b3 extends Zj{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Ri=new By,this.Vi=null}static mi(e){return new zy(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=_e.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Pe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class vd{constructor(e,t){this.persistence=e,this.pi=new wo((r=>n4(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=p3(this,t)}static mi(e,t){return new vd(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?te.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((c=>{c||(r++,a.removeEntry(l,Pe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zh(e.data.value)),t}br(e,t,r){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=je(),s=je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Hy(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gV()?8:e4(nn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new I3;return this.Ss(e,t,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,t,l,c.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(xa()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(xa()<=Le.DEBUG&&fe("QueryEngine","Query:",wa(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(xa()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):te.resolve())}ys(e,t){if(e1(t))return te.resolve(null);let r=jr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=mg(t,null,"F"),r=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=je(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(t,c);return this.Cs(t,p,l,d.readTime)?this.ys(e,mg(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ws(e,t,r,s){return e1(t)||s.isEqual(Pe.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,s)?te.resolve(null):(xa()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wa(t)),this.vs(e,l,t,Qj(s,Cu)).next((c=>c)))}))}Ds(e,t){let r=new Nt(tI(e));return t.forEach(((s,a)=>{Xd(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return xa()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",wa(t)),this.ps.getDocumentsMatchingQuery(e,t,ci.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",C3=3e8;class P3{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new ht(Oe),this.xs=new wo((a=>Vy(a)),Ly),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function k3(n,e,t,r){return new P3(n,e,t,r)}async function bI(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=je();for(const p of s){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function R3(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,p,m){const v=p.batch,x=v.keys();let E=te.resolve();return x.forEach((P=>{E=E.next((()=>m.getEntry(d,P))).next((C=>{const b=p.docVersions.get(P);Ke(b!==null,48541),C.version.compareTo(b)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),m.addEntry(C)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(d,v)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function II(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function N3(n,e){const t=ke(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((m,v)=>{const x=s.get(v);if(!x)return;c.push(t.Pi.removeMatchingKeys(a,m.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(a,m.addedDocuments,v))));let E=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(qt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(v,E),(function(C,b,j){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=C3?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,E,m)&&c.push(t.Pi.updateTargetData(a,E))}));let d=Ss(),p=je();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(D3(a,l,e.documentUpdates).next((m=>{d=m.ks,p=m.qs}))),!r.isEqual(Pe.min())){const m=t.Pi.getLastRemoteSnapshotVersion(a).next((v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return te.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(t.Ms=s,a)))}function D3(n,e,t){let r=je(),s=je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=Ss();return t.forEach(((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):fe(Wy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function M3(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ny),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function V3(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new ni(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function wg(n,e,t){const r=ke(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Qa(l))throw l;fe(Wy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function f1(n,e,t){const r=ke(n);let s=Pe.min(),a=je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,m){const v=ke(d),x=v.xs.get(m);return x!==void 0?te.resolve(v.Ms.get(x)):v.Pi.getTargetData(p,m)})(r,l,jr(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Pe.min(),t?a:je()))).next((c=>(L3(r,_4(e),c),{documents:c,Qs:a})))))}function L3(n,e,t){let r=n.Os.get(e)||Pe.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class p1{constructor(){this.activeTargetIds=A4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O3{constructor(){this.Mo=new p1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="ConnectivityMonitor";class g1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(m1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(m1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function _g(){return kh===null?kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",F3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===dd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const l=_g(),c=this.zo(e,t.toUriEncodedString());fe(vm,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,a);const{host:p}=new URL(c),m=yo(p);return this.Jo(e,c,d,r,m).then((v=>(fe(vm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Oa(vm,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v}))}Ho(e,t,r,s,a,l){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ka})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=F3[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class B3 extends U3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=_g();return new Promise(((c,d)=>{const p=new Cb;p.setWithCredentials(!0),p.listenOnce(Pb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Bh.NO_ERROR:const v=p.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Bh.TIMEOUT:fe(Xt,`RPC '${e}' ${l} timed out`),d(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const x=p.getStatus();if(fe(Xt,`RPC '${e}' ${l} failed with status:`,x,"response text:",p.getResponseText()),x>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const P=E?.error;if(P&&P.status&&P.message){const C=(function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(U)>=0?U:ee.UNKNOWN})(P.status);d(new ce(C,P.message))}else d(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(Xt,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(s);fe(Xt,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",m,r,15)}))}T_(e,t,r){const s=_g(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Nb(),c=Rb(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");fe(Xt,`Creating RPC '${e}' stream ${s}: ${m}`,d);const v=l.createWebChannel(m,d);this.I_(v);let x=!1,E=!1;const P=new $3({Yo:b=>{E?fe(Xt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(x||(fe(Xt,`Opening RPC '${e}' stream ${s} transport.`),v.open(),x=!0),fe(Xt,`RPC '${e}' stream ${s} sending:`,b),v.send(b))},Zo:()=>v.close()}),C=(b,j,U)=>{b.listen(j,(B=>{try{U(B)}catch(H){setTimeout((()=>{throw H}),0)}}))};return C(v,nu.EventType.OPEN,(()=>{E||(fe(Xt,`RPC '${e}' stream ${s} transport opened.`),P.o_())})),C(v,nu.EventType.CLOSE,(()=>{E||(E=!0,fe(Xt,`RPC '${e}' stream ${s} transport closed`),P.a_(),this.E_(v))})),C(v,nu.EventType.ERROR,(b=>{E||(E=!0,Oa(Xt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),P.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),C(v,nu.EventType.MESSAGE,(b=>{if(!E){const j=b.data[0];Ke(!!j,16349);const U=j,B=U?.error||U[0]?.error;if(B){fe(Xt,`RPC '${e}' stream ${s} received error:`,B);const H=B.status;let W=(function(I){const R=_t[I];if(R!==void 0)return fI(R)})(H),G=B.message;W===void 0&&(W=ee.INTERNAL,G="Unknown error status: "+H+" with message "+B.message),E=!0,P.a_(new ce(W,G)),v.close()}else fe(Xt,`RPC '${e}' stream ${s} received:`,j),P.u_(j)}})),C(c,kb.STAT_EVENT,(b=>{b.stat===lg.PROXY?fe(Xt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===lg.NOPROXY&&fe(Xt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n){return new q4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="PersistentStream";class CI{constructor(e,t,r,s,a,l,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Es(t.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(y1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class z3 extends CI{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Q4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Pe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?Fr(l.readTime):Pe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=xg(this.serializer),t.addTarget=(function(a,l){let c;const d=l.target;if(c=fg(d)?{documents:J4(a,d)}:{query:Z4(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=gI(a,l.resumeToken);const p=gg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Pe.min())>0){c.readTime=yd(a,l.snapshotVersion.toTimestamp());const p=gg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=t3(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=xg(this.serializer),t.removeTarget=e,this.q_(t)}}class H3 extends CI{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=X4(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=xg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Y4(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{}class q3 extends W3{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,yg(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(ee.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,yg(t,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(ee.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class K3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class G3{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{_o(this)&&(fe(ho,"Restarting streams for network reachability change."),await(async function(d){const p=ke(d);p.Ea.add(4),await tc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await nf(p)})(this))}))})),this.Ra=new K3(r,s)}}async function nf(n){if(_o(n))for(const e of n.da)await e(!0)}async function tc(n){for(const e of n.da)await e(!1)}function PI(n,e){const t=ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qy(t)?Gy(t):Xa(t).O_()&&Ky(t,e))}function qy(n,e){const t=ke(n),r=Xa(t);t.Ia.delete(e),r.O_()&&kI(t,e),t.Ia.size===0&&(r.O_()?r.L_():_o(t)&&t.Ra.set("Unknown"))}function Ky(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xa(n).Y_(e)}function kI(n,e){n.Va.Ue(e),Xa(n).Z_(e)}function Gy(n){n.Va=new B4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Xa(n).start(),n.Ra.ua()}function Qy(n){return _o(n)&&!Xa(n).x_()&&n.Ia.size>0}function _o(n){return ke(n).Ea.size===0}function RI(n){n.Va=void 0}async function Q3(n){n.Ra.set("Online")}async function Y3(n){n.Ia.forEach(((e,t)=>{Ky(n,e)}))}async function X3(n,e){RI(n),Qy(n)?(n.Ra.ha(e),Gy(n)):n.Ra.set("Unknown")}async function J3(n,e,t){if(n.Ra.set("Online"),e instanceof mI&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(r){fe(ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xd(n,r)}else if(e instanceof qh?n.Va.Ze(e):e instanceof pI?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const r=await II(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(p);m&&a.Ia.set(p,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,p)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(qt.EMPTY_BYTE_STRING,m.snapshotVersion)),kI(a,d);const v=new ni(m.target,d,p,m.sequenceNumber);Ky(a,v)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){fe(ho,"Failed to raise snapshot:",r),await xd(n,r)}}async function xd(n,e,t){if(!Qa(e))throw e;n.Ea.add(1),await tc(n),n.Ra.set("Offline"),t||(t=()=>II(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe(ho,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await nf(n)}))}function NI(n,e){return e().catch((t=>xd(n,t,e)))}async function rf(n){const e=ke(n),t=pi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ny;for(;Z3(e);)try{const s=await M3(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,e5(e,s)}catch(s){await xd(e,s)}DI(e)&&MI(e)}function Z3(n){return _o(n)&&n.Ta.length<10}function e5(n,e){n.Ta.push(e);const t=pi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function DI(n){return _o(n)&&!pi(n).x_()&&n.Ta.length>0}function MI(n){pi(n).start()}async function t5(n){pi(n).ra()}async function n5(n){const e=pi(n);for(const t of n.Ta)e.ea(t.mutations)}async function r5(n,e,t){const r=n.Ta.shift(),s=Fy.from(r,e,t);await NI(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await rf(n)}async function s5(n,e){e&&pi(n).X_&&await(async function(r,s){if((function(l){return F4(l)&&l!==ee.ABORTED})(s.code)){const a=r.Ta.shift();pi(r).B_(),await NI(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await rf(r)}})(n,e),DI(n)&&MI(n)}async function v1(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),fe(ho,"RemoteStore received new credentials");const r=_o(t);t.Ea.add(3),await tc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await nf(t)}async function i5(n,e){const t=ke(n);e?(t.Ea.delete(2),await nf(t)):e||(t.Ea.add(2),await tc(t),t.Ra.set("Unknown"))}function Xa(n){return n.ma||(n.ma=(function(t,r,s){const a=ke(t);return a.sa(),new z3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:Q3.bind(null,n),t_:Y3.bind(null,n),r_:X3.bind(null,n),H_:J3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Qy(n)?Gy(n):n.Ra.set("Unknown")):(await n.ma.stop(),RI(n))}))),n.ma}function pi(n){return n.fa||(n.fa=(function(t,r,s){const a=ke(t);return a.sa(),new H3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:t5.bind(null,n),r_:s5.bind(null,n),ta:n5.bind(null,n),na:r5.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await rf(n)):(await n.fa.stop(),n.Ta.length>0&&(fe(ho,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new Yy(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(n,e){if(Es("AsyncQueue",`${e}: ${n}`),Qa(n))return new ce(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static emptySet(e){return new Ra(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=ru(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.ga=new ht(_e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ba{constructor(e,t,r,s,a,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Ba(e,t,Ra.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class a5{constructor(){this.queries=w1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=ke(t),a=s.queries;s.queries=w1(),a.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function w1(){return new wo((n=>eI(n)),Yd)}async function VI(n,e){const t=ke(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new o5,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=Xy(l,`Initialization of query '${wa(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Jy(t)}async function LI(n,e){const t=ke(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function l5(n,e){const t=ke(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&Jy(t)}function u5(n,e,t){const r=ke(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function Jy(n){n.Ca.forEach((e=>{e.next()}))}var Tg,_1;(_1=Tg||(Tg={})).Ma="default",_1.Cache="cache";class OI{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.key=e}}class FI{constructor(e){this.key=e}}class c5{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=tI(e),this.tu=new Ra(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new x1,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,v)=>{const x=s.get(m),E=Xd(this.query,v)?v:null,P=!!x&&this.mutatedKeys.has(x.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;x&&E?x.data.isEqual(E.data)?P!==C&&(r.track({type:3,doc:E}),b=!0):this.su(x,E)||(r.track({type:2,doc:E}),b=!0,(d&&this.eu(E,d)>0||p&&this.eu(E,p)<0)&&(c=!0)):!x&&E?(r.track({type:0,doc:E}),b=!0):x&&!E&&(r.track({type:1,doc:x}),b=!0,(d||p)&&(c=!0)),b&&(E?(l=l.add(E),a=C?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,v)=>(function(E,P){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:b})}};return C(E)-C(P)})(m.type,v.type)||this.eu(m.doc,v.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new Ba(this.query,e.tu,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new FI(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new jI(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ba.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zy="SyncEngine";class h5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class d5{constructor(e){this.key=e,this.hu=!1}}class f5{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new wo((c=>eI(c)),Yd),this.Iu=new Map,this.Eu=new Set,this.du=new ht(_e.comparator),this.Au=new Map,this.Ru=new By,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p5(n,e,t=!0){const r=WI(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await UI(r,e,t,!0),s}async function m5(n,e){const t=WI(n);await UI(t,e,!0,!1)}async function UI(n,e,t,r){const s=await V3(n.localStore,jr(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await g5(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&PI(n.remoteStore,s),c}async function g5(n,e,t,r,s){n.pu=(v,x,E)=>(async function(C,b,j,U){let B=b.view.ru(j);B.Cs&&(B=await f1(C.localStore,b.query,!1).then((({documents:k})=>b.view.ru(k,B))));const H=U&&U.targetChanges.get(b.targetId),W=U&&U.targetMismatches.get(b.targetId)!=null,G=b.view.applyChanges(B,C.isPrimaryClient,H,W);return E1(C,b.targetId,G.au),G.snapshot})(n,v,x,E);const a=await f1(n.localStore,e,!0),l=new c5(e,a.Qs),c=l.ru(a.documents),d=ec.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(c,n.isPrimaryClient,d);E1(n,t,p.au);const m=new h5(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function y5(n,e,t){const r=ke(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Yd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await wg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&qy(r.remoteStore,s.targetId),Eg(r,s.targetId)})).catch(Ga)):(Eg(r,s.targetId),await wg(r.localStore,s.targetId,!0))}async function v5(n,e){const t=ke(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qy(t.remoteStore,r.targetId))}async function x5(n,e,t){const r=I5(n);try{const s=await(function(l,c){const d=ke(l),p=rt.now(),m=c.reduce(((E,P)=>E.add(P.key)),je());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let P=Ss(),C=je();return d.Ns.getEntries(E,m).next((b=>{P=b,P.forEach(((j,U)=>{U.isValidDocument()||(C=C.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,P))).next((b=>{v=b;const j=[];for(const U of c){const B=M4(U,v.get(U.key).overlayedDocument);B!=null&&j.push(new wi(U.key,B,qb(B.value.mapValue),yr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,j,c)})).next((b=>{x=b;const j=b.applyToLocalDocumentSet(v,C);return d.documentOverlayCache.saveOverlays(E,b.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:rI(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new ht(Oe)),p=p.insert(c,d),l.Vu[l.currentUser.toKey()]=p})(r,s.batchId,t),await nc(r,s.changes),await rf(r.remoteStore)}catch(s){const a=Xy(s,"Failed to persist write");t.reject(a)}}async function $I(n,e){const t=ke(n);try{const r=await N3(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ke(l.hu,14607):s.removedDocuments.size>0&&(Ke(l.hu,42227),l.hu=!1))})),await nc(t,r,e)}catch(r){await Ga(r)}}function T1(n,e,t){const r=ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=ke(l);d.onlineState=c;let p=!1;d.queries.forEach(((m,v)=>{for(const x of v.Sa)x.va(c)&&(p=!0)})),p&&Jy(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w5(n,e,t){const r=ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new ht(_e.comparator);l=l.insert(a,en.newNoDocument(a,Pe.min()));const c=je().add(a),d=new ef(Pe.min(),new Map,new ht(Oe),l,c);await $I(r,d),r.du=r.du.remove(a),r.Au.delete(e),e0(r)}else await wg(r.localStore,e,!1).then((()=>Eg(r,e,t))).catch(Ga)}async function _5(n,e){const t=ke(n),r=e.batch.batchId;try{const s=await R3(t.localStore,e);zI(t,r,null),BI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await nc(t,s)}catch(s){await Ga(s)}}async function T5(n,e,t){const r=ke(n);try{const s=await(function(l,c){const d=ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next((v=>(Ke(v!==null,37113),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m))).next((()=>d.localDocuments.getDocuments(p,m)))}))})(r.localStore,e);zI(r,e,t),BI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await nc(r,s)}catch(s){await Ga(s)}}function BI(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function zI(n,e,t){const r=ke(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Eg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||HI(n,r)}))}function HI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(qy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),e0(n))}function E1(n,e,t){for(const r of t)r instanceof jI?(n.Ru.addReference(r.key,e),E5(n,r)):r instanceof FI?(fe(Zy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||HI(n,r.key)):be(19791,{wu:r})}function E5(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(fe(Zy,"New document in limbo: "+t),n.Eu.add(r),e0(n))}function e0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(Ze.fromString(e)),r=n.fu.next();n.Au.set(r,new d5(t)),n.du=n.du.insert(t,r),PI(n.remoteStore,new ni(jr(Oy(t.path)),r,"TargetPurposeLimboResolution",Kd.ce))}}async function nc(n,e,t){const r=ke(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const m=p?!p.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(p){s.push(p);const m=Hy.As(d.targetId,p);a.push(m)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(d,p){const m=ke(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>te.forEach(p,(x=>te.forEach(x.Es,(E=>m.persistence.referenceDelegate.addReference(v,x.targetId,E))).next((()=>te.forEach(x.ds,(E=>m.persistence.referenceDelegate.removeReference(v,x.targetId,E)))))))))}catch(v){if(!Qa(v))throw v;fe(Wy,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const E=m.Ms.get(x),P=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(P);m.Ms=m.Ms.insert(x,C)}}})(r.localStore,a))}async function S5(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){fe(Zy,"User change. New user:",e.toKey());const r=await bI(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new ce(ee.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nc(t,r.Ls)}}function b5(n,e){const t=ke(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let s=je();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const c=t.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function WI(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$I.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w5.bind(null,e),e.Pu.H_=l5.bind(null,e.eventManager),e.Pu.yu=u5.bind(null,e.eventManager),e}function I5(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T5.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return k3(this.persistence,new A3,e.initialUser,this.serializer)}Cu(e){return new SI(zy.mi,this.serializer)}Du(e){return new O3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class A5 extends wd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof vd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new d3(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new SI((r=>vd.mi(r,t)),this.serializer)}}class Sg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S5.bind(null,this.syncEngine),await i5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a5})()}createDatastore(e){const t=tf(e.databaseInfo.databaseId),r=(function(a){return new B3(a)})(e.databaseInfo);return(function(a,l,c,d){return new q3(a,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,c){return new G3(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>T1(this.syncEngine,t,0)),(function(){return g1.v()?new g1:new j3})())}createSyncEngine(e,t){return(function(s,a,l,c,d,p,m){const v=new f5(s,a,l,c,d,p);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ke(t);fe(ho,"RemoteStore shutting down."),r.Ea.add(5),await tc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sg.provider={build:()=>new Sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="FirestoreClient";class C5{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Zt.UNAUTHENTICATED,this.clientId=Ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{fe(mi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(fe(mi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wm(n,e){n.asyncQueue.verifyOperationInProgress(),fe(mi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await bI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function S1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await P5(n);fe(mi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>v1(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>v1(e.remoteStore,s))),n._onlineComponents=e}async function P5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(mi,"Using user provided OfflineComponentProvider");try{await wm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Oa("Error using user provided cache. Falling back to memory cache: "+t),await wm(n,new wd)}}else fe(mi,"Using default OfflineComponentProvider"),await wm(n,new A5(void 0));return n._offlineComponents}async function KI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(mi,"Using user provided OnlineComponentProvider"),await S1(n,n._uninitializedComponentsProvider._online)):(fe(mi,"Using default OnlineComponentProvider"),await S1(n,new Sg))),n._onlineComponents}function k5(n){return KI(n).then((e=>e.syncEngine))}async function GI(n){const e=await KI(n),t=e.eventManager;return t.onListen=p5.bind(null,e.syncEngine),t.onUnlisten=y5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=m5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=v5.bind(null,e.syncEngine),t}function R5(n,e,t={}){const r=new vs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,p){const m=new qI({next:x=>{m.Nu(),l.enqueueAndForget((()=>LI(a,v)));const E=x.docs.has(c);!E&&x.fromCache?p.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&d&&d.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new OI(Oy(c.path),m,{includeMetadataChanges:!0,qa:!0});return VI(a,v)})(await GI(n),n.asyncQueue,e,t,r))),r.promise}function N5(n,e,t={}){const r=new vs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,p){const m=new qI({next:x=>{m.Nu(),l.enqueueAndForget((()=>LI(a,v))),x.fromCache&&d.source==="server"?p.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new OI(c,m,{includeMetadataChanges:!0,qa:!0});return VI(a,v)})(await GI(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firestore.googleapis.com",I1=!0;class A1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YI,this.ssl=I1}else this.host=e.host,this.ssl=e.ssl??I1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c3)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jj;switch(r.type){case"firstParty":return new Bj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=b1.get(t);r&&(fe("ComponentProvider","Removing Datastore"),b1.delete(t),r.terminate())})(this),Promise.resolve()}}function D5(n,e,t,r={}){n=zr(n,sf);const s=yo(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(yy(`https://${c}`),vy("Firestore",!0)),a.host!==YI&&a.host!==c&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:s,emulatorOptions:r};if(!ui(d,l)&&(n._setSettings(d),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Zt.MOCK_USER;else{p=US(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zt(v)}n._authCredentials=new Fj(new Mb(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new To(this.firestore,e,this._query)}}class vt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ju(t,vt._jsonSchema))return new vt(e,r||null,new _e(Ze.fromString(t.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Et("string",vt._jsonSchemaVersion),referencePath:Et("string")};class oi extends To{constructor(e,t,r){super(e,t,Oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new _e(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function no(n,e,...t){if(n=bt(n),Vb("collection","path",e),n instanceof sf){const r=Ze.fromString(e,...t);return U_(r),new oi(n,null,r)}{if(!(n instanceof vt||n instanceof oi))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return U_(r),new oi(n.firestore,null,r)}}function gu(n,e,...t){if(n=bt(n),arguments.length===1&&(e=Ry.newId()),Vb("doc","path",e),n instanceof sf){const r=Ze.fromString(e,...t);return F_(r),new vt(n,null,new _e(r))}{if(!(n instanceof vt||n instanceof oi))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return F_(r),new vt(n.firestore,n instanceof oi?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="AsyncQueue";class P1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AI(this,"async_queue_retry"),this._c=()=>{const r=xm();r&&fe(C1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qa(e))throw e;fe(C1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",k1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Yy.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&be(47125,{Pc:k1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function k1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ja extends sf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new P1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P1(e),this._firestoreClient=void 0,await e}}}function M5(n,e){const t=typeof n=="object"?n:Bd(),r=typeof n=="string"?n:dd,s=vi(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=OS("firestore");a&&D5(s,...a)}return s}function t0(n){if(n._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V5(n),n._firestoreClient}function V5(n){const e=n._freezeSettings(),t=(function(s,a,l,c){return new i4(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new C5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(qt.fromBase64String(e))}catch(t){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ju(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Et("string",qn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ur._jsonSchemaVersion}}static fromJSON(e){if(Ju(e,Ur._jsonSchema))return new Ur(e.latitude,e.longitude)}}Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:Et("string",Ur._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ju(e,$r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new $r(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:Et("string",$r._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^__.*__$/;class O5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new wi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zu(e,this.data,t,this.fieldTransforms)}}class XI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:n})}}class r0{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new r0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _d(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JI(this.Ac)&&L5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class j5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tf(e)}Cc(e,t,r,s=!1){return new r0({Ac:e,methodName:t,Dc:r,path:Wt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(n){const e=n._freezeSettings(),t=tf(n._databaseId);return new j5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZI(n,e,t,r,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);s0("Data must be an object, but it was:",l,r);const c=eA(r,l);let d,p;if(a.merge)d=new Pn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const x=bg(e,v,t);if(!l.contains(x))throw new ce(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);nA(m,x)||m.push(x)}d=new Pn(m),p=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=l.fieldTransforms;return new O5(new vn(c),d,p)}class lf extends n0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function F5(n,e,t,r){const s=n.Cc(1,e,t);s0("Data must be an object, but it was:",s,r);const a=[],l=vn.empty();xi(r,((d,p)=>{const m=i0(e,d,t);p=bt(p);const v=s.yc(m);if(p instanceof lf)a.push(m);else{const x=rc(p,v);x!=null&&(a.push(m),l.set(m,x))}}));const c=new Pn(a);return new XI(l,c,s.fieldTransforms)}function U5(n,e,t,r,s,a){const l=n.Cc(1,e,t),c=[bg(e,r,t)],d=[s];if(a.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)c.push(bg(e,a[x])),d.push(a[x+1]);const p=[],m=vn.empty();for(let x=c.length-1;x>=0;--x)if(!nA(p,c[x])){const E=c[x];let P=d[x];P=bt(P);const C=l.yc(E);if(P instanceof lf)p.push(E);else{const b=rc(P,C);b!=null&&(p.push(E),m.set(E,b))}}const v=new Pn(p);return new XI(m,v,l.fieldTransforms)}function $5(n,e,t,r=!1){return rc(t,n.Cc(r?4:3,e))}function rc(n,e){if(tA(n=bt(n)))return s0("Unsupported field value:",e,n),eA(n,e);if(n instanceof n0)return(function(r,s){if(!JI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const c of r){let d=rc(c,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rt.fromDate(r);return{timestampValue:yd(s.serializer,a)}}if(r instanceof rt){const a=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(s.serializer,a)}}if(r instanceof Ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:gI(s.serializer,r._byteString)};if(r instanceof vt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$y(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $r)return(function(l,c){return{mapValue:{fields:{[Hb]:{stringValue:Wb},[fd]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw c.Sc("VectorValues must only contain numeric values.");return jy(c.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${qd(r)}`)})(n,e)}function eA(n,e){const t={};return jb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(n,((r,s)=>{const a=rc(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function tA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof Ur||n instanceof qn||n instanceof vt||n instanceof n0||n instanceof $r)}function s0(n,e,t){if(!tA(t)||!Lb(t)){const r=qd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function bg(n,e,t){if((e=bt(e))instanceof of)return e._internalPath;if(typeof e=="string")return i0(n,e);throw _d("Field path arguments must be of type string or ",n,!1,void 0,t)}const B5=new RegExp("[~\\*/\\[\\]]");function i0(n,e,t){if(e.search(B5)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new of(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _d(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ce(ee.INVALID_ARGUMENT,c+n+d)}function nA(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class z5 extends rA{data(){return super.data()}}function uf(n,e){return typeof e=="string"?i0(n,e):e instanceof of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o0{}class sA extends o0{}function R1(n,e,...t){let r=[];e instanceof o0&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((d=>d instanceof a0)).length,c=a.filter((d=>d instanceof cf)).length;if(l>1||l>0&&c>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class cf extends sA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cf(e,t,r)}_apply(e){const t=this._parse(e);return iA(e._query,t),new To(e.firestore,e.converter,pg(e._query,t))}_parse(e){const t=af(e.firestore);return(function(a,l,c,d,p,m,v){let x;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){V1(v,m);const P=[];for(const C of v)P.push(M1(d,a,C));x={arrayValue:{values:P}}}else x=M1(d,a,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||V1(v,m),x=$5(c,l,v,m==="in"||m==="not-in");return Tt.create(p,m,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function N1(n,e,t){const r=e,s=uf("where",n);return cf._create(s,r,t)}class a0 extends o0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new a0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const d of c)iA(l,d),l=pg(l,d)})(e._query,t),new To(e.firestore,e.converter,pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l0 extends sA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new l0(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nu(a,l)})(e._query,this._field,this._direction);return new To(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Ya(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function D1(n,e="asc"){const t=e,r=uf("orderBy",n);return l0._create(r,t)}function M1(n,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zb(e)&&t.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ze.fromString(t));if(!_e.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G_(n,new _e(r))}if(t instanceof vt)return G_(n,t._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(t)}.`)}function V1(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iA(n,e){const t=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class W5{convertValue(e,t="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xi(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[fd].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new $r(t)}convertGeoPoint(e){return new Ur(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=hi(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);Ke(TI(r),9688,{name:e});const s=new ku(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(t)||Es(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends rA{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Et("string",lo._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Kh extends lo{data(e={}){return super.data(e)}}class Na{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new iu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Kh(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new Kh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new iu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Kh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new iu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:q5(c.type),doc:d,oldIndex:p,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(n){n=zr(n,vt);const e=zr(n.firestore,Ja);return R5(t0(e),n._key).then((t=>Q5(e,n,t)))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Et("string",Na._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class aA extends W5{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function L1(n){n=zr(n,To);const e=zr(n.firestore,Ja),t=t0(e),r=new aA(e);return H5(n._query),N5(t,n._query).then((s=>new Na(e,r,n,s)))}function G5(n,e,t){n=zr(n,vt);const r=zr(n.firestore,Ja),s=oA(n.converter,e);return u0(r,[ZI(af(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,yr.none())])}function lA(n,e,t,...r){n=zr(n,vt);const s=zr(n.firestore,Ja),a=af(s);let l;return l=typeof(e=bt(e))=="string"||e instanceof of?U5(a,"updateDoc",n._key,e,t,r):F5(a,"updateDoc",n._key,e),u0(s,[l.toMutation(n._key,yr.exists(!0))])}function Vu(n,e){const t=zr(n.firestore,Ja),r=gu(n),s=oA(n.converter,e);return u0(t,[ZI(af(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then((()=>r))}function u0(n,e){return(function(r,s){const a=new vs;return r.asyncQueue.enqueueAndForget((async()=>x5(await k5(r),s,a))),a.promise})(t0(n),e)}function Q5(n,e,t){const r=t.docs.get(e._key),s=new aA(n);return new lo(n,s,e._key,r,new iu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Ka=s})(xo),vr(new Kn("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Ja(new Uj(r.getProvider("auth-internal")),new zj(l,r.getProvider("app-check-internal")),(function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(p.options.projectId,m)})(l,s),l);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),xn(V_,L_,e),xn(V_,L_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebasestorage.googleapis.com",Y5="storageBucket",X5=120*1e3,J5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Qn{constructor(e,t,r=0){super(_m(e),`Firebase Storage: ${t} (${_m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wr||(Wr={}));function _m(n){return"storage/"+n}function Z5(){const n="An unknown error occurred, please check the error payload for server response.";return new qr(Wr.UNKNOWN,n)}function e6(){return new qr(Wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t6(){return new qr(Wr.CANCELED,"User canceled the upload/download.")}function n6(n){return new qr(Wr.INVALID_URL,"Invalid URL '"+n+"'.")}function r6(n){return new qr(Wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function O1(n){return new qr(Wr.INVALID_ARGUMENT,n)}function cA(){return new qr(Wr.APP_DELETED,"The Firebase app was deleted.")}function s6(n){return new qr(Wr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=fr.makeFromUrl(e,t)}catch{return new fr(e,"")}if(r.path==="")return r;throw r6(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const m="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${m}/b/${s}/o${x}`,"i"),P={bucket:1,path:3},C=t===uA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",j=new RegExp(`^https?://${C}/${s}/${b}`,"i"),B=[{regex:c,indices:d,postModify:a},{regex:E,indices:P,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<B.length;H++){const W=B[H],G=W.regex.exec(e);if(G){const k=G[W.indices.bucket];let I=G[W.indices.path];I||(I=""),r=new fr(k,I),W.postModify(r);break}}if(r==null)throw n6(e);return r}}class i6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(n,e,t){let r=1,s=null,a=null,l=!1,c=0;function d(){return c===2}let p=!1;function m(...b){p||(p=!0,e.apply(null,b))}function v(b){s=setTimeout(()=>{s=null,n(E,d())},b)}function x(){a&&clearTimeout(a)}function E(b,...j){if(p){x();return}if(b){x(),m.call(null,b,...j);return}if(d()||l){x(),m.call(null,b,...j);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,v(B)}let P=!1;function C(b){P||(P=!0,x(),!p&&(s!==null?(b||(c=2),clearTimeout(s),v(0)):b||(c=1)))}return v(0),a=setTimeout(()=>{l=!0,C(!0)},t),C}function a6(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n){return n!==void 0}function j1(n,e,t,r){if(r<e)throw O1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw O1(`Invalid value for '${n}'. Expected ${t} or less.`)}function u6(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Td;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Td||(Td={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t,r,s,a,l,c,d,p,m,v,x=!0,E=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,C)=>{this.resolve_=P,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Rh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Td.NO_ERROR,d=a.getStatus();if(!c||c6(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Td.ABORT;r(!1,new Rh(!1,null,m));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Rh(p,a))})},t=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());l6(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=Z5();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?cA():t6();l(d)}else{const d=e6();l(d)}};this.canceled_?t(!1,new Rh(!1,null,!0)):this.backoffId_=o6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function d6(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function f6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p6(n,e){e&&(n["X-Firebase-GMPID"]=e)}function m6(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function g6(n,e,t,r,s,a,l=!0,c=!1){const d=u6(n.urlParams),p=n.url+d,m=Object.assign({},n.headers);return p6(m,e),d6(m,t),f6(m,a),m6(m,r),new h6(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function v6(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this._service=e,t instanceof fr?this._location=t:this._location=fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ed(e,t)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v6(this._location.path)}get storage(){return this._service}get parent(){const e=y6(this._location.path);if(e===null)return null;const t=new fr(this._location.bucket,e);return new Ed(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw s6(e)}}function F1(n,e){const t=e?.[Y5];return t==null?null:fr.makeFromBucketSpec(t,n)}function x6(n,e,t,r={}){n.host=`${e}:${t}`;const s=yo(e);s&&(yy(`https://${n.host}/b`),vy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:US(a,n.app.options.projectId))}class w6{constructor(e,t,r,s,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=uA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=X5,this._maxUploadRetryTime=J5,this._requests=new Set,s!=null?this._bucket=fr.makeFromBucketSpec(s,this._host):this._bucket=F1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=F1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ed(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new i6(cA());{const l=g6(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const U1="@firebase/storage",$1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="storage";function _6(n=Bd(),e){n=bt(n);const r=vi(n,hA).getImmediate({identifier:e}),s=OS("storage");return s&&T6(r,...s),r}function T6(n,e,t,r={}){x6(n,e,t,r)}function E6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new w6(t,r,s,e,xo)}function S6(){vr(new Kn(hA,E6,"PUBLIC").setMultipleInstances(!0)),xn(U1,$1,""),xn(U1,$1,"esm2020")}S6();const dA="@firebase/installations",c0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=1e4,pA=`w:${c0}`,mA="FIS_v2",b6="https://firebaseinstallations.googleapis.com/v1",I6=3600*1e3,A6="installations",C6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fo=new vo(A6,C6,P6);function gA(n){return n instanceof Qn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA({projectId:n}){return`${b6}/projects/${n}/installations`}function vA(n){return{token:n.token,requestStatus:2,expiresIn:R6(n.expiresIn),creationTime:Date.now()}}async function xA(n,e){const r=(await e.json()).error;return fo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function wA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function k6(n,{refreshToken:e}){const t=wA(n);return t.append("Authorization",N6(e)),t}async function _A(n){const e=await n();return e.status>=500&&e.status<600?n():e}function R6(n){return Number(n.replace("s","000"))}function N6(n){return`${mA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=yA(n),s=wA(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:t,authVersion:mA,appId:n.appId,sdkVersion:pA},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await _A(()=>fetch(r,c));if(d.ok){const p=await d.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:vA(p.authToken)}}else throw await xA("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=/^[cdef][\w-]{21}$/,Ig="";function L6(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=O6(n);return V6.test(t)?t:Ig}catch{return Ig}}function O6(n){return M6(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;function SA(n,e){const t=hf(n);bA(t,e),j6(t,e)}function bA(n,e){const t=EA.get(n);if(t)for(const r of t)r(e)}function j6(n,e){const t=F6();t&&t.postMessage({key:n,fid:e}),U6()}let ro=null;function F6(){return!ro&&"BroadcastChannel"in self&&(ro=new BroadcastChannel("[Firebase] FID Change"),ro.onmessage=n=>{bA(n.data.key,n.data.fid)}),ro}function U6(){EA.size===0&&ro&&(ro.close(),ro=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="firebase-installations-database",B6=1,po="firebase-installations-store";let Tm=null;function h0(){return Tm||(Tm=qS($6,B6,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(po)}}})),Tm}async function Sd(n,e){const t=hf(n),s=(await h0()).transaction(po,"readwrite"),a=s.objectStore(po),l=await a.get(t);return await a.put(e,t),await s.done,(!l||l.fid!==e.fid)&&SA(n,e.fid),e}async function IA(n){const e=hf(n),r=(await h0()).transaction(po,"readwrite");await r.objectStore(po).delete(e),await r.done}async function df(n,e){const t=hf(n),s=(await h0()).transaction(po,"readwrite"),a=s.objectStore(po),l=await a.get(t),c=e(l);return c===void 0?await a.delete(t):await a.put(c,t),await s.done,c&&(!l||l.fid!==c.fid)&&SA(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(n){let e;const t=await df(n.appConfig,r=>{const s=z6(r),a=H6(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===Ig?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function z6(n){const e=n||{fid:L6(),registrationStatus:0};return AA(e)}function H6(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(fo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=W6(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:q6(n)}:{installationEntry:e}}async function W6(n,e){try{const t=await D6(n,e);return Sd(n.appConfig,t)}catch(t){throw gA(t)&&t.customData.serverCode===409?await IA(n.appConfig):await Sd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function q6(n){let e=await B1(n.appConfig);for(;e.registrationStatus===1;)await TA(100),e=await B1(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await d0(n);return r||t}return e}function B1(n){return df(n,e=>{if(!e)throw fo.create("installation-not-found");return AA(e)})}function AA(n){return K6(n)?{fid:n.fid,registrationStatus:0}:n}function K6(n){return n.registrationStatus===1&&n.registrationTime+fA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6({appConfig:n,heartbeatServiceProvider:e},t){const r=Q6(n,t),s=k6(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:pA,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await _A(()=>fetch(r,c));if(d.ok){const p=await d.json();return vA(p)}else throw await xA("Generate Auth Token",d)}function Q6(n,{fid:e}){return`${yA(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f0(n,e=!1){let t;const r=await df(n.appConfig,a=>{if(!CA(a))throw fo.create("not-registered");const l=a.authToken;if(!e&&J6(l))return a;if(l.requestStatus===1)return t=Y6(n,e),a;{if(!navigator.onLine)throw fo.create("app-offline");const c=eF(a);return t=X6(n,c),c}});return t?await t:r.authToken}async function Y6(n,e){let t=await z1(n.appConfig);for(;t.authToken.requestStatus===1;)await TA(100),t=await z1(n.appConfig);const r=t.authToken;return r.requestStatus===0?f0(n,e):r}function z1(n){return df(n,e=>{if(!CA(e))throw fo.create("not-registered");const t=e.authToken;return tF(t)?{...e,authToken:{requestStatus:0}}:e})}async function X6(n,e){try{const t=await G6(n,e),r={...e,authToken:t};return await Sd(n.appConfig,r),t}catch(t){if(gA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await IA(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Sd(n.appConfig,r)}throw t}}function CA(n){return n!==void 0&&n.registrationStatus===2}function J6(n){return n.requestStatus===2&&!Z6(n)}function Z6(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+I6}function eF(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function tF(n){return n.requestStatus===1&&n.requestTime+fA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(n){const e=n,{installationEntry:t,registrationPromise:r}=await d0(e);return r?r.catch(console.error):f0(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(n,e=!1){const t=n;return await sF(t),(await f0(t,e)).token}async function sF(n){const{registrationPromise:e}=await d0(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(n){if(!n||!n.options)throw Em("App Configuration");if(!n.name)throw Em("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Em(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Em(n){return fo.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="installations",oF="installations-internal",aF=n=>{const e=n.getProvider("app").getImmediate(),t=iF(e),r=vi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},lF=n=>{const e=n.getProvider("app").getImmediate(),t=vi(e,PA).getImmediate();return{getId:()=>nF(t),getToken:s=>rF(t,s)}};function uF(){vr(new Kn(PA,aF,"PUBLIC")),vr(new Kn(oF,lF,"PRIVATE"))}uF();xn(dA,c0);xn(dA,c0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="analytics",cF="firebase_id",hF="origin",dF=60*1e3,fF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",p0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new $d("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new vo("analytics","Analytics",pF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(n){if(!n.startsWith(p0)){const e=Rn.create("invalid-gtag-resource",{gtagURL:n});return wn.warn(e.message),""}return n}function kA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function gF(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function yF(n,e){const t=gF("firebase-js-sdk-policy",{createScriptURL:mF}),r=document.createElement("script"),s=`${p0}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function vF(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function xF(n,e,t,r,s,a){const l=r[s];try{if(l)await e[l];else{const d=(await kA(t)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(c){wn.error(c)}n("config",s,a)}async function wF(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await kA(t);for(const d of l){const p=c.find(v=>v.measurementId===d),m=p&&e[p.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){wn.error(a)}}function _F(n,e,t,r){async function s(a,...l){try{if(a==="event"){const[c,d]=l;await wF(n,e,t,c,d)}else if(a==="config"){const[c,d]=l;await xF(n,e,t,r,c,d)}else if(a==="consent"){const[c,d]=l;n("consent",c,d)}else if(a==="get"){const[c,d,p]=l;n("get",c,d,p)}else if(a==="set"){const[c]=l;n("set",c)}else n(a,...l)}catch(c){wn.error(c)}}return s}function TF(n,e,t,r,s){let a=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=_F(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function EF(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(p0)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=30,bF=1e3;class IF{constructor(e={},t=bF){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const RA=new IF;function AF(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function CF(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:AF(t)},s=fF.replace("{app-id}",e),a=await fetch(s,r);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();c.error?.message&&(l=c.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function PF(n,e=RA,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw Rn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw Rn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new NF;return setTimeout(async()=>{c.abort()},dF),NA({appId:r,apiKey:s,measurementId:a},l,c,e)}async function NA(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=RA){const{appId:a,measurementId:l}=n;try{await kF(r,e)}catch(c){if(l)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:l};throw c}try{const c=await CF(n);return s.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!RF(d)){if(s.deleteThrottleMetadata(a),l)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:l};throw c}const p=Number(d?.customData?.httpStatus)===503?l_(t,s.intervalMillis,SF):l_(t,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return s.setThrottleMetadata(a,m),wn.debug(`Calling attemptFetch again in ${p} millis`),NA(n,m,r,s)}}function kF(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RF(n){if(!(n instanceof Qn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class NF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DF(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,l={...r,send_to:a};n("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(){if(BS())try{await zS()}catch(n){return wn.warn(Rn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return wn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VF(n,e,t,r,s,a,l){const c=PF(n);c.then(x=>{t[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>wn.error(x)),e.push(c);const d=MF().then(x=>{if(x)return r.getId()}),[p,m]=await Promise.all([c,d]);EF(a)||yF(a,p.measurementId),s("js",new Date);const v=l?.config??{};return v[hF]="firebase",v.update=!0,m!=null&&(v[cF]=m),s("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.app=e}_delete(){return delete yu[this.app.options.appId],Promise.resolve()}}let yu={},H1=[];const W1={};let Sm="dataLayer",OF="gtag",q1,DA,K1=!1;function jF(){const n=[];if($S()&&n.push("This is a browser extension environment."),yV()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Rn.create("invalid-analytics-context",{errorInfo:e});wn.warn(t.message)}}function FF(n,e,t){jF();const r=n.options.appId;if(!r)throw Rn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(yu[r]!=null)throw Rn.create("already-exists",{id:r});if(!K1){vF(Sm);const{wrappedGtag:a,gtagCore:l}=TF(yu,H1,W1,Sm,OF);DA=a,q1=l,K1=!0}return yu[r]=VF(n,H1,W1,e,q1,Sm,t),new LF(n)}function UF(n=Bd()){n=bt(n);const e=vi(n,bd);return e.isInitialized()?e.getImmediate():$F(n)}function $F(n,e={}){const t=vi(n,bd);if(t.isInitialized()){const s=t.getImmediate();if(ui(e,t.getOptions()))return s;throw Rn.create("already-initialized")}return t.initialize({options:e})}function BF(n,e,t,r){n=bt(n),DF(DA,yu[n.app.options.appId],e,t,r).catch(s=>wn.error(s))}const G1="@firebase/analytics",Q1="0.10.18";function zF(){vr(new Kn(bd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return FF(r,s,t)},"PUBLIC")),vr(new Kn("analytics-internal",n,"PRIVATE")),xn(G1,Q1),xn(G1,Q1,"esm2020");function n(e){try{const t=e.getProvider(bd).getImmediate();return{logEvent:(r,s,a)=>BF(t,r,s,a)}}catch(t){throw Rn.create("interop-component-reg-failed",{reason:t})}}}zF();const HF={apiKey:"AIzaSyBcnEjKk3lK3-YFUHhB3JRX6PNGea5huiQ",authDomain:"aurevo-8c2db.firebaseapp.com",projectId:"aurevo-8c2db",storageBucket:"aurevo-8c2db.firebasestorage.app",messagingSenderId:"1091175155468",appId:"1:1091175155468:web:9c72b2dde04599b3f36b29",measurementId:"G-Z1SYTYN2YH"},ff=KS(HF),pf=Mj(ff),pr=M5(ff);_6(ff);typeof window<"u"&&UF(ff);const m0=new ds;m0.addScope("https://www.googleapis.com/auth/drive.file");m0.addScope("https://www.googleapis.com/auth/photoslibrary.readonly");const WF=new fs,mr={USERS:"users",MOOD_LOGS:"moodLogs",JOURNAL_ENTRIES:"journalEntries",WELLNESS_DATA:"wellnessData",TASKS:"tasks",GOALS:"goals",STUDY_SESSIONS:"studySessions",FLASHCARDS:"flashcards",STREAK_DATA:"streakData",NOTIFICATIONS:"notifications",USER_PROGRESS:"userProgress"},qF={},Y1=n=>{let e;const t=new Set,r=(m,v)=>{const x=typeof m=="function"?m(e):m;if(!Object.is(x,e)){const E=e;e=v??(typeof x!="object"||x===null)?x:Object.assign({},e,x),t.forEach(P=>P(e,E))}},s=()=>e,d={setState:r,getState:s,getInitialState:()=>p,subscribe:m=>(t.add(m),()=>t.delete(m)),destroy:()=>{(qF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},p=e=n(r,s,d);return d},KF=n=>n?Y1(n):Y1;var bm={exports:{}},Im={},Am={exports:{}},Cm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function GF(){if(X1)return Cm;X1=1;var n=Fu();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function c(v,x){var E=x(),P=r({inst:{value:E,getSnapshot:x}}),C=P[0].inst,b=P[1];return a(function(){C.value=E,C.getSnapshot=x,d(C)&&b({inst:C})},[v,E,x]),s(function(){return d(C)&&b({inst:C}),v(function(){d(C)&&b({inst:C})})},[v]),l(E),E}function d(v){var x=v.getSnapshot;v=v.value;try{var E=x();return!t(v,E)}catch{return!0}}function p(v,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return Cm.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,Cm}var J1;function QF(){return J1||(J1=1,Am.exports=GF()),Am.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function YF(){if(Z1)return Im;Z1=1;var n=Fu(),e=QF();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Im.useSyncExternalStoreWithSelector=function(p,m,v,x,E){var P=a(null);if(P.current===null){var C={hasValue:!1,value:null};P.current=C}else C=P.current;P=c(function(){function j(G){if(!U){if(U=!0,B=G,G=x(G),E!==void 0&&C.hasValue){var k=C.value;if(E(k,G))return H=k}return H=G}if(k=H,r(B,G))return k;var I=x(G);return E!==void 0&&E(k,I)?(B=G,k):(B=G,H=I)}var U=!1,B,H,W=v===void 0?null:v;return[function(){return j(m())},W===null?void 0:function(){return j(W())}]},[m,v,x,E]);var b=s(p,P[0],P[1]);return l(function(){C.hasValue=!0,C.value=b},[b]),d(b),b},Im}var eT;function XF(){return eT||(eT=1,bm.exports=YF()),bm.exports}var JF=XF();const ZF=bT(JF),MA={},{useDebugValue:eU}=Cg,{useSyncExternalStoreWithSelector:tU}=ZF;let tT=!1;const nU=n=>n;function rU(n,e=nU,t){(MA?"production":void 0)!=="production"&&t&&!tT&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),tT=!0);const r=tU(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return eU(r),r}const nT=n=>{(MA?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?KF(n):n,t=(r,s)=>rU(e,r,s);return Object.assign(t,e),t},mf=n=>n?nT(n):nT,sU={},iU=n=>(e,t,r)=>{const s=r.subscribe;return r.subscribe=(l,c,d)=>{let p=l;if(c){const m=d?.equalityFn||Object.is;let v=l(r.getState());p=x=>{const E=l(x);if(!m(v,E)){const P=v;c(v=E,P)}},d?.fireImmediately&&c(v,v)}return s(p)},n(e,t,r)},oU=iU;function aU(n,e){let t;try{t=n()}catch{return}return{getItem:s=>{var a;const l=d=>d===null?null:JSON.parse(d,void 0),c=(a=t.getItem(s))!=null?a:null;return c instanceof Promise?c.then(l):l(c)},setItem:(s,a)=>t.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>t.removeItem(s)}}const Lu=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Lu(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Lu(r)(t)}}}},lU=(n,e)=>(t,r,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,j)=>({...j,...b}),...e},l=!1;const c=new Set,d=new Set;let p;try{p=a.getStorage()}catch{}if(!p)return n((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...b)},r,s);const m=Lu(a.serialize),v=()=>{const b=a.partialize({...r()});let j;const U=m({state:b,version:a.version}).then(B=>p.setItem(a.name,B)).catch(B=>{j=B});if(j)throw j;return U},x=s.setState;s.setState=(b,j)=>{x(b,j),v()};const E=n((...b)=>{t(...b),v()},r,s);let P;const C=()=>{var b;if(!p)return;l=!1,c.forEach(U=>U(r()));const j=((b=a.onRehydrateStorage)==null?void 0:b.call(a,r()))||void 0;return Lu(p.getItem.bind(p))(a.name).then(U=>{if(U)return a.deserialize(U)}).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==a.version){if(a.migrate)return a.migrate(U.state,U.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return U.state}).then(U=>{var B;return P=a.merge(U,(B=r())!=null?B:E),t(P,!0),v()}).then(()=>{j?.(P,void 0),l=!0,d.forEach(U=>U(P))}).catch(U=>{j?.(void 0,U)})};return s.persist={setOptions:b=>{a={...a,...b},b.getStorage&&(p=b.getStorage())},clearStorage:()=>{p?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>C(),hasHydrated:()=>l,onHydrate:b=>(c.add(b),()=>{c.delete(b)}),onFinishHydration:b=>(d.add(b),()=>{d.delete(b)})},C(),P||E},uU=(n,e)=>(t,r,s)=>{let a={storage:aU(()=>localStorage),partialize:C=>C,version:0,merge:(C,b)=>({...b,...C}),...e},l=!1;const c=new Set,d=new Set;let p=a.storage;if(!p)return n((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...C)},r,s);const m=()=>{const C=a.partialize({...r()});return p.setItem(a.name,{state:C,version:a.version})},v=s.setState;s.setState=(C,b)=>{v(C,b),m()};const x=n((...C)=>{t(...C),m()},r,s);s.getInitialState=()=>x;let E;const P=()=>{var C,b;if(!p)return;l=!1,c.forEach(U=>{var B;return U((B=r())!=null?B:x)});const j=((b=a.onRehydrateStorage)==null?void 0:b.call(a,(C=r())!=null?C:x))||void 0;return Lu(p.getItem.bind(p))(a.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==a.version){if(a.migrate)return[!0,a.migrate(U.state,U.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var B;const[H,W]=U;if(E=a.merge(W,(B=r())!=null?B:x),t(E,!0),H)return m()}).then(()=>{j?.(E,void 0),E=r(),l=!0,d.forEach(U=>U(E))}).catch(U=>{j?.(void 0,U)})};return s.persist={setOptions:C=>{a={...a,...C},C.storage&&(p=C.storage)},clearStorage:()=>{p?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>P(),hasHydrated:()=>l,onHydrate:C=>(c.add(C),()=>{c.delete(C)}),onFinishHydration:C=>(d.add(C),()=>{d.delete(C)})},a.skipHydration||P(),E||x},cU=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((sU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),lU(n,e)):uU(n,e),hU=cU,et=mf(oU(hU((n,e)=>({user:null,userProfile:null,isLoading:!1,language:"en",darkMode:!1,notifications:!0,xp:0,level:1,shinePoints:0,streaks:{mood:0,water:0,study:0,exercise:0},unlockedAvatars:[],currentAvatar:"default",setUser:t=>n({user:t}),setUserProfile:t=>n({userProfile}),setLoading:t=>n({isLoading:t}),setLanguage:t=>n({language:t}),toggleDarkMode:()=>n(t=>({darkMode:!t.darkMode})),toggleNotifications:()=>n(t=>({notifications:!t.notifications})),addXP:t=>n(r=>{const s=r.xp+t,a=Math.floor(s/1e3)+1;return{xp:s,level:a}}),addShinePoints:t=>n(r=>({shinePoints:r.shinePoints+t})),updateStreak:(t,r)=>n(s=>({streaks:{...s.streaks,[t]:r}})),unlockAvatar:t=>n(r=>({unlockedAvatars:[...r.unlockedAvatars,t]})),setCurrentAvatar:t=>n({currentAvatar:t}),initializeUserProfile:async t=>{try{const r=await K5(gu(pr,mr.USERS,t));if(r.exists()){const s=r.data();return n({userProfile:s}),s}else{const s={userId:t,createdAt:new Date,settings:{language:"en",darkMode:!1,notifications:!0},gamification:{xp:0,level:1,shinePoints:0,streaks:{mood:0,water:0,study:0,exercise:0},unlockedAvatars:["default"],currentAvatar:"default"}};return await G5(gu(pr,mr.USERS,t),s),n({userProfile:s}),s}}catch(r){return console.error("Error initializing user profile:",r),null}},syncProfile:async()=>{const{user:t,userProfile:r,xp:s,level:a,shinePoints:l,streaks:c,currentAvatar:d}=e();if(!(!t||!r))try{await lA(gu(pr,mr.USERS,t.uid),{"gamification.xp":s,"gamification.level":a,"gamification.shinePoints":l,"gamification.streaks":c,"gamification.currentAvatar":d,lastUpdated:new Date})}catch(p){console.error("Error syncing profile:",p)}}}),{name:"aurevo-app-store",partialize:n=>({language:n.language,darkMode:n.darkMode,notifications:n.notifications})}))),dU=mf((n,e)=>({moodLogs:[],journalEntries:[],currentMood:null,setCurrentMood:t=>n({currentMood:t}),logMood:async t=>{const{user:r}=et.getState();if(r)try{const s={userId:r.uid,mood:t.mood,intensity:t.intensity,notes:t.notes||"",timestamp:new Date,tags:t.tags||[]};await Vu(no(pr,mr.MOOD_LOGS),s),n(a=>({moodLogs:[s,...a.moodLogs]})),et.getState().addXP(10)}catch(s){console.error("Error logging mood:",s)}},addJournalEntry:async t=>{const{user:r}=et.getState();if(r)try{const s={userId:r.uid,content:t.content,mood:t.mood,timestamp:new Date,isEncrypted:t.isEncrypted||!1,tags:t.tags||[]};await Vu(no(pr,mr.JOURNAL_ENTRIES),s),n(a=>({journalEntries:[s,...a.journalEntries]})),et.getState().addXP(20)}catch(s){console.error("Error adding journal entry:",s)}},loadMoodData:async()=>{const{user:t}=et.getState();if(t)try{const r=R1(no(pr,mr.MOOD_LOGS),N1("userId","==",t.uid),D1("timestamp","desc")),s=R1(no(pr,mr.JOURNAL_ENTRIES),N1("userId","==",t.uid),D1("timestamp","desc")),[a,l]=await Promise.all([L1(r),L1(s)]),c=a.docs.map(p=>({id:p.id,...p.data()})),d=l.docs.map(p=>({id:p.id,...p.data()}));n({moodLogs:c,journalEntries:d})}catch(r){console.error("Error loading mood data:",r)}}})),gf=mf((n,e)=>({waterIntake:0,dailyWaterGoal:2e3,calories:0,steps:0,sleepHours:0,updateWaterIntake:t=>{n(r=>{const s=Math.max(0,r.waterIntake+t);return s>=r.dailyWaterGoal&&r.waterIntake<r.dailyWaterGoal&&et.getState().addXP(50),{waterIntake:s}})},updateCalories:t=>n({calories:t}),updateSteps:t=>n({steps:t}),updateSleep:t=>n({sleepHours:t}),resetDailyData:()=>n({waterIntake:0,calories:0,steps:0,sleepHours:0}),saveWellnessData:async()=>{const{user:t}=et.getState(),{waterIntake:r,calories:s,steps:a,sleepHours:l}=e();if(t)try{const c={userId:t.uid,date:new Date().toDateString(),waterIntake:r,calories:s,steps:a,sleepHours:l,timestamp:new Date};await Vu(no(pr,mr.WELLNESS_DATA),c)}catch(c){console.error("Error saving wellness data:",c)}}})),fU=mf((n,e)=>({tasks:[],goals:[],studySessions:[],addTask:async t=>{const{user:r}=et.getState();if(r)try{const s={userId:r.uid,title:t.title,description:t.description||"",category:t.category||"general",priority:t.priority||"medium",dueDate:t.dueDate,completed:!1,createdAt:new Date,recurring:t.recurring||!1,recurringPattern:t.recurringPattern||null},a=await Vu(no(pr,mr.TASKS),s);n(l=>({tasks:[...l.tasks,{id:a.id,...s}]}))}catch(s){console.error("Error adding task:",s)}},completeTask:async t=>{try{await lA(gu(pr,mr.TASKS,t),{completed:!0,completedAt:new Date}),n(r=>({tasks:r.tasks.map(s=>s.id===t?{...s,completed:!0}:s)})),et.getState().addXP(25)}catch(r){console.error("Error completing task:",r)}},addStudySession:async t=>{const{user:r}=et.getState();if(r)try{const s={userId:r.uid,subject:t.subject,duration:t.duration,type:t.type||"study",notes:t.notes||"",timestamp:new Date};await Vu(no(pr,mr.STUDY_SESSIONS),s),n(a=>({studySessions:[s,...a.studySessions]})),et.getState().addXP(Math.floor(t.duration/5))}catch(s){console.error("Error adding study session:",s)}}}));et.subscribe(n=>n.xp,()=>{const n=et.getState();n.user&&n.userProfile&&n.syncProfile()});function pU(){const[n,e]=V.useState(!0),{user:t,setUser:r,initializeUserProfile:s,setLoading:a}=et();return V.useEffect(()=>{const l=EO(pf,async c=>{try{a(!0),c?(r(c),await s(c.uid),Cn.success("Welcome back!")):r(null)}catch(d){console.error("Auth state change error:",d),Cn.error("Authentication error occurred")}finally{e(!1),a(!1)}});return()=>l()},[r,s,a]),{user:t,loading:n}}async function mU(){try{const n=await bb(pf,m0);return Cn.success(`Welcome, ${n.user.displayName}!`),n.user}catch(n){throw console.error("Google sign-in error:",n),n.code==="auth/popup-closed-by-user"?Cn.error("Sign-in was cancelled"):n.code==="auth/popup-blocked"?Cn.error("Pop-up was blocked. Please allow pop-ups and try again."):Cn.error("Failed to sign in with Google"),n}}async function gU(){try{const n=await bb(pf,WF);return Cn.success(`Welcome, ${n.user.displayName||n.user.email}!`),n.user}catch(n){throw console.error("GitHub sign-in error:",n),n.code==="auth/popup-closed-by-user"?Cn.error("Sign-in was cancelled"):n.code==="auth/popup-blocked"?Cn.error("Pop-up was blocked. Please allow pop-ups and try again."):n.code==="auth/account-exists-with-different-credential"?Cn.error("An account already exists with the same email address"):Cn.error("Failed to sign in with GitHub"),n}}async function yU(){try{await SO(pf),Cn.success("Signed out successfully")}catch(n){throw console.error("Sign-out error:",n),Cn.error("Failed to sign out"),n}}const vU=[{code:"en",name:"English",flag:"🇺🇸"},{code:"bn",name:"বাংলা",flag:"🇧🇩"},{code:"hi",name:"हिंदी",flag:"🇮🇳"},{code:"es",name:"Español",flag:"🇪🇸"},{code:"fr",name:"Français",flag:"🇫🇷"},{code:"ar",name:"العربية",flag:"🇸🇦"}];function xU(){const{t:n,i18n:e}=Gn(),{darkMode:t,toggleDarkMode:r,language:s,setLanguage:a}=et(),[l,c]=V.useState(!1),[d,p]=V.useState(!1),m=async()=>{c(!0);try{await mU()}catch(E){console.error("Login error:",E)}finally{c(!1)}},v=async()=>{c(!0);try{await gU()}catch(E){console.error("Login error:",E)}finally{c(!1)}},x=E=>{a(E),e.changeLanguage(E),p(!1)};return y.jsxs("div",{className:`min-h-screen flex items-center justify-center p-6 transition-colors duration-300 ${t?"bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900":"bg-gradient-to-br from-violet-100 via-sky-100 to-rose-100"}`,children:[y.jsxs("div",{className:"fixed top-4 right-4 flex items-center gap-3 z-50",children:[y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>p(!d),className:`p-3 rounded-xl backdrop-blur-lg transition-all duration-200 ${t?"bg-gray-800/50 text-white hover:bg-gray-700/50":"bg-white/50 text-gray-700 hover:bg-white/70"}`,children:y.jsx(PS,{size:20})}),d&&y.jsx(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`absolute right-0 mt-2 py-2 rounded-xl backdrop-blur-lg min-w-48 ${t?"bg-gray-800/90":"bg-white/90"}`,children:vU.map(E=>y.jsxs("button",{onClick:()=>x(E.code),className:`w-full px-4 py-2 text-left flex items-center gap-3 transition-colors ${s===E.code?t?"bg-purple-600/50":"bg-violet-100":t?"hover:bg-gray-700/50":"hover:bg-gray-100/50"}`,children:[y.jsx("span",{className:"text-lg",children:E.flag}),y.jsx("span",{className:`text-sm ${t?"text-white":"text-gray-700"}`,children:E.name})]},E.code))})]}),y.jsx("button",{onClick:r,className:`p-3 rounded-xl backdrop-blur-lg transition-all duration-200 ${t?"bg-gray-800/50 text-yellow-400 hover:bg-gray-700/50":"bg-white/50 text-gray-700 hover:bg-white/70"}`,children:t?y.jsx(RS,{size:20}):y.jsx(fy,{size:20})})]}),y.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`w-full max-w-md backdrop-blur-lg rounded-3xl shadow-2xl p-8 space-y-8 ${t?"bg-gray-800/50 border border-gray-700/50":"bg-white/70 border border-white/20"}`,children:[y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx(we.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto w-16 h-16 bg-gradient-to-r from-violet-600 to-purple-600 rounded-2xl flex items-center justify-center",children:y.jsx("span",{className:"text-2xl text-white",children:"✨"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Aurevo"}),y.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"Life + Academic Companion"})]})]}),y.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:`text-center p-4 rounded-xl ${t?"bg-gray-700/30":"bg-white/30"}`,children:y.jsxs("p",{className:`text-sm italic ${t?"text-gray-300":"text-gray-600"}`,children:['"',n("emotionalSupport.growth"),'"']})}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs(we.button,{onClick:m,disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-4 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-3 ${t?"bg-white text-gray-900 hover:bg-gray-100 disabled:opacity-50":"bg-gray-900 text-white hover:bg-gray-800 disabled:opacity-50"}`,children:[y.jsx(VM,{size:20}),n(l?"loading":"loginWithGoogle")]}),y.jsxs(we.button,{onClick:v,disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-4 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-3 ${t?"border border-gray-600 text-white hover:bg-gray-700/50":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[y.jsx(BM,{size:20}),n(l?"loading":"loginWithGithub")]})]}),y.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"grid grid-cols-2 gap-4 pt-4",children:[{icon:"🎯",label:"Mood Tracking"},{icon:"💧",label:"Wellness"},{icon:"📚",label:"Study Tools"},{icon:"🏆",label:"Gamification"}].map((E,P)=>y.jsxs("div",{className:`text-center p-3 rounded-lg ${t?"bg-gray-700/30":"bg-white/30"}`,children:[y.jsx("div",{className:"text-xl mb-1",children:E.icon}),y.jsx("div",{className:`text-xs ${t?"text-gray-300":"text-gray-600"}`,children:E.label})]},E.label))}),y.jsx("p",{className:`text-xs text-center ${t?"text-gray-400":"text-gray-500"}`,children:"By continuing you agree to our Terms and Privacy Policy."})]})]})}function wU(){const{t:n,i18n:e}=Gn(),{user:t,darkMode:r,toggleDarkMode:s,xp:a,level:l,shinePoints:c,language:d,setLanguage:p,notifications:m,toggleNotifications:v}=et(),[x,E]=V.useState(!1),[P,C]=V.useState(!1),b=[{code:"en",name:"English",flag:"🇺🇸"},{code:"bn",name:"বাংলা",flag:"🇧🇩"},{code:"hi",name:"हिंदी",flag:"🇮🇳"},{code:"es",name:"Español",flag:"🇪🇸"},{code:"fr",name:"Français",flag:"🇫🇷"},{code:"ar",name:"العربية",flag:"🇸🇦"}],j=B=>{p(B),e.changeLanguage(B),C(!1)},U=async()=>{try{await yU()}catch(B){console.error("Sign out error:",B)}};return y.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-xl border-b transition-colors duration-200 ${r?"bg-gray-900/80 border-gray-800":"bg-white/80 border-gray-200"}`,children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs(we.div,{className:"flex items-center gap-3",whileHover:{scale:1.02},children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-violet-600 to-purple-600 rounded-lg flex items-center justify-center",children:y.jsx("span",{className:"text-white text-sm",children:"✨"})}),y.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Aurevo"})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[y.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${r?"bg-gray-800/50":"bg-gray-100/50"}`,children:[y.jsx(NS,{className:"text-yellow-500",size:16}),y.jsxs("span",{className:`text-sm font-medium ${r?"text-white":"text-gray-700"}`,children:[n("level")," ",l]}),y.jsx("div",{className:`w-16 h-2 rounded-full overflow-hidden ${r?"bg-gray-700":"bg-gray-200"}`,children:y.jsx("div",{className:"h-full bg-gradient-to-r from-violet-600 to-purple-600 transition-all duration-300",style:{width:`${a%1e3/10}%`}})}),y.jsxs("span",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:[a%1e3,"/1000"]})]}),y.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${r?"bg-gray-800/50":"bg-gray-100/50"}`,children:[y.jsx(py,{className:"text-amber-500",size:16}),y.jsx("span",{className:`text-sm font-medium ${r?"text-white":"text-gray-700"}`,children:c})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:v,className:`p-2 rounded-lg transition-colors ${m?r?"bg-violet-600/20 text-violet-400":"bg-violet-100 text-violet-600":r?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"}`,children:y.jsx(PM,{size:18})}),y.jsx("button",{onClick:s,className:`p-2 rounded-lg transition-colors ${r?"text-yellow-400 hover:bg-gray-800":"text-gray-600 hover:bg-gray-100"}`,children:r?y.jsx(RS,{size:18}):y.jsx(fy,{size:18})}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>C(!P),className:`p-2 rounded-lg transition-colors ${r?"text-gray-300 hover:bg-gray-800":"text-gray-600 hover:bg-gray-100"}`,children:y.jsx(PS,{size:18})}),P&&y.jsx(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`absolute right-0 mt-2 py-2 rounded-xl backdrop-blur-lg min-w-48 shadow-lg ${r?"bg-gray-800/95 border border-gray-700":"bg-white/95 border border-gray-200"}`,children:b.map(B=>y.jsxs("button",{onClick:()=>j(B.code),className:`w-full px-4 py-2 text-left flex items-center gap-3 transition-colors ${d===B.code?r?"bg-purple-600/50":"bg-violet-100":r?"hover:bg-gray-700/50":"hover:bg-gray-100"}`,children:[y.jsx("span",{className:"text-lg",children:B.flag}),y.jsx("span",{className:`text-sm ${r?"text-white":"text-gray-700"}`,children:B.name})]},B.code))})]}),y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>E(!x),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${r?"hover:bg-gray-800 text-white":"hover:bg-gray-100 text-gray-700"}`,children:[y.jsx("img",{src:t?.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(t?.displayName||t?.email||"User")}&background=7c3aed&color=fff`,alt:"Profile",className:"w-8 h-8 rounded-full border-2 border-violet-600"}),y.jsx("span",{className:"hidden sm:block text-sm font-medium max-w-32 truncate",children:t?.displayName||t?.email?.split("@")[0]||"User"}),y.jsx(NM,{size:16,className:`transition-transform ${x?"rotate-180":""}`})]}),x&&y.jsxs(we.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`absolute right-0 mt-2 py-2 rounded-xl backdrop-blur-lg min-w-48 shadow-lg ${r?"bg-gray-800/95 border border-gray-700":"bg-white/95 border border-gray-200"}`,children:[y.jsxs("div",{className:`px-4 py-3 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[y.jsx("p",{className:`font-medium ${r?"text-white":"text-gray-900"}`,children:t?.displayName||"User"}),y.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:t?.email}),y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsxs("span",{className:`text-xs px-2 py-1 rounded ${r?"bg-violet-600/20 text-violet-400":"bg-violet-100 text-violet-600"}`,children:[n("level")," ",l]}),y.jsxs("span",{className:`text-xs px-2 py-1 rounded ${r?"bg-amber-600/20 text-amber-400":"bg-amber-100 text-amber-600"}`,children:[c," ✨"]})]})]}),y.jsxs("button",{className:`w-full px-4 py-2 text-left flex items-center gap-3 transition-colors ${r?"hover:bg-gray-700/50 text-gray-300":"hover:bg-gray-100 text-gray-700"}`,children:[y.jsx(ZM,{size:16}),y.jsx("span",{className:"text-sm",children:"Profile"})]}),y.jsxs("button",{className:`w-full px-4 py-2 text-left flex items-center gap-3 transition-colors ${r?"hover:bg-gray-700/50 text-gray-300":"hover:bg-gray-100 text-gray-700"}`,children:[y.jsx(nd,{size:16}),y.jsx("span",{className:"text-sm",children:n("settings")})]}),y.jsxs("button",{onClick:U,className:`w-full px-4 py-2 text-left flex items-center gap-3 transition-colors ${r?"hover:bg-gray-700/50 text-red-400":"hover:bg-gray-100 text-red-600"}`,children:[y.jsx(HM,{size:16}),y.jsx("span",{className:"text-sm",children:n("logout")})]})]})]})]})]})})})}const _U=[{id:"overview",icon:zM,labelKey:"dashboard",color:"text-blue-500"},{id:"mood",icon:CS,labelKey:"mood",color:"text-pink-500"},{id:"wellness",icon:IS,labelKey:"wellness",color:"text-green-500"},{id:"study",icon:AS,labelKey:"study",color:"text-purple-500"},{id:"goals",icon:Ku,labelKey:"goals",color:"text-orange-500"},{id:"reports",icon:RM,labelKey:"reports",color:"text-indigo-500"}];function TU(){const{t:n}=Gn(),{darkMode:e,user:t,level:r,xp:s,shinePoints:a,streaks:l}=et(),[c,d]=V.useState("overview"),p=1e3-s%1e3,m=s%1e3/1e3*100,v=x=>{d(x),console.log(`Navigating to ${x}`)};return y.jsxs("aside",{className:`rounded-2xl shadow-sm border p-6 space-y-6 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"text-center space-y-3",children:[y.jsxs("div",{className:"relative mx-auto w-16 h-16",children:[y.jsx("img",{src:t?.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(t?.displayName||t?.email||"User")}&background=7c3aed&color=fff`,alt:"Profile",className:"w-full h-full rounded-full border-3 border-violet-500"}),y.jsx("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${e?"bg-violet-600":"bg-violet-500"}`,children:r})]}),y.jsxs("div",{children:[y.jsx("h3",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:t?.displayName?.split(" ")[0]||"Student"}),y.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:["Level ",r," Scholar"]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center text-xs",children:[y.jsxs("span",{className:e?"text-gray-400":"text-gray-500",children:[s%1e3," / 1000 XP"]}),y.jsxs("span",{className:e?"text-violet-400":"text-violet-600",children:[p," to level ",r+1]})]}),y.jsx("div",{className:`h-2 rounded-full overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:y.jsx(we.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-violet-600 to-purple-600"})})]}),y.jsxs("div",{className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg ${e?"bg-amber-900/20":"bg-amber-50"}`,children:[y.jsx(py,{className:"text-amber-500",size:16}),y.jsxs("span",{className:`text-sm font-medium ${e?"text-amber-400":"text-amber-600"}`,children:[a," Shine Points"]})]})]}),y.jsxs("nav",{className:"space-y-2",children:[y.jsx("h4",{className:`text-xs font-semibold uppercase tracking-wider ${e?"text-gray-400":"text-gray-500"}`,children:"Navigation"}),_U.map(x=>{const E=c===x.id;return y.jsxs(we.button,{onClick:()=>v(x.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all ${E?e?"bg-violet-600/20 text-violet-400 border border-violet-600/30":"bg-violet-100 text-violet-700 border border-violet-200":e?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[y.jsx(x.icon,{size:18,className:E?x.color:""}),y.jsx("span",{className:"text-sm font-medium",children:n(x.labelKey)})]},x.id)})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("h4",{className:`text-xs font-semibold uppercase tracking-wider ${e?"text-gray-400":"text-gray-500"}`,children:"Current Streaks"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(l).map(([x,E])=>y.jsxs("div",{className:`p-2 rounded-lg text-center ${e?"bg-gray-700/50":"bg-gray-50"}`,children:[y.jsx("div",{className:`text-lg font-bold ${E>0?e?"text-orange-400":"text-orange-600":e?"text-gray-500":"text-gray-400"}`,children:E>0?`🔥${E}`:"💭"}),y.jsx("div",{className:`text-xs capitalize ${e?"text-gray-400":"text-gray-500"}`,children:x})]},x))})]}),y.jsxs("div",{className:`p-4 rounded-lg space-y-3 ${e?"bg-gray-700/30":"bg-gray-50"}`,children:[y.jsxs("h4",{className:`text-sm font-medium flex items-center gap-2 ${e?"text-white":"text-gray-800"}`,children:[y.jsx(my,{size:16}),"Today's Progress"]}),y.jsx("div",{className:"space-y-2",children:[{label:"Mood Logged",value:"✅",color:"text-green-500"},{label:"Water Goal",value:"75%",color:"text-blue-500"},{label:"Study Time",value:"2.5h",color:"text-purple-500"},{label:"Steps",value:"8.2k",color:"text-orange-500"}].map(x=>y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:`text-xs ${e?"text-gray-400":"text-gray-600"}`,children:x.label}),y.jsx("span",{className:`text-xs font-medium ${x.color}`,children:x.value})]},x.label))})]}),y.jsx("div",{className:`p-4 rounded-lg ${e?"bg-gradient-to-r from-purple-900/30 to-violet-900/30":"bg-gradient-to-r from-purple-50 to-violet-50"}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx(NS,{className:`mx-auto mb-2 ${e?"text-yellow-400":"text-yellow-500"}`,size:24}),y.jsx("h4",{className:`text-sm font-medium ${e?"text-white":"text-gray-800"}`,children:"Achievement Unlocked!"}),y.jsx("p",{className:`text-xs mt-1 ${e?"text-gray-300":"text-gray-600"}`,children:"Consistency Champion"}),y.jsx("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"3-day mood tracking streak"})]})}),y.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-colors ${e?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[y.jsx(nd,{size:18}),y.jsx("span",{className:"text-sm font-medium",children:n("settings")})]})]})}const Pm=[{emoji:"😭",label:"Terrible",value:1,color:"text-red-500"},{emoji:"😞",label:"Sad",value:2,color:"text-orange-500"},{emoji:"😐",label:"Neutral",value:3,color:"text-yellow-500"},{emoji:"🙂",label:"Good",value:4,color:"text-green-500"},{emoji:"😄",label:"Great",value:5,color:"text-emerald-500"}],rT=[{level:1,label:"Very Low",color:"bg-gray-300"},{level:2,label:"Low",color:"bg-blue-300"},{level:3,label:"Moderate",color:"bg-yellow-300"},{level:4,label:"High",color:"bg-orange-300"},{level:5,label:"Very High",color:"bg-red-300"}],sT=["emotionalSupport.growth","emotionalSupport.progress","emotionalSupport.strength","emotionalSupport.journey","emotionalSupport.rest"];function EU(){const{t:n}=Gn(),{darkMode:e,addXP:t}=et(),{currentMood:r,setCurrentMood:s,logMood:a,moodLogs:l}=dU(),[c,d]=V.useState(null),[p,m]=V.useState(3),[v,x]=V.useState(""),[E,P]=V.useState(!1),[C,b]=V.useState(null),[j,U]=V.useState(!1),[B,H]=V.useState(""),[W,G]=V.useState(!1),k=V.useRef(null),I=V.useRef([]);V.useEffect(()=>{const he=setInterval(()=>{const Me=sT[Math.floor(Math.random()*sT.length)];H(n(Me)),G(!0),setTimeout(()=>{G(!1)},5e3)},3e4);return()=>clearInterval(he)},[n]);const R=async()=>{try{const he=await navigator.mediaDevices.getUserMedia({audio:!0});k.current=new MediaRecorder(he),I.current=[],k.current.ondataavailable=Me=>{I.current.push(Me.data)},k.current.onstop=()=>{const Me=new Blob(I.current,{type:"audio/wav"});b(Me),he.getTracks().forEach(pe=>pe.stop())},k.current.start(),P(!0)}catch(he){console.error("Error starting recording:",he)}},M=()=>{k.current&&E&&(k.current.stop(),P(!1))},F=he=>{d(he),s(he)},z=async()=>{if(!c)return;const he={mood:c.value,intensity:p,notes:v,audioBlob:C,tags:["daily-log"]};await a(he),d(null),m(3),x(""),b(null),H(n("moodLogged")),G(!0),setTimeout(()=>G(!1),3e3)},D=()=>{const he=l.slice(0,7).reverse(),Me=he.length>0?he.reduce((J,le)=>J+le.mood,0)/he.length:3,pe=Math.min(100,Me/5*100),ue=Me>=4?"text-green-500":Me>=3?"text-yellow-500":"text-orange-500";return y.jsxs(we.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`text-center p-6 rounded-xl ${e?"bg-gray-800/50":"bg-gradient-to-br from-green-50 to-blue-50"}`,children:[y.jsx("h4",{className:`font-semibold mb-4 ${e?"text-white":"text-gray-800"}`,children:"Your Mood Tree 🌱"}),y.jsxs("div",{className:"relative",children:[y.jsx(we.div,{initial:{height:0},animate:{height:`${pe}px`},transition:{duration:1,ease:"easeOut"},className:`mx-auto w-2 ${ue==="text-green-500"?"bg-green-500":ue==="text-yellow-500"?"bg-yellow-500":"bg-orange-500"} rounded-full`}),y.jsx(we.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,duration:.5},className:`text-6xl ${ue} mt-2`,children:pe>=80?"🌳":pe>=60?"🌿":pe>=40?"🌱":"🌰"})]}),y.jsxs("div",{className:"mt-4 space-y-2",children:[y.jsxs("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["Tree Health: ",Math.round(pe),"%"]}),y.jsx("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Based on your last 7 mood logs"})]}),y.jsx("div",{className:"flex justify-center gap-1 mt-4",children:he.map((J,le)=>y.jsx("div",{className:`w-2 h-8 rounded-full ${J.mood>=4?"bg-green-400":J.mood>=3?"bg-yellow-400":"bg-orange-400"}`,title:`Day ${le+1}: ${Pm.find(ie=>ie.value===J.mood)?.emoji||"😐"}`},le))})]})};return y.jsxs("div",{className:`rounded-2xl shadow-sm border p-6 space-y-6 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:`font-semibold text-lg flex items-center gap-2 ${e?"text-white":"text-gray-800"}`,children:[y.jsx(CS,{className:"text-pink-500",size:20}),n("moodTitle")]}),y.jsxs("button",{onClick:()=>U(!j),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-colors ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[y.jsx(my,{size:16}),"Mood Tree"]})]}),y.jsx(Mr,{children:W&&y.jsx(we.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`p-4 rounded-xl border-l-4 border-violet-500 ${e?"bg-violet-900/20":"bg-violet-50"}`,children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(XM,{className:"text-violet-500",size:16}),y.jsx("p",{className:`text-sm italic ${e?"text-violet-300":"text-violet-700"}`,children:B})]})})}),j&&y.jsx(D,{}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:n("howAreYouFeeling")}),y.jsx("div",{className:"flex justify-between gap-2",children:Pm.map(he=>y.jsxs(we.button,{onClick:()=>F(he),whileHover:{scale:1.1},whileTap:{scale:.95},className:`flex flex-col items-center p-3 rounded-xl transition-all ${c?.value===he.value?e?"bg-violet-600/30 ring-2 ring-violet-500":"bg-violet-100 ring-2 ring-violet-400":e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:[y.jsx("span",{className:"text-3xl mb-1",children:he.emoji}),y.jsx("span",{className:`text-xs ${he.color}`,children:he.label})]},he.value))})]}),c&&y.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-3",children:[y.jsxs("h4",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:[n("moodIntensity"),": ",rT[p-1].label]}),y.jsx("div",{className:"flex items-center gap-2",children:rT.map(he=>y.jsx("button",{onClick:()=>m(he.level),className:`flex-1 h-8 rounded-lg transition-all ${p>=he.level?he.color:e?"bg-gray-700":"bg-gray-200"}`},he.level))})]}),c&&y.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:n("addNotes")}),y.jsx("textarea",{value:v,onChange:he=>x(he.target.value),placeholder:n("addNotes"),rows:3,className:`w-full px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:`block text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:n("voiceJournal")}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{onClick:E?M:R,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${E?"bg-red-500 text-white":e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[E?y.jsx(WM,{size:16}):y.jsx(qM,{size:16}),E?"Stop Recording":"Start Recording"]}),C&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Voice note recorded"}),y.jsx("button",{onClick:()=>{new Audio(URL.createObjectURL(C)).play()},className:`p-2 rounded-lg ${e?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:y.jsx(kS,{size:16})})]})]})]}),y.jsxs("button",{onClick:z,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg bg-gradient-to-r from-violet-600 to-purple-600 text-white font-medium hover:opacity-90 transition-opacity",children:[y.jsx(QM,{size:16}),n("logMood")]})]}),l.length>0&&y.jsxs("div",{className:`pt-4 border-t ${e?"border-gray-700":"border-gray-200"}`,children:[y.jsx("h4",{className:`text-sm font-medium mb-3 ${e?"text-gray-300":"text-gray-700"}`,children:"Recent Moods"}),y.jsx("div",{className:"flex gap-2",children:l.slice(0,7).map((he,Me)=>{const pe=Pm.find(ue=>ue.value===he.mood);return y.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg ${e?"bg-gray-700/50":"bg-gray-50"}`,title:new Date(he.timestamp?.toDate?.()||he.timestamp).toLocaleDateString(),children:[y.jsx("span",{className:"text-lg",children:pe?.emoji||"😐"}),y.jsx("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:new Date(he.timestamp?.toDate?.()||he.timestamp).toLocaleDateString("en",{weekday:"short"})})]},Me)})})]})]})}const iT=[{emoji:"🌰",name:"Seed",minWater:0,color:"text-amber-600"},{emoji:"🌱",name:"Sprout",minWater:500,color:"text-green-400"},{emoji:"🌿",name:"Growing",minWater:1e3,color:"text-green-500"},{emoji:"🪴",name:"Young Plant",minWater:1500,color:"text-green-600"},{emoji:"🌳",name:"Mature Tree",minWater:2e3,color:"text-green-700"},{emoji:"🌸",name:"Blooming",minWater:2500,color:"text-pink-500"}],SU=[{amount:250,label:"250ml",icon:"🥤"},{amount:500,label:"500ml",icon:"🧴"},{amount:750,label:"750ml",icon:"🍶"},{amount:1e3,label:"1L",icon:"🍼"}];function bU(){const{t:n}=Gn(),{darkMode:e}=et(),{waterIntake:t,dailyWaterGoal:r,updateWaterIntake:s,saveWellnessData:a}=gf(),[l,c]=V.useState(!1),[d,p]=V.useState(!1),m=Math.min(100,t/r*100),v=iT.reduce((C,b)=>t>=b.minWater?b:C),x=iT.find(C=>C.minWater>t);V.useEffect(()=>{t>=r&&!d?(c(!0),p(!0),setTimeout(()=>c(!1),3e3)):t<r&&p(!1)},[t,r,d]),V.useEffect(()=>{const C=setTimeout(()=>{a()},1e3);return()=>clearTimeout(C)},[t,a]);const E=C=>{s(C)},P=()=>y.jsxs("div",{className:"relative flex flex-col items-center",children:[y.jsx(we.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},className:`text-6xl ${v.color} mb-2`,children:v.emoji},v.emoji),y.jsx(Mr,{children:Array.from({length:Math.min(5,Math.floor(m/20))}).map((C,b)=>y.jsx(we.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{delay:b*.2,duration:.5},className:"absolute text-blue-400 text-lg",style:{left:`${20+b*15}%`,top:`${10+b*5}%`},children:"💧"},b))}),y.jsx("div",{className:`w-20 h-6 rounded-b-full relative overflow-hidden ${e?"bg-amber-900":"bg-amber-700"}`,children:y.jsx(we.div,{initial:{height:0},animate:{height:`${Math.max(20,m)}%`},transition:{duration:.5},className:"absolute bottom-0 w-full bg-gradient-to-t from-blue-400 to-blue-200 rounded-b-full"})}),y.jsxs("div",{className:"text-center mt-3",children:[y.jsx("p",{className:`text-sm font-medium ${e?"text-white":"text-gray-800"}`,children:v.name}),x&&y.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["Next: ",x.name," (",x.minWater,"ml)"]})]})]});return y.jsxs("div",{className:`rounded-2xl shadow-sm border p-6 space-y-6 relative overflow-hidden ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsx(Mr,{children:l&&y.jsx(we.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:"absolute inset-0 flex items-center justify-center bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-2xl z-10",children:y.jsxs("div",{className:"text-center",children:[y.jsx(we.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0},className:"text-6xl mb-2",children:"🎉"}),y.jsx("p",{className:`text-lg font-bold ${e?"text-white":"text-gray-800"}`,children:"Goal Reached!"}),y.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Great hydration! +50 XP"})]})})}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:`font-semibold text-lg flex items-center gap-2 ${e?"text-white":"text-gray-800"}`,children:[y.jsx(FM,{className:"text-blue-500",size:20}),n("hydrationTracker")]}),y.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${e?"bg-gray-700":"bg-gray-100"}`,children:[y.jsx(Ku,{size:16,className:"text-blue-500"}),y.jsxs("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-700"}`,children:[r,"ml"]})]})]}),y.jsx("div",{className:"flex justify-center py-4",children:y.jsx(P,{})}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("span",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:[t,"ml / ",r,"ml"]}),y.jsxs("span",{className:`text-sm font-bold ${m>=100?"text-green-500":"text-blue-500"}`,children:[Math.round(m),"%"]})]}),y.jsx("div",{className:`h-3 rounded-full overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:y.jsx(we.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${m>=100?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-blue-500 to-cyan-500"}`})})]}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:SU.map(C=>y.jsxs(we.button,{onClick:()=>E(C.amount),whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex items-center justify-center gap-2 p-3 rounded-xl transition-colors ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[y.jsx("span",{className:"text-lg",children:C.icon}),y.jsxs("span",{className:"text-sm font-medium",children:["+",C.label]})]},C.amount))}),y.jsxs("div",{className:"flex items-center justify-center gap-4",children:[y.jsx("button",{onClick:()=>E(-250),disabled:t<=0,className:`flex items-center justify-center w-10 h-10 rounded-full transition-colors ${t<=0?e?"bg-gray-800 text-gray-600":"bg-gray-200 text-gray-400":e?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-400"}`,children:y.jsx(dy,{size:16})}),y.jsx("div",{className:`px-4 py-2 rounded-lg ${e?"bg-gray-700":"bg-gray-100"}`,children:y.jsxs("span",{className:`text-lg font-bold ${e?"text-white":"text-gray-800"}`,children:[t,"ml"]})}),y.jsx("button",{onClick:()=>E(250),className:`flex items-center justify-center w-10 h-10 rounded-full transition-colors ${e?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-400"}`,children:y.jsx(Fd,{size:16})})]}),y.jsxs("div",{className:`grid grid-cols-3 gap-4 pt-4 border-t ${e?"border-gray-700":"border-gray-200"}`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:Math.floor(t/250)}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Glasses"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${m>=100?"text-green-500":"text-yellow-500"}`,children:m>=100?"✅":"⏳"}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:m>=100?"Complete":"In Progress"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-purple-400":"text-purple-600"}`,children:v.emoji}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Plant Stage"})]})]}),y.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-blue-900/20":"bg-blue-50"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(gy,{className:"text-blue-500",size:16}),y.jsx("span",{className:`text-sm font-medium ${e?"text-blue-300":"text-blue-700"}`,children:"Hydration Tip"})]}),y.jsx("p",{className:`text-xs ${e?"text-blue-200":"text-blue-600"}`,children:m<25?"Start your day with a glass of water to kickstart your metabolism!":m<50?"Great start! Try drinking water before each meal to stay consistent.":m<75?"You're doing amazing! Keep this momentum going throughout the day.":m<100?"Almost there! One more push to reach your hydration goal!":"Excellent hydration! Your body and mind will thank you. 🎉"})]})]})}const IU=[{name:"Apple",calories:95,emoji:"🍎",category:"fruit"},{name:"Banana",calories:105,emoji:"🍌",category:"fruit"},{name:"Chicken Breast",calories:165,emoji:"🍗",category:"protein"},{name:"Rice (1 cup)",calories:205,emoji:"🍚",category:"carb"},{name:"Eggs",calories:155,emoji:"🥚",category:"protein"},{name:"Bread (1 slice)",calories:80,emoji:"🍞",category:"carb"},{name:"Yogurt",calories:150,emoji:"🥛",category:"dairy"},{name:"Salad",calories:50,emoji:"🥗",category:"vegetable"}];function AU(){const{t:n}=Gn(),{darkMode:e}=et(),{calories:t,updateCalories:r,saveWellnessData:s}=gf(),[a,l]=V.useState(""),[c,d]=V.useState({name:"",calories:""}),[p,m]=V.useState(!1),[v]=V.useState(2e3),[x,E]=V.useState([]),P=Math.min(100,t/v*100),C=Math.max(0,v-t),b=IU.filter(W=>W.name.toLowerCase().includes(a.toLowerCase()));V.useEffect(()=>{const W=setTimeout(()=>{s()},1e3);return()=>clearTimeout(W)},[t,s]);const j=(W,G=1)=>{const k=W.calories*G;r(t+k);const I={...W,quantity:G,totalCalories:k,timestamp:new Date,id:Date.now()};E(R=>[...R,I])},U=W=>{const G=x.find(k=>k.id===W);G&&(r(t-G.totalCalories),E(k=>k.filter(I=>I.id!==W)))},B=()=>{if(c.name&&c.calories){const W={name:c.name,calories:parseInt(c.calories),emoji:"🍽️",category:"custom"};j(W),d({name:"",calories:""}),m(!1)}},H=()=>{const W=t>v,G=W?100:P;return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("span",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:[t," / ",v," kcal"]}),y.jsxs("span",{className:`text-sm font-bold ${W?"text-red-500":P>=80?"text-orange-500":"text-green-500"}`,children:[W?`+${t-v}`:C," left"]})]}),y.jsxs("div",{className:`h-3 rounded-full overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:[y.jsx(we.div,{initial:{width:0},animate:{width:`${G}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${W?"bg-gradient-to-r from-red-500 to-red-600":P>=80?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-green-500 to-green-600"}`}),W&&y.jsx(we.div,{initial:{width:0},animate:{width:`${(t-v)/v*100}%`},transition:{duration:.5,ease:"easeOut",delay:.2},className:"h-full bg-gradient-to-r from-red-600 to-red-700 absolute top-0",style:{left:"100%"}})]})]})};return y.jsxs("div",{className:`rounded-2xl shadow-sm border p-6 space-y-6 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:`font-semibold text-lg flex items-center gap-2 ${e?"text-white":"text-gray-800"}`,children:[y.jsx(UM,{className:"text-orange-500",size:20}),n("calorieTracker")]}),y.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${e?"bg-gray-700":"bg-gray-100"}`,children:[y.jsx(Ku,{size:16,className:"text-orange-500"}),y.jsxs("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-700"}`,children:[v," kcal"]})]})]}),y.jsx(H,{}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(YM,{size:16,className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${e?"text-gray-400":"text-gray-500"}`}),y.jsx("input",{type:"text",placeholder:"Search foods...",value:a,onChange:W=>l(W.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border transition-colors ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),y.jsx("button",{onClick:()=>m(!p),className:`px-4 py-2 rounded-lg transition-colors ${e?"bg-orange-600 text-white hover:bg-orange-500":"bg-orange-500 text-white hover:bg-orange-400"}`,children:y.jsx(Fd,{size:16})})]}),y.jsx(Mr,{children:p&&y.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-4 rounded-lg border ${e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[y.jsx("h4",{className:`text-sm font-medium mb-3 ${e?"text-white":"text-gray-800"}`,children:"Add Custom Food"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("input",{type:"text",placeholder:"Food name",value:c.name,onChange:W=>d(G=>({...G,name:W.target.value})),className:`px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),y.jsx("input",{type:"number",placeholder:"Calories",value:c.calories,onChange:W=>d(G=>({...G,calories:W.target.value})),className:`px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[y.jsx("button",{onClick:B,className:"flex-1 py-2 rounded-lg bg-green-500 text-white hover:bg-green-400 transition-colors",children:"Add Food"}),y.jsx("button",{onClick:()=>m(!1),className:`px-4 py-2 rounded-lg transition-colors ${e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cancel"})]})]})})]}),y.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:b.map((W,G)=>y.jsxs(we.button,{onClick:()=>j(W),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-3 rounded-lg text-left transition-colors ${e?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-50 hover:bg-gray-100 text-gray-800"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:"text-lg",children:W.emoji}),y.jsx("span",{className:"text-sm font-medium truncate",children:W.name})]}),y.jsxs("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[W.calories," kcal"]})]},W.name))}),x.length>0&&y.jsxs("div",{className:`pt-4 border-t ${e?"border-gray-700":"border-gray-200"}`,children:[y.jsxs("h4",{className:`text-sm font-medium mb-3 flex items-center gap-2 ${e?"text-gray-300":"text-gray-700"}`,children:[y.jsx(my,{size:16}),"Today's Meals"]}),y.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:x.map(W=>y.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${e?"bg-gray-700/50":"bg-gray-50"}`,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{children:W.emoji}),y.jsx("span",{className:`text-sm ${e?"text-white":"text-gray-800"}`,children:W.name}),W.quantity>1&&y.jsxs("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["x",W.quantity]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:`text-sm font-medium ${e?"text-orange-400":"text-orange-600"}`,children:[W.totalCalories," kcal"]}),y.jsx("button",{onClick:()=>U(W.id),className:`p-1 rounded ${e?"hover:bg-gray-600":"hover:bg-gray-200"}`,children:y.jsx(dy,{size:14,className:"text-red-500"})})]})]},W.id))})]}),y.jsxs("div",{className:`grid grid-cols-3 gap-4 pt-4 border-t ${e?"border-gray-700":"border-gray-200"}`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-orange-400":"text-orange-600"}`,children:x.length}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Meals"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:`text-lg font-bold ${P>=100?"text-green-500":"text-yellow-500"}`,children:[Math.round(P),"%"]}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Progress"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:Math.round(t/(x.length||1))}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Avg/Meal"})]})]}),y.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-orange-900/20":"bg-orange-50"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(CM,{className:"text-orange-500",size:16}),y.jsx("span",{className:`text-sm font-medium ${e?"text-orange-300":"text-orange-700"}`,children:"Nutrition Tip"})]}),y.jsx("p",{className:`text-xs ${e?"text-orange-200":"text-orange-600"}`,children:P<25?"Don't skip breakfast! It kickstarts your metabolism for the day.":P<50?"Great start! Try to include protein with each meal for sustained energy.":P<75?"You're on track! Remember to stay hydrated and eat plenty of vegetables.":P<100?"Almost at your goal! Listen to your body's hunger cues.":"Goal reached! Focus on nutritious choices for the rest of the day."})]})]})}const oT=[{steps:5e3,level:"Beginner",emoji:"🚶",color:"text-blue-500"},{steps:8e3,level:"Active",emoji:"🚶‍♂️",color:"text-green-500"},{steps:1e4,level:"Fitness Enthusiast",emoji:"🏃",color:"text-orange-500"},{steps:15e3,level:"Athletic",emoji:"🏃‍♂️",color:"text-red-500"},{steps:2e4,level:"Elite",emoji:"🏃‍♀️",color:"text-purple-500"}],aT=[{name:"Walking",stepsPerMin:100,emoji:"🚶"},{name:"Jogging",stepsPerMin:150,emoji:"🏃"},{name:"Running",stepsPerMin:180,emoji:"🏃‍♂️"},{name:"Stairs",stepsPerMin:120,emoji:"🪜"}];function CU(){const{t:n}=Gn(),{darkMode:e}=et(),{steps:t,updateSteps:r,saveWellnessData:s}=gf(),[a]=V.useState(1e4),[l,c]=V.useState(!1),[d,p]=V.useState(aT[0]),[m,v]=V.useState(""),x=Math.min(100,t/a*100),E=oT.reduce((H,W)=>t>=W.steps?W:H),P=oT.find(H=>H.steps>t),C=Math.round(t*.04),b=(t*8e-4).toFixed(2);V.useEffect(()=>{const H=setTimeout(()=>{s()},1e3);return()=>clearTimeout(H)},[t,s]);const j=H=>{r(t+H)},U=()=>{if(m&&d){const H=parseInt(m)*d.stepsPerMin;j(H),v(""),c(!1)}},B=()=>{const H=Math.min(10,Math.floor(x/10));return y.jsx("div",{className:"flex justify-center items-center space-x-2 py-4",children:Array.from({length:10}).map((W,G)=>y.jsx(we.div,{initial:{opacity:0,scale:0},animate:{opacity:G<H?1:.3,scale:G<H?1:.8},transition:{delay:G*.1,duration:.3},className:`text-lg ${G<H?E.color:"text-gray-400"}`,children:"👣"},G))})};return y.jsxs("div",{className:`rounded-2xl shadow-sm border p-6 space-y-6 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:`font-semibold text-lg flex items-center gap-2 ${e?"text-white":"text-gray-800"}`,children:[y.jsx($M,{className:"text-green-500",size:20}),n("stepCounter")]}),y.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${e?"bg-gray-700":"bg-gray-100"}`,children:[y.jsx(Ku,{size:16,className:"text-green-500"}),y.jsx("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-700"}`,children:a.toLocaleString()})]})]}),y.jsxs("div",{className:"text-center",children:[y.jsx(we.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"text-4xl mb-2",children:E.emoji},E.emoji),y.jsx("h4",{className:`font-medium ${E.color}`,children:E.level}),P&&y.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:[P.steps-t," steps to ",P.level]})]}),y.jsx(B,{}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-4xl font-bold ${e?"text-white":"text-gray-800"}`,children:t.toLocaleString()}),y.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"steps today"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:"Progress"}),y.jsxs("span",{className:`text-sm font-bold ${x>=100?"text-green-500":E.color}`,children:[Math.round(x),"%"]})]}),y.jsx("div",{className:`h-3 rounded-full overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:y.jsx(we.div,{initial:{width:0},animate:{width:`${x}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${x>=100?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-blue-500 to-green-500"}`})})]}),y.jsxs("div",{className:"flex items-center justify-center gap-4",children:[y.jsx("button",{onClick:()=>j(-500),disabled:t<=0,className:`flex items-center justify-center w-10 h-10 rounded-full transition-colors ${t<=0?e?"bg-gray-800 text-gray-600":"bg-gray-200 text-gray-400":e?"bg-red-600 text-white hover:bg-red-500":"bg-red-500 text-white hover:bg-red-400"}`,children:y.jsx(dy,{size:16})}),y.jsx("div",{className:`px-4 py-2 rounded-lg ${e?"bg-gray-700":"bg-gray-100"}`,children:y.jsx("span",{className:`text-lg font-bold ${e?"text-white":"text-gray-800"}`,children:t.toLocaleString()})}),y.jsx("button",{onClick:()=>j(500),className:`flex items-center justify-center w-10 h-10 rounded-full transition-colors ${e?"bg-green-600 text-white hover:bg-green-500":"bg-green-500 text-white hover:bg-green-400"}`,children:y.jsx(Fd,{size:16})})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("button",{onClick:()=>c(!l),className:`w-full flex items-center justify-center gap-2 py-3 rounded-lg transition-colors ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[y.jsx(IS,{size:16}),"Add Activity"]}),y.jsx(Mr,{children:l&&y.jsx(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-4 rounded-lg border ${e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"grid grid-cols-2 gap-3",children:aT.map(H=>y.jsx("button",{onClick:()=>p(H),className:`p-3 rounded-lg text-left transition-colors ${d.name===H.name?e?"bg-green-600/30 ring-1 ring-green-500":"bg-green-100 ring-1 ring-green-400":e?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-100"}`,children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg",children:H.emoji}),y.jsxs("div",{children:[y.jsx("div",{className:`text-sm font-medium ${e?"text-white":"text-gray-800"}`,children:H.name}),y.jsxs("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[H.stepsPerMin,"/min"]})]})]})},H.name))}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("input",{type:"number",placeholder:"Minutes",value:m,onChange:H=>v(H.target.value),className:`flex-1 px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),y.jsx("button",{onClick:U,className:"px-4 py-2 rounded-lg bg-green-500 text-white hover:bg-green-400 transition-colors",children:"Add"})]}),m&&d&&y.jsxs("div",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["Will add ~",parseInt(m||0)*d.stepsPerMin," steps"]})]})})})]}),y.jsxs("div",{className:`grid grid-cols-3 gap-4 pt-4 border-t ${e?"border-gray-700":"border-gray-200"}`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-orange-400":"text-orange-600"}`,children:C}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Calories"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:b}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"KM"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${E.color}`,children:E.emoji}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Level"})]})]}),y.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-green-900/20":"bg-green-50"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(gy,{className:"text-green-500",size:16}),y.jsx("span",{className:`text-sm font-medium ${e?"text-green-300":"text-green-700"}`,children:"Fitness Tip"})]}),y.jsx("p",{className:`text-xs ${e?"text-green-200":"text-green-600"}`,children:x<25?"Every step counts! Take the stairs or park further away to add more steps.":x<50?"Great momentum! Try to take short walks throughout the day.":x<75?"You're crushing it! Keep moving and stay active.":x<100?"So close to your goal! A short walk will get you there!":"Goal achieved! Consider increasing your daily target for tomorrow. 🎉"})]})]})}const lT=[{level:1,label:"Poor",emoji:"😴",color:"text-red-500"},{level:2,label:"Fair",emoji:"😪",color:"text-orange-500"},{level:3,label:"Good",emoji:"😊",color:"text-yellow-500"},{level:4,label:"Great",emoji:"😌",color:"text-green-500"},{level:5,label:"Excellent",emoji:"🌟",color:"text-blue-500"}],PU=[{phase:"Light Sleep",color:"bg-blue-300",percentage:45},{phase:"Deep Sleep",color:"bg-indigo-500",percentage:25},{phase:"REM Sleep",color:"bg-purple-500",percentage:20},{phase:"Awake",color:"bg-yellow-300",percentage:10}],uT={adult:{min:7,max:9}};function kU(){const{t:n}=Gn(),{darkMode:e}=et(),{sleepHours:t,updateSleep:r,saveWellnessData:s}=gf(),[a,l]=V.useState(""),[c,d]=V.useState(""),[p,m]=V.useState(3),[v]=V.useState(8),[x,E]=V.useState(!1),[P,C]=V.useState(""),b=Math.min(100,t/v*100),j=t>=uT.adult.min&&t<=uT.adult.max;V.useEffect(()=>{const G=setTimeout(()=>{s()},1e3);return()=>clearTimeout(G)},[t,s]);const U=()=>{if(a&&c){const G=new Date(`2024-01-01T${a}`);let k=new Date(`2024-01-01T${c}`);k<G&&k.setDate(k.getDate()+1);const R=(k-G)/(1e3*60*60);return Math.round(R*10)/10}return 0},B=()=>{const G=U();G>0&&(r(G),l(""),d(""),m(3),C(""),E(!1))},H=()=>{const G=Math.min(8,Math.max(1,Math.round(t)));return y.jsx("div",{className:"flex justify-center items-center py-4",children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center ${e?"bg-indigo-900/50":"bg-indigo-100"}`,children:y.jsx(we.div,{initial:{rotate:0},animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"text-3xl",children:j?"😴":t<6?"😵":"😪"})}),Array.from({length:8}).map((k,I)=>{const R=I*45-90,M=40*Math.cos(R*Math.PI/180),F=40*Math.sin(R*Math.PI/180);return y.jsx(we.div,{initial:{opacity:0,scale:0},animate:{opacity:I<G?1:.3,scale:I<G?1:.5},transition:{delay:I*.1},className:"absolute text-lg",style:{left:`calc(50% + ${M}px)`,top:`calc(50% + ${F}px)`,transform:"translate(-50%, -50%)"},children:"🌙"},I)})]})})},W=()=>y.jsxs("div",{className:`p-4 rounded-lg ${e?"bg-gray-700/50":"bg-gray-50"}`,children:[y.jsx("h4",{className:`text-sm font-medium mb-3 ${e?"text-white":"text-gray-800"}`,children:"Typical Sleep Phases"}),y.jsx("div",{className:"space-y-2",children:PU.map(G=>y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-4 h-4 rounded ${G.color}`}),y.jsx("span",{className:`text-sm flex-1 ${e?"text-gray-300":"text-gray-700"}`,children:G.phase}),y.jsxs("span",{className:`text-sm font-medium ${e?"text-gray-400":"text-gray-500"}`,children:[G.percentage,"%"]})]},G.phase))})]});return y.jsxs("div",{className:`rounded-2xl shadow-sm border p-6 space-y-6 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:`font-semibold text-lg flex items-center gap-2 ${e?"text-white":"text-gray-800"}`,children:[y.jsx(fy,{className:"text-indigo-500",size:20}),n("sleepTracker")]}),y.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${e?"bg-gray-700":"bg-gray-100"}`,children:[y.jsx(Ku,{size:16,className:"text-indigo-500"}),y.jsxs("span",{className:`text-sm font-medium ${e?"text-white":"text-gray-700"}`,children:[v,"h"]})]})]}),y.jsx(H,{}),y.jsxs("div",{className:"text-center space-y-2",children:[y.jsxs("div",{className:`text-3xl font-bold ${j?"text-green-500":t<6?"text-red-500":"text-yellow-500"}`,children:[t,"h"]}),y.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:"last sleep duration"}),y.jsx("div",{className:`text-xs px-2 py-1 rounded-full inline-block ${j?e?"bg-green-900/30 text-green-400":"bg-green-100 text-green-600":t<6?e?"bg-red-900/30 text-red-400":"bg-red-100 text-red-600":e?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-600"}`,children:j?"Optimal":t<6?"Insufficient":"Acceptable"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:"Sleep Goal Progress"}),y.jsxs("span",{className:`text-sm font-bold ${b>=100?"text-green-500":"text-indigo-500"}`,children:[Math.round(b),"%"]})]}),y.jsx("div",{className:`h-3 rounded-full overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:y.jsx(we.div,{initial:{width:0},animate:{width:`${b}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${b>=100?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-indigo-500 to-purple-500"}`})})]}),y.jsxs("button",{onClick:()=>E(!x),className:`w-full flex items-center justify-center gap-2 py-3 rounded-lg transition-colors ${e?"bg-indigo-600 text-white hover:bg-indigo-500":"bg-indigo-500 text-white hover:bg-indigo-400"}`,children:[y.jsx(jM,{size:16}),"Log Sleep"]}),y.jsx(Mr,{children:x&&y.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-4 rounded-lg border space-y-4 ${e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[y.jsx("h4",{className:`text-sm font-medium ${e?"text-white":"text-gray-800"}`,children:"Log Your Sleep"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:`block text-xs font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Bed Time"}),y.jsx("input",{type:"time",value:a,onChange:G=>l(G.target.value),className:`w-full px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),y.jsxs("div",{children:[y.jsx("label",{className:`block text-xs font-medium mb-1 ${e?"text-gray-300":"text-gray-700"}`,children:"Wake Time"}),y.jsx("input",{type:"time",value:c,onChange:G=>d(G.target.value),className:`w-full px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]})]}),a&&c&&y.jsxs("div",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:["Duration: ",U()," hours"]}),y.jsxs("div",{children:[y.jsx("label",{className:`block text-xs font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Sleep Quality"}),y.jsx("div",{className:"flex justify-between gap-2",children:lT.map(G=>y.jsxs("button",{onClick:()=>m(G.level),className:`flex flex-col items-center p-2 rounded-lg transition-colors ${p===G.level?e?"bg-indigo-600/30 ring-1 ring-indigo-500":"bg-indigo-100 ring-1 ring-indigo-400":e?"hover:bg-gray-600":"hover:bg-gray-100"}`,children:[y.jsx("span",{className:"text-lg mb-1",children:G.emoji}),y.jsx("span",{className:`text-xs ${G.color}`,children:G.label})]},G.level))})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:B,disabled:!a||!c,className:`flex-1 py-2 rounded-lg transition-colors ${a&&c?"bg-green-500 text-white hover:bg-green-400":e?"bg-gray-800 text-gray-600":"bg-gray-200 text-gray-400"}`,children:"Save Sleep Log"}),y.jsx("button",{onClick:()=>E(!1),className:`px-4 py-2 rounded-lg transition-colors ${e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cancel"})]})]})}),y.jsx(W,{}),y.jsxs("div",{className:`grid grid-cols-3 gap-4 pt-4 border-t ${e?"border-gray-700":"border-gray-200"}`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-indigo-400":"text-indigo-600"}`,children:lT[p-1]?.emoji||"😴"}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Quality"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${j?"text-green-500":"text-yellow-500"}`,children:j?"✅":"⚠️"}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Status"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-purple-400":"text-purple-600"}`,children:Math.round(t*60)}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Minutes"})]})]}),y.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-indigo-900/20":"bg-indigo-50"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(gy,{className:"text-indigo-500",size:16}),y.jsx("span",{className:`text-sm font-medium ${e?"text-indigo-300":"text-indigo-700"}`,children:"Sleep Tip"})]}),y.jsx("p",{className:`text-xs ${e?"text-indigo-200":"text-indigo-600"}`,children:t<6?"Aim for 7-9 hours of sleep. Try establishing a consistent bedtime routine.":t<7?"Good start! Try going to bed 30 minutes earlier for optimal rest.":j?"Perfect sleep duration! Keep maintaining this healthy sleep schedule.":"You might be getting too much sleep. Consider adjusting your bedtime."})]})]})}const Ql={pomodoro:{work:25,shortBreak:5,longBreak:15,cycles:4},study:{work:50,shortBreak:10,longBreak:30,cycles:3},focus:{work:30,shortBreak:5,longBreak:20,cycles:4},custom:{work:25,shortBreak:5,longBreak:15,cycles:4}},at={WORK:"work",SHORT_BREAK:"shortBreak",LONG_BREAK:"longBreak",STOPPED:"stopped"},RU=[{name:"None",value:"none"},{name:"Rain",value:"rain",emoji:"🌧️"},{name:"Forest",value:"forest",emoji:"🌲"},{name:"Ocean",value:"ocean",emoji:"🌊"},{name:"Coffee Shop",value:"cafe",emoji:"☕"}];function NU(){const{t:n}=Gn(),{darkMode:e,addXP:t}=et(),{addStudySession:r}=fU(),[s,a]=V.useState("pomodoro"),[l,c]=V.useState(at.STOPPED),[d,p]=V.useState(Ql.pomodoro.work*60),[m,v]=V.useState(!1),[x,E]=V.useState(1),[P,C]=V.useState(0),[b,j]=V.useState(!1),[U,B]=V.useState(Ql.custom),[H,W]=V.useState("none"),[G,k]=V.useState(""),[I,R]=V.useState(0),M=s==="custom"?U:Ql[s],F=M.cycles;V.useEffect(()=>{if(!m)return;const L=setInterval(()=>{p(Z=>Z>0?Z-1:(v(!1),z(),0))},1e3);return()=>clearInterval(L)},[m]);const z=()=>{l===at.WORK?(C(L=>L+1),R(L=>L+1),t(50),r({subject:G||"Study Session",duration:M.work,type:"pomodoro"}),x>=F?(c(at.LONG_BREAK),p(M.longBreak*60),E(1)):(c(at.SHORT_BREAK),p(M.shortBreak*60),E(L=>L+1))):(c(at.WORK),p(M.work*60)),v(!0)},D=()=>{l===at.STOPPED&&(c(at.WORK),p(M.work*60)),v(!0)},he=()=>{v(!1)},Me=()=>{v(!1),c(at.STOPPED),p(M.work*60),E(1)},pe=L=>{a(L),Me();const Z=L==="custom"?U:Ql[L];p(Z.work*60)},ue=L=>{const Z=Math.floor(L/60),ye=L%60;return`${String(Z).padStart(2,"0")}:${String(ye).padStart(2,"0")}`},J=()=>{switch(l){case at.WORK:return"text-red-500";case at.SHORT_BREAK:return"text-green-500";case at.LONG_BREAK:return"text-blue-500";default:return e?"text-white":"text-gray-800"}},le=()=>{switch(l){case at.WORK:return"stroke-red-500";case at.SHORT_BREAK:return"stroke-green-500";case at.LONG_BREAK:return"stroke-blue-500";default:return"stroke-gray-400"}},ie=()=>{const L=l===at.WORK?M.work*60:l===at.SHORT_BREAK?M.shortBreak*60:M.longBreak*60,Z=(L-d)/L*100,ye=2*Math.PI*90,Ne=ye,De=ye-Z/100*ye;return y.jsxs("div",{className:"relative w-48 h-48",children:[y.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 200 200",children:[y.jsx("circle",{cx:"100",cy:"100",r:"90",stroke:e?"#374151":"#e5e7eb",strokeWidth:"8",fill:"none"}),y.jsx(we.circle,{cx:"100",cy:"100",r:"90",stroke:"currentColor",strokeWidth:"8",fill:"none",className:le(),strokeLinecap:"round",strokeDasharray:Ne,strokeDashoffset:De,initial:{strokeDashoffset:ye},animate:{strokeDashoffset:De},transition:{duration:.5}})]}),y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[y.jsx("div",{className:`text-4xl font-mono font-bold ${J()}`,children:ue(d)}),y.jsxs("div",{className:`text-sm mt-1 ${e?"text-gray-400":"text-gray-500"}`,children:[l===at.WORK&&"Focus Time",l===at.SHORT_BREAK&&"Short Break",l===at.LONG_BREAK&&"Long Break",l===at.STOPPED&&"Ready to Start"]})]})]})};return y.jsxs("div",{className:`rounded-2xl shadow-sm border p-6 space-y-6 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:`font-semibold text-lg flex items-center gap-2 ${e?"text-white":"text-gray-800"}`,children:[y.jsx(JM,{className:"text-red-500",size:20}),n("pomodoro")]}),y.jsx("button",{onClick:()=>j(!b),className:`p-2 rounded-lg transition-colors ${e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:y.jsx(nd,{size:16,className:e?"text-gray-300":"text-gray-600"})})]}),y.jsx(Mr,{children:b&&y.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-4 rounded-lg border space-y-4 ${e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[y.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:"Timer Settings"}),y.jsxs("div",{children:[y.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Timer Preset"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(Ql).map(L=>y.jsx("button",{onClick:()=>pe(L),className:`p-2 rounded-lg text-sm transition-colors ${s===L?e?"bg-red-600/30 ring-1 ring-red-500":"bg-red-100 ring-1 ring-red-400":e?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-100"}`,children:L.charAt(0).toUpperCase()+L.slice(1)},L))})]}),y.jsxs("div",{children:[y.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Study Subject"}),y.jsx("input",{type:"text",placeholder:"What are you studying?",value:G,onChange:L=>k(L.target.value),className:`w-full px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`})]}),y.jsxs("div",{children:[y.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-700"}`,children:"Background Sound"}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:RU.map(L=>y.jsxs("button",{onClick:()=>W(L.value),className:`p-2 rounded-lg text-sm transition-colors ${H===L.value?e?"bg-blue-600/30 ring-1 ring-blue-500":"bg-blue-100 ring-1 ring-blue-400":e?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-100"}`,children:[y.jsx("div",{children:L.emoji}),y.jsx("div",{className:"text-xs",children:L.name})]},L.value))})]})]})}),y.jsx("div",{className:"flex justify-center",children:y.jsx(ie,{})}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("span",{className:`text-sm font-medium ${e?"text-gray-300":"text-gray-700"}`,children:["Cycle ",x," of ",F]}),y.jsxs("span",{className:`text-sm font-bold ${J()}`,children:[P," completed"]})]}),y.jsx("div",{className:`h-2 rounded-full overflow-hidden ${e?"bg-gray-700":"bg-gray-200"}`,children:y.jsx(we.div,{initial:{width:0},animate:{width:`${P/F*100}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-red-500 to-orange-500"})})]}),y.jsxs("div",{className:"flex items-center justify-center gap-4",children:[y.jsx("button",{onClick:Me,className:`flex items-center justify-center w-12 h-12 rounded-full transition-colors ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y.jsx(GM,{size:20})}),y.jsx(we.button,{onClick:m?he:D,whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center justify-center w-16 h-16 rounded-full text-white transition-colors ${m?"bg-yellow-500 hover:bg-yellow-400":"bg-red-500 hover:bg-red-400"}`,children:m?y.jsx(KM,{size:24}):y.jsx(kS,{size:24})}),y.jsx("button",{onClick:()=>j(!b),className:`flex items-center justify-center w-12 h-12 rounded-full transition-colors ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y.jsx(nd,{size:20})})]}),y.jsxs("div",{className:`grid grid-cols-3 gap-4 pt-4 border-t ${e?"border-gray-700":"border-gray-200"}`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-red-400":"text-red-600"}`,children:I}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Sessions"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:`text-lg font-bold ${e?"text-green-400":"text-green-600"}`,children:[Math.round(I*M.work/60*10)/10,"h"]}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Focus Time"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:l===at.WORK?"🔥":l!==at.STOPPED?"☕":"⏸️"}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Status"})]})]}),y.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-red-900/20":"bg-red-50"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(AS,{className:"text-red-500",size:16}),y.jsx("span",{className:`text-sm font-medium ${e?"text-red-300":"text-red-700"}`,children:"Focus Tip"})]}),y.jsx("p",{className:`text-xs ${e?"text-red-200":"text-red-600"}`,children:l===at.WORK?"Stay focused! You're building your concentration muscle.":l!==at.STOPPED?"Enjoy your break! Rest is essential for productivity.":"Ready to dive deep into focused work? Let's make this session count!"})]})]})}const Nh={EASY:{name:"Easy",interval:1,color:"text-green-500"},MEDIUM:{name:"Medium",interval:3,color:"text-yellow-500"},HARD:{name:"Hard",interval:7,color:"text-red-500"}},DU=[{id:1,question:"What is overfitting in machine learning?",answer:"Overfitting occurs when a model learns the training data too well, including noise and outliers, making it perform poorly on unseen data.",category:"Machine Learning",difficulty:"MEDIUM",lastReviewed:null,correctCount:0,incorrectCount:0},{id:2,question:"Define precision in classification metrics",answer:"Precision = TP / (TP + FP). It measures the proportion of positive predictions that were actually correct.",category:"Data Science",difficulty:"EASY",lastReviewed:null,correctCount:0,incorrectCount:0},{id:3,question:"What is the difference between supervised and unsupervised learning?",answer:"Supervised learning uses labeled data to train models for prediction, while unsupervised learning finds patterns in unlabeled data.",category:"Machine Learning",difficulty:"EASY",lastReviewed:null,correctCount:0,incorrectCount:0},{id:4,question:"Explain gradient descent algorithm",answer:"Gradient descent is an optimization algorithm that finds the minimum of a function by iteratively moving towards the steepest descent direction.",category:"Algorithms",difficulty:"HARD",lastReviewed:null,correctCount:0,incorrectCount:0}];function MU(){const{t:n}=Gn(),{darkMode:e,addXP:t}=et(),[r,s]=V.useState(DU),[a,l]=V.useState(0),[c,d]=V.useState(!1),[p,m]=V.useState("normal"),[v,x]=V.useState(!1),[E,P]=V.useState({question:"",answer:"",category:"",difficulty:"MEDIUM"}),[C,b]=V.useState({studied:0,correct:0,streak:0}),[j,U]=V.useState(["Machine Learning","Data Science","Algorithms"]),[B,H]=V.useState("All"),[W,G]=V.useState(!1),k=r[a],I=B==="All"?r:r.filter(pe=>pe.category===B),R=()=>{const pe=new Date;return r.filter(ue=>{if(!ue.lastReviewed)return!0;const J=Math.floor((pe-new Date(ue.lastReviewed))/(1e3*60*60*24)),le=Nh[ue.difficulty];return J>=le.interval})},M=(pe,ue)=>{s(J=>J.map(le=>{if(le.id===pe){const ie={...le,lastReviewed:new Date().toISOString(),correctCount:ue?le.correctCount+1:le.correctCount,incorrectCount:ue?le.incorrectCount:le.incorrectCount+1},L=ie.correctCount/(ie.correctCount+ie.incorrectCount);return L>.8&&ie.difficulty!=="EASY"?ie.difficulty="EASY":L<.5&&ie.difficulty!=="HARD"&&(ie.difficulty="HARD"),ie}return le})),b(J=>({studied:J.studied+1,correct:ue?J.correct+1:J.correct,streak:ue?J.streak+1:0})),t(ue?15:5)},F=()=>{d(!1),l(p==="shuffle"?Math.floor(Math.random()*I.length):pe=>(pe+1)%I.length)},z=()=>{d(!1),l(pe=>(pe-1+I.length)%I.length)},D=()=>{d(!c)},he=()=>{if(E.question&&E.answer){const pe={id:Date.now(),...E,lastReviewed:null,correctCount:0,incorrectCount:0};s(ue=>[...ue,pe]),j.includes(E.category)||U(ue=>[...ue,E.category]),P({question:"",answer:"",category:"",difficulty:"MEDIUM"}),x(!1),t(10)}},Me=()=>y.jsx(we.div,{initial:{rotateY:90},animate:{rotateY:0},transition:{duration:.3},className:`relative w-full h-80 rounded-xl cursor-pointer ${e?"bg-gray-700":"bg-white"} shadow-lg border ${e?"border-gray-600":"border-gray-200"}`,onClick:D,children:y.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("span",{className:`text-xs px-2 py-1 rounded ${e?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-600"}`,children:k?.category}),y.jsx("span",{className:`text-xs ${Nh[k?.difficulty]?.color}`,children:Nh[k?.difficulty]?.name})]}),y.jsx("div",{className:"flex-1 flex items-center justify-center text-center",children:y.jsx(Mr,{mode:"wait",children:c?y.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`text-base ${e?"text-gray-300":"text-gray-700"}`,children:k?.answer},"answer"):y.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`text-lg font-medium ${e?"text-white":"text-gray-800"}`,children:k?.question},"question")})}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:[a+1," / ",I.length]}),y.jsxs("span",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["Click to ",c?"hide":"reveal"," answer"]})]})]})},k?.id);return y.jsxs("div",{className:`rounded-2xl shadow-sm border p-6 space-y-6 ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:`font-semibold text-lg flex items-center gap-2 ${e?"text-white":"text-gray-800"}`,children:[y.jsx(kM,{className:"text-purple-500",size:20}),n("flashcards")]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>G(!0),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${e?"bg-blue-600 text-white hover:bg-blue-500":"bg-blue-500 text-white hover:bg-blue-400"}`,children:y.jsx(s_,{size:14})}),y.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${e?"bg-purple-600 text-white hover:bg-purple-500":"bg-purple-500 text-white hover:bg-purple-400"}`,children:y.jsx(Fd,{size:14})})]})]}),y.jsxs("div",{className:`grid grid-cols-3 gap-4 p-4 rounded-lg ${e?"bg-gray-700/50":"bg-gray-50"}`,children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-purple-400":"text-purple-600"}`,children:C.studied}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Studied"})]}),y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:`text-lg font-bold ${e?"text-green-400":"text-green-600"}`,children:[C.studied>0?Math.round(C.correct/C.studied*100):0,"%"]}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Accuracy"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`text-lg font-bold ${e?"text-orange-400":"text-orange-600"}`,children:C.streak}),y.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:"Streak"})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("select",{value:B,onChange:pe=>H(pe.target.value),className:`px-3 py-1.5 rounded-lg text-sm border transition-colors ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[y.jsx("option",{value:"All",children:"All Categories"}),j.map(pe=>y.jsx("option",{value:pe,children:pe},pe))]}),y.jsxs("select",{value:p,onChange:pe=>m(pe.target.value),className:`px-3 py-1.5 rounded-lg text-sm border transition-colors ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[y.jsx("option",{value:"normal",children:"Normal"}),y.jsx("option",{value:"spaced",children:"Spaced Repetition"}),y.jsx("option",{value:"shuffle",children:"Shuffle"})]})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsxs("span",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:[R().length," due for review"]})})]}),k&&y.jsx(Me,{}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("button",{onClick:z,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[y.jsx(DM,{size:16}),"Previous"]}),c&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(we.button,{onClick:()=>{M(k.id,!1),F()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-400 transition-colors",children:[y.jsx(OM,{size:16}),"Incorrect"]}),y.jsxs(we.button,{onClick:()=>{M(k.id,!0),F()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-green-500 text-white hover:bg-green-400 transition-colors",children:[y.jsx(LM,{size:16}),"Correct"]})]}),y.jsxs("button",{onClick:F,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Next",y.jsx(MM,{size:16})]})]}),y.jsx(Mr,{children:v&&y.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-4 rounded-lg border space-y-4 ${e?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[y.jsx("h4",{className:`font-medium ${e?"text-white":"text-gray-800"}`,children:"Create New Flashcard"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"text",placeholder:"Question",value:E.question,onChange:pe=>P(ue=>({...ue,question:pe.target.value})),className:`w-full px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),y.jsx("textarea",{placeholder:"Answer",value:E.answer,onChange:pe=>P(ue=>({...ue,answer:pe.target.value})),rows:3,className:`w-full px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("input",{type:"text",placeholder:"Category",value:E.category,onChange:pe=>P(ue=>({...ue,category:pe.target.value})),className:`px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),y.jsx("select",{value:E.difficulty,onChange:pe=>P(ue=>({...ue,difficulty:pe.target.value})),className:`px-3 py-2 rounded-lg border transition-colors ${e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:Object.entries(Nh).map(([pe,ue])=>y.jsx("option",{value:pe,children:ue.name},pe))})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:he,className:"flex-1 py-2 rounded-lg bg-green-500 text-white hover:bg-green-400 transition-colors",children:"Create Card"}),y.jsx("button",{onClick:()=>x(!1),className:`px-4 py-2 rounded-lg transition-colors ${e?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Cancel"})]})]})}),y.jsx(Mr,{children:W&&y.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>G(!1),children:y.jsxs(we.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},onClick:pe=>pe.stopPropagation(),className:`w-full max-w-md p-6 rounded-xl ${e?"bg-gray-800":"bg-white"}`,children:[y.jsx("h3",{className:`text-lg font-semibold mb-4 ${e?"text-white":"text-gray-800"}`,children:n("uploadPDF")}),y.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${e?"border-gray-600":"border-gray-300"}`,children:[y.jsx(s_,{size:48,className:`mx-auto mb-4 ${e?"text-gray-400":"text-gray-500"}`}),y.jsx("p",{className:`text-sm ${e?"text-gray-300":"text-gray-600"}`,children:"Drop PDF files here or click to browse"}),y.jsx("p",{className:`text-xs mt-2 ${e?"text-gray-400":"text-gray-500"}`,children:"AI will generate flashcards from your documents"})]}),y.jsx("button",{onClick:()=>G(!1),className:"w-full mt-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-400 transition-colors",children:"Close"})]})})}),y.jsxs("div",{className:`p-3 rounded-lg ${e?"bg-purple-900/20":"bg-purple-50"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(py,{className:"text-purple-500",size:16}),y.jsx("span",{className:`text-sm font-medium ${e?"text-purple-300":"text-purple-700"}`,children:"Study Tip"})]}),y.jsx("p",{className:`text-xs ${e?"text-purple-200":"text-purple-600"}`,children:p==="spaced"?"Spaced repetition helps you remember information longer. Focus on cards due for review!":c?"Be honest about your performance. This helps the system adapt to your learning pace.":"Try to recall the answer before revealing it. Active recall strengthens memory formation."})]})]})}function VU(){const{t:n}=Gn(),{darkMode:e,user:t,level:r,xp:s,shinePoints:a}=et();return y.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${e?"bg-gray-900":"bg-slate-50"}`,children:[y.jsx(wU,{}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 pb-10",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[280px,1fr] gap-6",children:[y.jsx("div",{className:"lg:sticky lg:top-20 lg:h-fit",children:y.jsx(TU,{})}),y.jsxs(we.main,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[y.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:`p-6 rounded-2xl ${e?"bg-gradient-to-r from-purple-900/50 to-blue-900/50 border border-gray-700":"bg-gradient-to-r from-purple-100 to-blue-100 border border-gray-200"}`,children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:`text-2xl font-bold ${e?"text-white":"text-gray-800"}`,children:["Welcome back, ",t?.displayName?.split(" ")[0]||"Student","! 👋"]}),y.jsx("p",{className:`mt-1 ${e?"text-gray-300":"text-gray-600"}`,children:"Ready to continue your journey of growth and learning?"})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:["Level ",r]}),y.jsxs("div",{className:`text-lg font-bold ${e?"text-purple-400":"text-purple-600"}`,children:[s," XP"]}),y.jsxs("div",{className:`text-sm ${e?"text-amber-400":"text-amber-600"}`,children:[a," ✨ Shine Points"]})]})]})}),y.jsxs(we.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[y.jsx("h2",{className:`text-xl font-semibold mb-4 ${e?"text-white":"text-gray-800"}`,children:"🎯 Mood & Emotional Wellness"}),y.jsx(EU,{})]}),y.jsxs(we.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[y.jsx("h2",{className:`text-xl font-semibold mb-4 ${e?"text-white":"text-gray-800"}`,children:"💪 Physical Wellness Tracking"}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsx(bU,{}),y.jsx(AU,{})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[y.jsx(CU,{}),y.jsx(kU,{})]})]}),y.jsxs(we.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[y.jsx("h2",{className:`text-xl font-semibold mb-4 ${e?"text-white":"text-gray-800"}`,children:"📚 Academic Excellence Suite"}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsx(NU,{}),y.jsx(MU,{})]})]}),y.jsxs(we.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:`p-6 rounded-2xl ${e?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:[y.jsx("h3",{className:`text-lg font-semibold mb-4 ${e?"text-white":"text-gray-800"}`,children:"⚡ Quick Actions"}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:"📝",label:"Add Task",color:"blue"},{icon:"🎯",label:"Set Goal",color:"green"},{icon:"📖",label:"Study Plan",color:"purple"},{icon:"📊",label:"View Reports",color:"orange"}].map((l,c)=>y.jsxs(we.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-xl text-center transition-colors ${e?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-50 hover:bg-gray-100 text-gray-800"}`,children:[y.jsx("div",{className:"text-2xl mb-2",children:l.icon}),y.jsx("div",{className:"text-sm font-medium",children:l.label})]},l.label))})]}),y.jsx(we.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:`p-6 rounded-2xl ${e?"bg-gradient-to-r from-violet-900/50 to-purple-900/50 border border-gray-700":"bg-gradient-to-r from-violet-50 to-purple-50 border border-gray-200"}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx("h3",{className:`text-lg font-semibold mb-2 ${e?"text-white":"text-gray-800"}`,children:"💎 Daily Inspiration"}),y.jsxs("p",{className:`text-base italic ${e?"text-violet-300":"text-violet-700"}`,children:['"',n("emotionalSupport.growth"),'"']}),y.jsx("p",{className:`text-sm mt-2 ${e?"text-gray-400":"text-gray-600"}`,children:"Keep growing, keep learning, keep shining! ✨"})]})})]})]})})]})}function LU(){return y.jsx("div",{className:"min-h-screen grid place-items-center",children:y.jsxs("div",{className:"max-w-lg p-6",children:[y.jsx("h2",{className:"text-2xl font-semibold",children:"Welcome to Aurevo"}),y.jsx("p",{className:"text-slate-600 mt-2",children:"Tell us about your study goals and preferences. (Placeholder)"})]})})}const Ce=n=>typeof n=="string",Yl=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},cT=n=>n==null?"":""+n,OU=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},jU=/###/g,hT=n=>n&&n.indexOf("###")>-1?n.replace(jU,"."):n,dT=n=>!n||Ce(n),vu=(n,e,t)=>{const r=Ce(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(dT(n))return{};const a=hT(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return dT(n)?{}:{obj:n,k:hT(r[s])}},fT=(n,e,t)=>{const{obj:r,k:s}=vu(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=vu(n,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=vu(n,l,Object),c&&c.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=t},FU=(n,e,t,r)=>{const{obj:s,k:a}=vu(n,e,Object);s[a]=s[a]||[],s[a].push(t)},Id=(n,e)=>{const{obj:t,k:r}=vu(n,e);if(t)return t[r]},UU=(n,e,t)=>{const r=Id(n,t);return r!==void 0?r:Id(e,t)},VA=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Ce(n[r])||n[r]instanceof String||Ce(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):VA(n[r],e[r],t):n[r]=e[r]);return n},ga=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var $U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const BU=n=>Ce(n)?n.replace(/[&<>"'\/]/g,e=>$U[e]):n;class zU{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const HU=[" ",",","?","!",";"],WU=new zU(20),qU=(n,e,t)=>{e=e||"",t=t||"";const r=HU.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const s=WU.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!s.test(n);if(!a){const l=n.indexOf(t);l>0&&!s.test(n.substring(0,l))&&(a=!0)}return a},Ag=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let l,c="";for(let d=a;d<r.length;++d)if(d!==a&&(c+=t),c+=r[d],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;a+=d-a+1;break}s=l}return s},Ad=n=>n&&n.replace("_","-"),KU={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class Cd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||KU,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(Ce(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Cd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Cd(this.logger,e)}}var Dr=new Cd;class yf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(l=>{let[c,d]=l;for(let p=0;p<d;p++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(l=>{let[c,d]=l;for(let p=0;p<d;p++)c.apply(c,[e,...r])})}}class pT extends yf{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):Ce(r)&&a?c.push(...r.split(a)):c.push(r)));const d=Id(this.data,c);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),d||!l||!Ce(r)?d:Ag(this.data&&this.data[e]&&this.data[e][t],r,a)}addResource(e,t,r,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),s=t,t=c[1]),this.addNamespaces(t),fT(this.data,c,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(Ce(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),s=r,r=t,t=c[1]),this.addNamespaces(t);let d=Id(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?VA(d,r,a):d={...d,...r},fT(this.data,c,d),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var LA={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,t,r,s))}),e}};const mT={};class Pd extends yf{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),OU(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Dr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return r&&r.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!qU(e,r,s);if(l&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Ce(a)?[a]:a};const p=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(p[0])>-1)&&(a=p.shift()),e=p.join(s)}return{key:e,namespaces:Ce(a)?[a]:a}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],t),d=c[c.length-1],p=t.lng||this.language,m=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(m){const H=t.nsSeparator||this.options.nsSeparator;return s?{res:`${d}${H}${l}`,usedKey:l,exactUsedKey:l,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(t)}:`${d}${H}${l}`}return s?{res:l,usedKey:l,exactUsedKey:l,usedLng:p,usedNS:d,usedParams:this.getUsedParamsDetails(t)}:l}const v=this.resolve(e,t);let x=v&&v.res;const E=v&&v.usedKey||l,P=v&&v.exactUsedKey||l,C=Object.prototype.toString.apply(x),b=["[object Number]","[object Function]","[object RegExp]"],j=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,U=!this.i18nFormat||this.i18nFormat.handleAsObject,B=!Ce(x)&&typeof x!="boolean"&&typeof x!="number";if(U&&x&&B&&b.indexOf(C)<0&&!(Ce(j)&&Array.isArray(x))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,x,{...t,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(v.res=H,v.usedParams=this.getUsedParamsDetails(t),v):H}if(a){const H=Array.isArray(x),W=H?[]:{},G=H?P:E;for(const k in x)if(Object.prototype.hasOwnProperty.call(x,k)){const I=`${G}${a}${k}`;W[k]=this.translate(I,{...t,joinArrays:!1,ns:c}),W[k]===I&&(W[k]=x[k])}x=W}}else if(U&&Ce(j)&&Array.isArray(x))x=x.join(j),x&&(x=this.extendTranslation(x,e,t,r));else{let H=!1,W=!1;const G=t.count!==void 0&&!Ce(t.count),k=Pd.hasDefaultValue(t),I=G?this.pluralResolver.getSuffix(p,t.count,t):"",R=t.ordinal&&G?this.pluralResolver.getSuffix(p,t.count,{ordinal:!1}):"",M=G&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),F=M&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${I}`]||t[`defaultValue${R}`]||t.defaultValue;!this.isValidLookup(x)&&k&&(H=!0,x=F),this.isValidLookup(x)||(W=!0,x=l);const D=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:x,he=k&&F!==x&&this.options.updateMissing;if(W||H||he){if(this.logger.log(he?"updateKey":"missingKey",p,d,l,he?F:x),a){const J=this.resolve(l,{...t,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Me=[];const pe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pe&&pe[0])for(let J=0;J<pe.length;J++)Me.push(pe[J]);else this.options.saveMissingTo==="all"?Me=this.languageUtils.toResolveHierarchy(t.lng||this.language):Me.push(t.lng||this.language);const ue=(J,le,ie)=>{const L=k&&ie!==x?ie:D;this.options.missingKeyHandler?this.options.missingKeyHandler(J,d,le,L,he,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(J,d,le,L,he,t),this.emit("missingKey",J,d,le,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&G?Me.forEach(J=>{const le=this.pluralResolver.getSuffixes(J,t);M&&t[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(ie=>{ue([J],l+ie,t[`defaultValue${ie}`]||F)})}):ue(Me,l,F))}x=this.extendTranslation(x,e,t,v,r),W&&x===l&&this.options.appendNamespaceToMissingKey&&(x=`${d}:${l}`),(W||H)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}:${l}`:l,H?x:void 0):x=this.options.parseMissingKeyHandler(x))}return s?(v.res=x,v.usedParams=this.getUsedParamsDetails(t),v):x}extendTranslation(e,t,r,s,a){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=Ce(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(p){const x=e.match(this.interpolator.nestingRegexp);m=x&&x.length}let v=r.replace&&!Ce(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||s.usedLng,r),p){const x=e.match(this.interpolator.nestingRegexp),E=x&&x.length;m<E&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var x=arguments.length,E=new Array(x),P=0;P<x;P++)E[P]=arguments[P];return a&&a[0]===E[0]&&!r.context?(l.logger.warn(`It seems you are nesting recursively key: ${E[0]} in key: ${t[0]}`),null):l.translate(...E,t)},r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,d=Ce(c)?[c]:c;return e!=null&&d&&d.length&&r.applyPostProcessor!==!1&&(e=LA.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,a,l,c;return Ce(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const p=this.extractFromKey(d,t),m=p.key;s=m;let v=p.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const x=t.count!==void 0&&!Ce(t.count),E=x&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),P=t.context!==void 0&&(Ce(t.context)||typeof t.context=="number")&&t.context!=="",C=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(b=>{this.isValidLookup(r)||(c=b,!mT[`${C[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(c)&&(mT[`${C[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${C.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(j=>{if(this.isValidLookup(r))return;l=j;const U=[m];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(U,m,j,b,t);else{let H;x&&(H=this.pluralResolver.getSuffix(j,t.count,t));const W=`${this.options.pluralSeparator}zero`,G=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(U.push(m+H),t.ordinal&&H.indexOf(G)===0&&U.push(m+H.replace(G,this.options.pluralSeparator)),E&&U.push(m+W)),P){const k=`${m}${this.options.contextSeparator}${t.context}`;U.push(k),x&&(U.push(k+H),t.ordinal&&H.indexOf(G)===0&&U.push(k+H.replace(G,this.options.pluralSeparator)),E&&U.push(k+W))}}let B;for(;B=U.pop();)this.isValidLookup(r)||(a=B,r=this.getResource(j,b,B,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ce(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}const km=n=>n.charAt(0).toUpperCase()+n.slice(1);class gT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Dr.create("languageUtils")}getScriptPartFromCode(e){if(e=Ad(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ad(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ce(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=km(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=km(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=km(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ce(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],a=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Ce(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Ce(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}}let GU=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],QU={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const YU=["v1","v2","v3"],XU=["v4"],yT={zero:0,one:1,two:2,few:3,many:4,other:5},JU=()=>{const n={};return GU.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:QU[e.fc]}})}),n};class ZU{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Dr.create("pluralResolver"),(!this.options.compatibilityJSON||XU.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=JU(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Ad(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:s})}catch{if(!e.match(/-|_/))return;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,t)}return this.pluralRulesCache[a]=l,l}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,a)=>yT[s]-yT[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const a=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!YU.includes(this.options.compatibilityJSON)}}const vT=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=UU(n,e,t);return!a&&s&&Ce(t)&&(a=Ag(n,t,r),a===void 0&&(a=Ag(e,t,r))),a},Rm=n=>n.replace(/\$/g,"$$$$");class e${constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Dr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:p,unescapeSuffix:m,unescapePrefix:v,nestingPrefix:x,nestingPrefixEscaped:E,nestingSuffix:P,nestingSuffixEscaped:C,nestingOptionsSeparator:b,maxReplaces:j,alwaysFormat:U}=e.interpolation;this.escape=t!==void 0?t:BU,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?ga(a):l||"{{",this.suffix=c?ga(c):d||"}}",this.formatSeparator=p||",",this.unescapePrefix=m?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=x?ga(x):E||ga("$t("),this.nestingSuffix=P?ga(P):C||ga(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=j||1e3,this.alwaysFormat=U!==void 0?U:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let a,l,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=E=>{if(E.indexOf(this.formatSeparator)<0){const j=vT(t,d,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...s,...t,interpolationkey:E}):j}const P=E.split(this.formatSeparator),C=P.shift().trim(),b=P.join(this.formatSeparator).trim();return this.format(vT(t,d,C,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...s,...t,interpolationkey:C})};this.resetRegExp();const m=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>Rm(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?Rm(this.escape(E)):Rm(E)}].forEach(E=>{for(c=0;a=E.regex.exec(e);){const P=a[1].trim();if(l=p(P),l===void 0)if(typeof m=="function"){const b=m(e,a,s);l=Ce(b)?b:""}else if(s&&Object.prototype.hasOwnProperty.call(s,P))l="";else if(v){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),l="";else!Ce(l)&&!this.useRawValueToEscape&&(l=cT(l));const C=E.safeValue(l);if(e=e.replace(a[0],C),v?(E.regex.lastIndex+=l.length,E.regex.lastIndex-=a[0].length):E.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,l;const c=(d,p)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const v=d.split(new RegExp(`${m}[ ]*{`));let x=`{${v[1]}`;d=v[0],x=this.interpolate(x,l);const E=x.match(/'/g),P=x.match(/"/g);(E&&E.length%2===0&&!P||P.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),p&&(l={...p,...l})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,C),`${d}${m}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;s=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!Ce(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let p=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const m=s[1].split(this.formatSeparator).map(v=>v.trim());s[1]=m.shift(),d=m,p=!0}if(a=t(c.call(this,s[1].trim(),l),l),a&&s[0]===e&&!Ce(a))return a;Ce(a)||(a=cT(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),p&&(a=d.reduce((m,v)=>this.format(m,v,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const t$=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...d]=l.split(":"),p=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();t[m]||(t[m]=p),p==="false"&&(t[m]=!1),p==="true"&&(t[m]=!0),isNaN(p)||(t[m]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},ya=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=n(Ad(r),s),e[l]=c),c(t)}};class n${constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Dr.create("formatter"),this.options=e,this.formats={number:ya((t,r)=>{const s=new Intl.NumberFormat(t,{...r});return a=>s.format(a)}),currency:ya((t,r)=>{const s=new Intl.NumberFormat(t,{...r,style:"currency"});return a=>s.format(a)}),datetime:ya((t,r)=>{const s=new Intl.DateTimeFormat(t,{...r});return a=>s.format(a)}),relativetime:ya((t,r)=>{const s=new Intl.RelativeTimeFormat(t,{...r});return a=>s.format(a,r.range||"day")}),list:ya((t,r)=>{const s=new Intl.ListFormat(t,{...r});return a=>s.format(a)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ya(t)}format(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{const{formatName:p,formatOptions:m}=t$(d);if(this.formats[p]){let v=c;try{const x=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},E=x.locale||x.lng||s.locale||s.lng||r;v=this.formats[p](c,E,{...m,...s,...x})}catch(x){this.logger.warn(x)}return v}else this.logger.warn(`there was no format function for ${p}`);return c},e)}}const r$=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class s$ extends yf{constructor(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Dr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,t,r,s){const a={},l={},c={},d={};return e.forEach(p=>{let m=!0;t.forEach(v=>{const x=`${p}|${v}`;!r.reload&&this.store.hasResourceBundle(p,v)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,m=!1,l[x]===void 0&&(l[x]=!0),a[x]===void 0&&(a[x]=!0),d[v]===void 0&&(d[v]=!0)))}),m||(c[p]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,t,r){const s=e.split("|"),a=s[0],l=s[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(d=>{FU(d.loaded,[a],l),r$(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(p=>{c[p]||(c[p]={});const m=d.loaded[p];m.length&&m.forEach(v=>{c[p][v]===void 0&&(c[p][v]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:l});return}this.readingCalls++;const c=(p,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(p&&m&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,l)},a);return}l(p,m)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const p=d(e,t);p&&typeof p.then=="function"?p.then(m=>c(null,m)).catch(c):c(null,p)}catch(p){c(p)}return}return d(e,t,c)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Ce(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ce(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,s,a){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const d={...l,isUpdate:a},p=this.backend.create.bind(this.backend);if(p.length<6)try{let m;p.length===5?m=p(e,t,r,s,d):m=p(e,t,r,s),m&&typeof m.then=="function"?m.then(v=>c(null,v)).catch(c):c(null,m)}catch(m){c(m)}else p(e,t,r,s,c,d)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const xT=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ce(n[1])&&(e.defaultValue=n[1]),Ce(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),wT=n=>(Ce(n.ns)&&(n.ns=[n.ns]),Ce(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ce(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),Dh=()=>{},i$=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Ou extends yf{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=wT(e),this.services={},this.logger=Dr,this.modules={external:[]},i$(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(Ce(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=xT();this.options={...s,...this.options,...wT(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Dr.init(a(this.modules.logger),this.options):Dr.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:typeof Intl<"u"&&(m=n$);const v=new gT(this.options);this.store=new pT(this.options.resources,this.options);const x=this.services;x.logger=Dr,x.resourceStore=this.store,x.languageUtils=v,x.pluralResolver=new ZU(v,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(x.formatter=a(m),x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new e$(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new s$(a(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",function(E){for(var P=arguments.length,C=new Array(P>1?P-1:0),b=1;b<P;b++)C[b-1]=arguments[b];e.emit(E,...C)}),this.modules.languageDetector&&(x.languageDetector=a(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=a(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new Pd(this.services,this.options),this.translator.on("*",function(E){for(var P=arguments.length,C=new Array(P>1?P-1:0),b=1;b<P;b++)C[b-1]=arguments[b];e.emit(E,...C)}),this.modules.external.forEach(E=>{E.init&&E.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Dh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=function(){return e.store[m](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=function(){return e.store[m](...arguments),e}});const d=Yl(),p=()=>{const m=(v,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(x),r(v,x)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),d}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dh;const s=Ce(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(p=>{p!=="cimode"&&a.indexOf(p)<0&&a.push(p)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload&&this.options.preload.forEach(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,t,r){const s=Yl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Dh),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&LA.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const s=Yl();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,p)=>{p?(a(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(d,function(){return r.t(...arguments)})},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const p=Ce(d)?d:this.services.languageUtils.getBestMatchFromCodes(d);p&&(this.language||a(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(p)),this.loadResources(p,m=>{l(m,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}getFixedT(e,t,r){var s=this;const a=function(l,c){let d;if(typeof c!="object"){for(var p=arguments.length,m=new Array(p>2?p-2:0),v=2;v<p;v++)m[v-2]=arguments[v];d=s.options.overloadTranslationOptionHandler([l,c].concat(m))}else d={...c};d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||a.keyPrefix);const x=s.options.keySeparator||".";let E;return d.keyPrefix&&Array.isArray(l)?E=l.map(P=>`${d.keyPrefix}${x}${P}`):E=d.keyPrefix?`${d.keyPrefix}${x}${l}`:l,s.t(E,d)};return Ce(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,d)=>{const p=this.services.backendConnector.state[`${c}|${d}`];return p===-1||p===0||p===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!s||l(a,e)))}loadNamespaces(e,t){const r=Yl();return this.options.ns?(Ce(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Yl();Ce(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new gT(xT());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Ou(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dh;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new Ou(s);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r&&(a.store=new pT(this.store.data,s),a.services.resourceStore=a.store),a.translator=new Pd(a.services,s),a.translator.on("*",function(c){for(var d=arguments.length,p=new Array(d>1?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];a.emit(c,...p)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const rn=Ou.createInstance();rn.createInstance=Ou.createInstance;rn.createInstance;rn.dir;rn.init;rn.loadResources;rn.reloadResources;rn.use;rn.changeLanguage;rn.getFixedT;rn.t;rn.exists;rn.setDefaultNamespace;rn.hasLoadedNamespace;rn.loadNamespaces;rn.loadLanguages;function o$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ju(n){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(n)}function a$(n,e){if(ju(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function l$(n){var e=a$(n,"string");return ju(e)=="symbol"?e:e+""}function u$(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,l$(r.key),r)}}function c$(n,e,t){return e&&u$(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var OA=[],h$=OA.forEach,d$=OA.slice;function f$(n){return h$.call(d$.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var _T=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,p$=function(e,t,r){var s=r||{};s.path=s.path||"/";var a=encodeURIComponent(t),l="".concat(e,"=").concat(a);if(s.maxAge>0){var c=s.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+="; Max-Age=".concat(Math.floor(c))}if(s.domain){if(!_T.test(s.domain))throw new TypeError("option domain is invalid");l+="; Domain=".concat(s.domain)}if(s.path){if(!_T.test(s.path))throw new TypeError("option path is invalid");l+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite){var d=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(d){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l},TT={create:function(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),s&&(a.domain=s),document.cookie=p$(e,encodeURIComponent(t),a)},read:function(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var a=r[s];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},m$={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var r=TT.read(e.lookupCookie);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&TT.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},g$={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),a=s.split("&"),l=0;l<a.length;l++){var c=a[l].indexOf("=");if(c>0){var d=a[l].substring(0,c);d===e.lookupQuerystring&&(t=a[l].substring(c+1))}}}return t}},Xl=null,ET=function(){if(Xl!==null)return Xl;try{Xl=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Xl=!1}return Xl},y$={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&ET()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&ET()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Jl=null,ST=function(){if(Jl!==null)return Jl;try{Jl=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Jl=!1}return Jl},v$={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&ST()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(t=r)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&ST()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},x$={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)t.push(navigator.languages[r]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},w$={name:"htmlTag",lookup:function(e){var t,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},_$={name:"path",lookup:function(e){var t;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;t=r[e.lookupFromPathIndex].replace("/","")}else t=r[0].replace("/","")}return t}},T$={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}},jA=!1;try{document.cookie,jA=!0}catch{}var FA=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];jA||FA.splice(1,1);function E$(){return{order:FA,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var UA=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o$(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return c$(n,[{key:"init",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=f$(r,this.options||{},E$()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(a){return a.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(m$),this.addDetector(g$),this.addDetector(y$),this.addDetector(v$),this.addDetector(x$),this.addDetector(w$),this.addDetector(_$),this.addDetector(T$)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var s=[];return t.forEach(function(a){if(r.detectors[a]){var l=r.detectors[a].lookup(r.options);l&&typeof l=="string"&&(l=[l]),l&&(s=s.concat(l))}}),s=s.map(function(a){return r.options.convertDetectedLanguage(a)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(a){s.detectors[a]&&s.detectors[a].cacheUserLanguage(t,s.options)}))}}])})();UA.type="languageDetector";const S$={en:{translation:{loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",submit:"Submit",close:"Close",dashboard:"Dashboard",mood:"Mood",wellness:"Wellness",study:"Study Suite",goals:"Goals",reports:"Reports",settings:"Settings",login:"Sign In",logout:"Sign Out",loginWithGoogle:"Continue with Google",loginWithGithub:"Continue with GitHub",welcomeBack:"Welcome back!",moodTitle:"Mood & Emotional Tracking",howAreYouFeeling:"How are you feeling today?",moodIntensity:"Intensity",addNotes:"Add notes...",logMood:"Log Mood",journalEntry:"Journal Entry",voiceJournal:"Voice Journal",hydrationTracker:"Hydration Tracker",calorieTracker:"Calorie Tracker",stepCounter:"Step Counter",sleepTracker:"Sleep Tracker",waterGoal:"Daily Water Goal",addWater:"Add Water",studySession:"Study Session",flashcards:"Flashcards",pomodoro:"Pomodoro Timer",syllabus:"Syllabus Tracker",uploadPDF:"Upload PDF",generateFlashcards:"Generate Flashcards",level:"Level",xpPoints:"XP Points",shinePoints:"Shine Points",streak:"Streak",achievements:"Achievements",avatar:"Avatar",moodLogged:"Mood logged successfully!",goalCompleted:"Congratulations! Goal completed!",streakMaintained:"Great job maintaining your streak!",levelUp:"Level up! You reached level {{level}}!",emotionalSupport:{growth:"You're not behind. You're growing.",progress:"Every step forward counts.",strength:"You're stronger than you think.",journey:"Your journey is unique and valuable.",rest:"It's okay to rest when you need to."}}},bn:{translation:{loading:"লোড হচ্ছে...",save:"সংরক্ষণ",cancel:"বাতিল",delete:"মুছুন",edit:"সম্পাদনা",submit:"জমা দিন",close:"বন্ধ",dashboard:"ড্যাশবোর্ড",mood:"মুড",wellness:"সুস্থতা",study:"অধ্যয়ন স্যুট",goals:"লক্ষ্য",reports:"রিপোর্ট",settings:"সেটিংস",login:"সাইন ইন",logout:"সাইন আউট",loginWithGoogle:"গুগল দিয়ে চালিয়ে যান",loginWithGithub:"গিটহাব দিয়ে চালিয়ে যান",welcomeBack:"স্বাগতম!",moodTitle:"মুড ও আবেগময় ট্র্যাকিং",howAreYouFeeling:"আজ আপনার কেমন লাগছে?",moodIntensity:"তীব্রতা",addNotes:"নোট যোগ করুন...",logMood:"মুড লগ করুন",journalEntry:"জার্নাল এন্ট্রি",voiceJournal:"ভয়েস জার্নাল",hydrationTracker:"হাইড্রেশন ট্র্যাকার",calorieTracker:"ক্যালোরি ট্র্যাকার",stepCounter:"স্টেপ কাউন্টার",sleepTracker:"ঘুম ট্র্যাকার",waterGoal:"দৈনিক পানির লক্ষ্য",addWater:"পানি যোগ করুন",emotionalSupport:{growth:"আপনি পিছিয়ে নেই। আপনি বেড়ে উঠছেন।",progress:"প্রতিটি এগিয়ে যাওয়া গুরুত্বপূর্ণ।",strength:"আপনি যতটা মনে করেন তার চেয়ে শক্তিশালী।",journey:"আপনার যাত্রা অনন্য এবং মূল্যবান।",rest:"প্রয়োজনে বিশ্রাম নেওয়া ঠিক আছে।"}}},hi:{translation:{loading:"लोड हो रहा है...",save:"सेव करें",cancel:"रद्द करें",delete:"डिलीट करें",edit:"एडिट करें",submit:"सबमिट करें",close:"बंद करें",dashboard:"डैशबोर्ड",mood:"मूड",wellness:"वेलनेस",study:"स्टडी स्यूट",goals:"लक्ष्य",reports:"रिपोर्ट",settings:"सेटिंग्स",emotionalSupport:{growth:"आप पीछे नहीं हैं। आप बढ़ रहे हैं।",progress:"हर कदम आगे बढ़ना मायने रखता है।",strength:"आप अपने विचार से ज्यादा मजबूत हैं।",journey:"आपकी यात्रा अनूठी और मूल्यवान है।",rest:"जरूरत पड़ने पर आराम करना ठीक है।"}}},es:{translation:{loading:"Cargando...",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",submit:"Enviar",close:"Cerrar",dashboard:"Panel",mood:"Estado de Ánimo",wellness:"Bienestar",study:"Suite de Estudio",goals:"Objetivos",reports:"Informes",settings:"Configuración",emotionalSupport:{growth:"No estás atrasado. Estás creciendo.",progress:"Cada paso hacia adelante cuenta.",strength:"Eres más fuerte de lo que piensas.",journey:"Tu viaje es único y valioso.",rest:"Está bien descansar cuando lo necesites."}}},fr:{translation:{loading:"Chargement...",save:"Sauvegarder",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",submit:"Soumettre",close:"Fermer",dashboard:"Tableau de bord",mood:"Humeur",wellness:"Bien-être",study:"Suite d'étude",goals:"Objectifs",reports:"Rapports",settings:"Paramètres",emotionalSupport:{growth:"Tu n'es pas en retard. Tu grandis.",progress:"Chaque pas en avant compte.",strength:"Tu es plus fort que tu ne le penses.",journey:"Ton voyage est unique et précieux.",rest:"C'est normal de se reposer quand tu en as besoin."}}},ar:{translation:{loading:"جاري التحميل...",save:"حفظ",cancel:"إلغاء",delete:"حذف",edit:"تعديل",submit:"إرسال",close:"إغلاق",dashboard:"لوحة القيادة",mood:"المزاج",wellness:"العافية",study:"مجموعة الدراسة",goals:"الأهداف",reports:"التقارير",settings:"الإعدادات",emotionalSupport:{growth:"أنت لست متأخرًا. أنت تنمو.",progress:"كل خطوة إلى الأمام مهمة.",strength:"أنت أقوى مما تعتقد.",journey:"رحلتك فريدة وقيمة.",rest:"لا بأس بالراحة عندما تحتاج إليها."}}}};rn.use(UA).use(Gk).init({resources:S$,fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},interpolation:{escapeValue:!1}});function b$(){const{user:n,loading:e}=pU(),{darkMode:t}=et(),{t:r}=Gn();return e?y.jsx("div",{className:`h-screen grid place-items-center ${t?"bg-gray-900 text-white":"bg-slate-50 text-slate-600"}`,children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600 mx-auto mb-4"}),y.jsx("p",{children:r("loading")})]})}):y.jsx("div",{className:t?"dark":"",children:y.jsxs("div",{className:"min-h-screen",children:[y.jsxs(HP,{children:[y.jsx(va,{path:"/",element:n?y.jsx(ma,{to:"/dashboard"}):y.jsx(ma,{to:"/login"})}),y.jsx(va,{path:"/login",element:n?y.jsx(ma,{to:"/dashboard"}):y.jsx(xU,{})}),y.jsx(va,{path:"/onboarding",element:n?y.jsx(LU,{}):y.jsx(ma,{to:"/login"})}),y.jsx(va,{path:"/dashboard",element:n?y.jsx(VU,{}):y.jsx(ma,{to:"/login"})}),y.jsx(va,{path:"*",element:y.jsx(ma,{to:"/"})})]}),y.jsx(Vk,{position:"top-right",toastOptions:{duration:4e3,style:{background:t?"#1f2937":"#ffffff",color:t?"#f9fafb":"#111827",border:t?"1px solid #374151":"1px solid #e5e7eb"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}ZC.createRoot(document.getElementById("root")).render(y.jsx(Cg.StrictMode,{children:y.jsx(KP,{children:y.jsx(b$,{})})}));
